<?xml version="1.0" encoding='utf-8'?>
<!-- <?xml-stylesheet type="text/xsl" href="../../../../../XSL/gat-a.xsl"?> -->
<!DOCTYPE jp-official-gazette PUBLIC "-//JPO//DTD PUBLISHED PATENT/UTILITY MODEL APPLICATION 1.0//EN" "../../../../../DTD/gat-a.dtd">
<jp-official-gazette kind-of-jp="A" kind-of-st16="A" lang="ja" dtd-version="1.0" country="JP" xmlns:jp="http://www.jpo.go.jp"><bibliographic-data lang="ja" country="JP">
    <publication-reference>
      <document-id>
        <country>JP</country>
        <doc-number>2011164949</doc-number>
        <kind>公開特許公報(A)</kind>
        <date>20110825</date>
      </document-id>
    </publication-reference>
    <application-reference>
      <document-id>
        <doc-number>2010027116</doc-number>
        <date>20100210</date>
      </document-id>
    </application-reference>
    <invention-title>情報処理装置、検索条件設定方法及びプログラム並びに記録媒体</invention-title>
    <parties>
      <jp:applicants-agents-article>
        <jp:applicants-agents sequence="1">
          <applicant sequence="1">
            <addressbook lang="ja">
              <name>キヤノン株式会社</name>
              <registered-number>000001007</registered-number>
              <address>
                <text>東京都大田区下丸子３丁目３０番２号</text>
              </address>
            </addressbook>
          </applicant>
          <agent sequence="1" jp:kind="representative">
            <addressbook>
              <name>田中  常雄</name>
              <registered-number>100090284</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
        </jp:applicants-agents>
      </jp:applicants-agents-article>
      <inventors>
        <inventor sequence="1">
          <addressbook>
            <name>齊藤  正則</name>
            <address>
              <text>東京都大田区下丸子３丁目３０番２号キヤノン株式会社内</text>
            </address>
          </addressbook>
        </inventor>
      </inventors>
    </parties>
    <classification-ipc><edition/><main-clsf>G06F   3/041       20060101AFI20110729BHJP        </main-clsf><further-clsf>G06F   3/048       20060101ALI20110729BHJP        </further-clsf><further-clsf>G06F  17/30        20060101ALI20110729BHJP        </further-clsf><further-clsf>A63F  13/00        20060101ALI20110729BHJP        </further-clsf><further-clsf>H04N   5/225       20060101ALI20110729BHJP        </further-clsf><further-clsf>H04N   5/232       20060101ALI20110729BHJP        </further-clsf><unlinked-indexing-code>H04N 101/00        20060101ALN20110729BHJP        </unlinked-indexing-code></classification-ipc>
    <classification-national><country>JP</country><main-clsf>G06F3/041 330B</main-clsf><further-clsf>G06F3/048 620</further-clsf><further-clsf>G06F3/048 656A</further-clsf><further-clsf>G06F17/30 320B</further-clsf><further-clsf>A63F13/00 F</further-clsf><further-clsf>H04N5/225 F</further-clsf><further-clsf>H04N5/232 Z</further-clsf><unlinked-indexing-code>H04N101:00</unlinked-indexing-code></classification-national>
    <number-of-claims jp:adopted-law="claim">4</number-of-claims>
    <figure-to-publish>
      <fig-number>1</fig-number>
    </figure-to-publish>
    <jp:request-for-examination true-or-false="false"/>
    <jp:filing-form>ＯＬ</jp:filing-form>
    <jp:total-pages>12</jp:total-pages>
    <jp:theme-code-info>
      <jp:theme-code>2C001</jp:theme-code>
      <jp:theme-code>5B075</jp:theme-code>
      <jp:theme-code>5B087</jp:theme-code>
      <jp:theme-code>5C122</jp:theme-code>
      <jp:theme-code>5E501</jp:theme-code>
    </jp:theme-code-info>
    <jp:f-term-info>
      <jp:f-term>2C001CA00</jp:f-term>
      <jp:f-term>2C001CA01</jp:f-term>
      <jp:f-term>5B075PP03</jp:f-term>
      <jp:f-term>5B075PP13</jp:f-term>
      <jp:f-term>5B075PP23</jp:f-term>
      <jp:f-term>5B087AA09</jp:f-term>
      <jp:f-term>5B087CC02</jp:f-term>
      <jp:f-term>5B087CC26</jp:f-term>
      <jp:f-term>5B087DD02</jp:f-term>
      <jp:f-term>5B087DE03</jp:f-term>
      <jp:f-term>5C122DA04</jp:f-term>
      <jp:f-term>5C122EA42</jp:f-term>
      <jp:f-term>5C122FH10</jp:f-term>
      <jp:f-term>5C122FH14</jp:f-term>
      <jp:f-term>5C122FH23</jp:f-term>
      <jp:f-term>5C122FK12</jp:f-term>
      <jp:f-term>5C122FL03</jp:f-term>
      <jp:f-term>5C122GA09</jp:f-term>
      <jp:f-term>5C122HB01</jp:f-term>
      <jp:f-term>5C122HB05</jp:f-term>
      <jp:f-term>5E501AA02</jp:f-term>
      <jp:f-term>5E501AA20</jp:f-term>
      <jp:f-term>5E501AC15</jp:f-term>
      <jp:f-term>5E501AC34</jp:f-term>
      <jp:f-term>5E501BA05</jp:f-term>
      <jp:f-term>5E501CA04</jp:f-term>
      <jp:f-term>5E501CB05</jp:f-term>
    </jp:f-term-info>
  </bibliographic-data><jp:image-of-bibliographic-data><img id="000001" he="140" wi="160" file="2011164949.tif" img-format="tif" img-content="drawing"/></jp:image-of-bibliographic-data><jp:image-of-chosen-drawing>
    <img id="000002" he="58" wi="68" file="2011164949.tif" img-format="tif" img-content="drawing"/>
  </jp:image-of-chosen-drawing><description>

<technical-field>
<p num="0001">
  本発明は、タッチパネルを備えた情報処理装置、検索条件設定方法及びプログラム並びに記録媒体に関する。
</p>
</technical-field>
<background-art>
<p num="0002">
  
</p>
</background-art>
<citation-list>
<patent-literature>
<p num="0003">
<patcit num="1"><text>特開２０００−１６３４４３号公報</text></patcit>
</p>
<p num="0004">
  タッチパネルを用いた従来機器には、画面上に表示された複数の検索条件に同時または所定時間以内に指で接触することによって、選択された検索条件の論理積を取るものがある（例えば特許文献１参照）。
</p>
</patent-literature>
</citation-list>
<summary-of-invention>
<tech-problem>
<p num="0005">
  しかし、従来例ではタッチパネル上の複数の箇所を同時または所定時間以内に指定する必要があるので、以下のような問題点があった。
</p>
<p num="0006">
  第１に、タッチパネル上の複数の箇所を同時に指定する場合、一度に複数の接触点を検知することができるタッチパネルが必須となる。また、２つ以上の指示物を用いて指定する必要があり、物理的な制約となる。
</p>
<p num="0007">
  第２に、タッチパネル上の複数の箇所を所定時間以内に指定する場合、ある程度以上の早い動きが要求される。また、所定時間が長すぎると、ユーザが意図しないところで論理積を取ってしまい、誤った検索条件が設定されてしまう可能性がある。
</p>
<p num="0008">
  本発明は、このような不都合を解消する情報処理装置、方法及びプログラム、並びに記録媒体を提示することを目的とする。
</p>
</tech-problem>
<tech-solution>
<p num="0009">
  本発明に係る情報処理装置は、複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルと、前記タッチパネルの操作により検索条件を設定する手段であって、前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続し、前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続する手段とを具備することを特徴とする。
</p>
<p num="0010">
  本発明に係る検索条件設定方法は、複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定する方法であって、前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続し、前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続することを特徴とする。
</p>
<p num="0011">
  本発明に係る検索条件設定プログラムは、複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定するプログラムであって、前記情報処理装置に、前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続させる機能と、前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続させる機能とを実現させるためのものである。
</p>
<p num="0012">
  本発明に係る記録媒体は、複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定させるプログラムであって、前記情報処理装置に、前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続させる機能と、前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続させる機能とを実現させるためのプログラムが記録された、前記情報処理装置が読み取り可能な記録媒体である。
</p>
</tech-solution>
<advantageous-effects>
<p num="0013">
  本発明では、論理積や論理和を含んだ検索条件を簡単にかつ明示的に設定できる。
</p>
</advantageous-effects>
</summary-of-invention>
<description-of-drawings>
<p num="0014">
<figref num="1">本発明の一実施例の概略構成ブロック図である。</figref>
<figref num="2">本実施例の外観斜視図である。</figref>
<figref num="3">撮影画像の顔領域検出例である。</figref>
<figref num="4">説明例の論理関係を示すベン図である。</figref>
<figref num="5">本実施例の検索条件設定操作例である。</figref>
<figref num="6">図５に示す例に対する検索条件設定のフローチャートである。</figref>
<figref num="7">検索項目の表示画面例である。</figref>
<figref num="8">図７に示す画面に対する検索条件設定操作例である。</figref>
<figref num="9">図８に示す例に対する検索条件設定のフローチャートである。</figref>
</p>
</description-of-drawings>
<description-of-embodiments>
<p num="0015">
  以下、図面を参照して、本発明の実施例を詳細に説明する。
</p>
<embodiments-example ex-num="1">
<p num="0016">
  図１は、本発明に係る情報処理装置の一実施例を構成するデジタルカメラの概略構成ブロック図を示す。図２は、本実施例の背面図を示す。
</p>
<p num="0017">
  カメラ１０のＣＰＵ１２は、メモリ１４をワークエリアとして、全体を制御する。ＣＰＵ１２で動作するプログラムソフトウエア、例えば、以下に説明する検索条件設定プログラムは、図示しない不揮発性メモリ又はＲＯＭに格納されている。
</p>
<p num="0018">
  撮像部１６は、被写体の光学像を電気画像データに変換し、メモリ１４に一時格納する。個人認識部１８は、メモリ１４に格納される画像データを参照して、画像中の顔領域を分離抽出し、特徴抽出により個人を認識する。具体的には、個人認識部１８は、まず、メモリ１４の画像データにバンドパスフィルタを作用させてエッジ成分を検出する。得られたエッジ成分からパターンマッチングにより顔要素（目、鼻、口及び耳）の候補群を抽出して各パーツを対応付け、予め設定した非顔条件フィルタを通すことで顔を検出する。検出された顔要素の特徴を抽出して個人の顔を特定し、その個人特定情報をＣＰＵ１２に供給する。
</p>
<p num="0019">
  ＣＰＵ１２は、撮影中の被写体画像を画像表示部２０に表示する。ＣＰＵ１２は、ユーザのシャッタ操作又はレリーズ操作に従い、メモリ１４に格納される撮影画像を所定方式で圧縮符号化する。すなわち、ＣＰＵ１２は、画像データを圧縮伸長する機能を有する。ＣＰＵ１２は、シャッタ操作時の撮影画像データに対する個人認識部１８の認識結果を取り込み、圧縮画像データと共にインタフェース２６を介して記録媒体２８に記録する。このようにして、個人認識結果が、撮影画像のメタデータとして撮影画像データと共に記録媒体２８に記録される。記録媒体２８は、メモリカード又はハードディスク等からなる。
</p>
<p num="0020">
  再生モードでは、ＣＰＵ１２は、記録媒体２８に記録された所望の画像の圧縮画像データを読み出し、伸長してメモリ１４に展開する。そして、画像表示部２０は、メモリ１４に展開される再生画像データを画像表示する。再生モードでも、個人認識部１８は、メモリ１４に格納される画像データを参照して、画像中の顔領域を分離抽出し、個人を認識できる。
</p>
<p num="0021">
  画像表示部２０はまた、カメラ１０を設定するための種々のメニューを表示する。画像表示部２０の表示面にはタッチパネル２２が装備され、ユーザはタッチパネル２２の操作で種々の指示をＣＰＵ１２に入力できる。タッチパネル２２は、ユーザの指又は専用ペン等によるタッチ操作の検知により、タッチ位置座標を出力するデバイスである。タッチパネル２２を画像表示部２０の表示画像と組み合わせることで、恰もユーザが画像表示部２０の表示画面上に要素を直接的に操作するかのようなユーザインタフェースを実現できる。
</p>
<p num="0022">
  操作部２４は、シャッタボタン、モードダイアル、十字キー及び決定キー等からなり、一般に、タッチパネル２２との併用が可能である。
</p>
<p num="0023">
  コネクタ３０は、カメラ１０を外部機器に接続する接続手段である。外部機器は、例えば、パーソナルコンピュータ、又は携帯電話等の通信装置等である。
</p>
<p num="0024">
  上記手段１２〜３０は、データバス３２に接続しており、データバス３２を介して必要なデータを送受信する。例えば、タッチパネル２２が検出するタッチ操作と操作位置座標の情報は、データバス３２を介してＣＰＵ１２に供給される。
</p>
<p num="0025">
  ＣＰＵ１２は、タッチパネル２２の出力から、タッチパネル２２を指やペンで触れたこと、離れたこと、及び、タッチ位置座標を検出できる。従って、ＣＰＵ１２はまた、接触状態で移動する場合、タッチ位置座標の変化を追跡することで移動経路を検出できる。なお、タッチパネル２２を指やペンで触れたことを「タッチダウン」と称し、タッチパネル２２を指やペンで触れている状態にあることを、「タッチオン」と称する。タッチパネル２２に触れていた指やペンをタッチパネル２２から離すことを「タッチアップ」と称し、タッチパネルに何も触れていない状態を「タッチオフ」と称する。タッチパネル２２を指やペンで触れたまま移動することを「ムーブ」と称する。
</p>
<p num="0026">
  また、タッチパネル２２を一定速度以上で短い距離をなぞるように触れる操作を、フリックと称する。換言すると、この操作は、タッチパネル２２上を指ではじくように素早くなぞる操作である。ＣＰＵ１２は、移動速度が遅い場合には、ドラッグ操作と判定する。
</p>
<p num="0027">
  タッチパネル２２には、抵抗膜方式、静電容量方式、表面弾性波方式、赤外線方式、電磁誘導方式、画像認識方式、光センサ方式等、様々な方式のものがあり、何れであってもよい。
</p>
<p num="0028">
  図２は、本実施例の背面から見た斜視図を示す。底面に、記録媒体２８を挿入するスロット３４が設けられ、蓋３６によりスロット３４を開閉できる。スロット３４に挿入された記録媒体２８は、インタフェース２６に接続する。本体の上面に操作部２４のシャッタボタン２４ａが配置され、背面に操作部２４のモードダイアル２４ｂが配置されている。シャッタボタン２４ａは、撮影指示に使用される。モードダイアル２４ｂは、各種モードの切り替えに使用される。
</p>
<p num="0029">
  本実施例は、タッチパネル２２上のタッチ操作により、画面上の複数の検索項目間で論理検索条件を簡単な操作で設定できる。この機能を使って、再生画像上で複数の人物についての検索条件を設定し、記録媒体２８の記録画像から該当する画像を検索する動作を説明する。
</p>
<p num="0030">
  図３（ａ）は、検索条件の設定に使用する、画像表示部２０に表示される再生画像例を示す。ＣＰＵ１２は検索条件設定用に指定された画像データを記録媒体２８から読み出して、顔領域を示す枠付きで画像表示部２０に表示させる。指定画像データのメタデータに顔認識結果が含まれない場合、ＣＰＵ１２は、指定画像データを個人認識部１８に転送して、個人認識を実行させ、その結果に基づき顔領域を示す枠を画像表示部２０の表示画像に重畳表示させる。個人認識部１８の認識結果として、図３（ｂ）に示すように、人物Ａ〜Ｅとその顔領域が識別されたとする。
</p>
<p num="0031">
  本実施例では、図３（ａ）に示す表示画像上で、人物Ａ〜Ｅの内の複数の人物をタッチ操作で指定しつつ、指定した人物間の論理関係も同時に指定して、検索条件を設定できる。ＣＰＵ１２は、設定された検索条件を記録媒体２８に記録される撮影画像に適用し、検索条件に合致する画像を抽出する。
</p>
<p num="0032">
  この説明例では、画像に含まれる人物の顔部分が検索項目として評価される。ＣＰＵ１２は、タッチパネル２２に指を接触させたままで複数の検索項目をなぞる操作を、これら複数の検索項目を論理積で接続することと解釈する。ＣＰＵ１２は、タッチパネル２２から指を離して他の検索項目上をタッチする操作を、指を離す前の検索項目と、タッチした検索項目とを論理和で接続することと解釈する。なお、論理積で複数の検索項目を指定した後に、タッチパネル２２から指を離して他の検索項目上をタッチした場合、論理積で接続する検索項目と、当該他の検索項目との論理和となる。
</p>
<p num="0033">
  ３人を複合指定する場合には、例えば、図４（ａ），（ｂ），（ｃ）にベン図として示すような各ケースが考えられる。図４（ａ）に示す例は、人物Ａ，Ｂ，Ｃの何れをも含む場合である。図４（ｂ）に示す例は、人物Ａ，Ｂを含むか、又は、人物Ｃを含む場合である。図４（ｃ）に示す例は、人物Ａ、Ｂ，Ｃの何れか一人以上を含む場合である。
</p>
<p num="0034">
  図４（ａ），（ｂ），（ｃ）に示す例に対するタッチパネル２２の操作を、それぞれ、図５（ａ），（ｂ），（ｃ）に示す。
</p>
<p num="0035">
  図４（ａ）に示すケースに対しては、図５（ａ）に示すように、タッチパネル２２面上に指を接触させたまま、人物Ａ，Ｂ，Ｃの顔枠内を指が通るようになぞれば良い。
</p>
<p num="0036">
  図４（ｂ）に示すケースに対しては、図５（ｂ）に示すように人物Ａの顔枠内から人物Ｂの顔枠内を通るように指をタッチパネル２２から離すことなく移動させる。その後、一旦、タッチパネル２２から指を離してから、人物Ｃの顔枠内をタッチする。もちろん、人物Ｃを指定してから、人物Ａ，Ｂを指定してもよい。
</p>
<p num="0037">
  図４（ｃ）に示すケースに対しては、タッチパネル２２の人物Ａ，Ｂ，Ｃの顔枠内のみを個別にタッチする。タッチする人物の順番は、制約されない。
</p>
<p num="0038">
  操作部２４又はタッチパネル２２の特定のキー、例えば決定キーを操作することで、検索入力が終了し、検索式が確定する。ＣＰＵ１２は、確定した検索式に従い、記録媒体２８に記録される撮影画像のメタデータを検索する。ＣＰＵ１２は、検索条件に合致した撮影画像のサムネイルを作成し、画像表示部２０にサムネイル画を表示する。
</p>
<p num="0039">
  図６は、本実施例の検索条件設定動作のフローチャートを示す。検索条件の設定を開始する操作に従い、ＣＰＵ１２が、図６に示す動作をスタートする。ＣＰＵ１２の検索条件設定プログラムが、タッチパネル２２からのタッチオン検出信号を待機する（Ｓ６０１）。タッチ動作が検出されると（Ｓ６０１）、ＣＰＵ１２は、タッチされた部分の軌跡の記録を始める（Ｓ６０２）。ＣＰＵ１２は、タッチオフの検出まで（Ｓ６０３）、タッチ部分の記録を続け、一度のタッチ動作の軌跡を記録する。
</p>
<p num="0040">
  ＣＰＵ１２は、記録されたタッチ動作の軌跡と再生画像内にある人物の顔枠との重なりを判断する（Ｓ６０４）。重なりが無い場合（Ｓ６０４）、Ｓ６０１に戻る。重なりがある場合（Ｓ６０４）、ＣＰＵ１２は、複数の顔枠と重なりがあるかどうかを判断する（Ｓ６０５）。複数の顔枠と重なっている場合（Ｓ６０５）、ＣＰＵ１２は、顔枠が示す複数の人物の論理積を検索条件として追加する（Ｓ６０６）。複数の顔枠と重なっていない場合（Ｓ６０５）、つまり一つの顔枠しか指定されていない場合、ＣＰＵ１２は、指定された人物を検索条件として追加する（Ｓ６０７）。
</p>
<p num="0041">
  ユーザから検索条件の設定が終了したかどうかを受け付ける（Ｓ６０８）。検索条件追加が終了していない場合（Ｓ６０９）、Ｓ６０１に戻り、新たな検索条件を設定する。検索条件追加が終了した場合（Ｓ６０９）、ＣＰＵ１２は、設定した全ての検索条件の論理和を取り、最終的な検索条件とする。そして、ＣＰＵ１２は、最終的な検索条件で記録媒体２８に記録される撮影画像のメタデータを検索し、検索条件に合った撮影画像を抽出する（Ｓ６１０）。
</p>
<p num="0042">
  画像表示部２０の画面上では、一度のタッチ動作で選択された顔枠を異なる色や線種で表示する。これにより、同じグループに属した人物と、他のグループに属した人物、及び選択されていない人物とを画面上で区別できるようになる。また、タッチ部の軌跡を表示することによって、どの顔枠が同じグループに属しているかを分かりやすくすることができる。
</p>
<p num="0043">
  このように、本実施例では、複数の人物（検索項目）の論理集合条件を簡単な操作で設定できる。
</p>
<p num="0044">
  別の検索条件設定画面による検索条件設定例を説明する。図７は、検索項目を表示する画面例を示す。図７では、検索項目の条件アイコンとして、人物Ａ〜Ｄの顔、春夏秋冬（季節）、及び朝昼夜（時間帯）の各アイコンが表示されている。顔画像は、撮影時に自動的に、又は再生時の別メニューで、個人認識部１８により抽出され記録媒体２８に記録されたものである。
</p>
<p num="0045">
  人物Ａのアイコンが選択されると、人物Ａが写った撮影画像が抽出をする検索条件が設定される。同様に人物Ｂ，Ｃ，Ｄのアイコンが選択されると、人物Ｂ、Ｃ，Ｄが写った撮影画像を抽出する検索条件が設定される。春の条件アイコンは、３月から５月に撮影された画像を抽出する検索条件となる。夏の条件アイコンは、６月から８月に撮影された画像を抽出する検索条件となる。秋の条件アイコンは、９月から１１月に撮影された画像を抽出する検索条件となる。冬の条件アイコンは、１２月から２月に撮影された画像を抽出する検索条件となる。朝の条件アイコンは、午前６時から午前１２時までに撮影された画像を抽出する検索条件となる。昼の条件アイコンは、午前１２時から午後６時までに撮影された画像を抽出する検索条件となる。夜の条件アイコンは、午前０時から午前６時まで、または午後６時から午前０時までに撮影された画像を抽出する検索条件となる。
</p>
<p num="0046">
  図８（ａ）は、人物Ａ、夏及び昼の条件を同時に満たす検索条件を設定する操作例を示す。タッチパネル２２から指を離すこと無しに、人物Ａの顔アイコン、夏アイコン及び昼アイコンの各アイコン上を指でなぞる。
</p>
<p num="0047">
  図８（ｂ）は、人物Ｂ又は人物Ｃの秋の撮影画像を検索する検索条件を設定する操作例を示す。タッチパネル２２から指を離すこと無しに、人物Ｂの顔アイコンと秋の条件アイコンを指でなぞる。一旦、タッチパネル２２から指を離し、次に人物Ｃの顔アイコンと秋の条件アイコンを、タッチパネル２２から指を離すこと無しに指でなぞる。人物Ｃを選択してから、人物Ｂを選択しても良い。
</p>
<p num="0048">
  図８（ｃ）は、人物Ｃ，Ｄが冬の夜に撮影された画像を検索する検索条件を設定する操作例を示す。タッチパネル２２から指を離すこと無しに、人物Ｃ，Ｄの顔アイコン、冬の条件アイコン及び夜の条件アイコンを指でなぞる。アイコンの通過順序は、図示例に限定されない。
</p>
<p num="0049">
  操作部２４又はタッチパネル２２の特定のキー、例えば決定キーを操作することで、検索入力が終了し、検索式が確定する。ＣＰＵ１２は、確定した検索式に従い、記録媒体２８に記録される撮影画像のメタデータを検索する。ＣＰＵ１２は、検索条件に合致した撮影画像のサムネイルを作成し、画像表示部２０にサムネイル画を表示する。
</p>
<p num="0050">
  図９は、図７に示す設定画面例に対するＣＰＵ１２の動作フローチャートを示す。検索条件の設定を開始する操作に従い、ＣＰＵ１２は、図９に示す動作をスタートする。
</p>
<p num="0051">
  ＣＰＵ１２は、タッチパネル２２からのタッチオン検出信号を待機する（Ｓ９０１）。タッチ動作が検出されると（Ｓ９０１）、ＣＰＵ１２は、タッチされた部分の軌跡の記録を始める（Ｓ９０２）。ＣＰＵ１２は、タッチオフの検出まで（Ｓ９０３）、タッチ部分の記録を続け、一度のタッチ動作の軌跡を記録する。
</p>
<p num="0052">
  ＣＰＵ１２は、記録されたタッチ動作の軌跡と設定画面上の条件アイコンとの重なりを判断する（Ｓ９０４）。重なりが無い場合（Ｓ９０４）、Ｓ９０１に戻る。重なりがある場合（Ｓ９０４）、ＣＰＵ１２は、複数の条件アイコンとの重なりがあるかどうかを判断する（Ｓ９０５）。複数の条件アイコンと重なっている場合（Ｓ９０５）、ＣＰＵ１２は、複数の条件アイコンの論理積を検索条件として追加する（Ｓ９０６）。複数の条件アイコンと重なっていない場合（Ｓ９０５）、つまり一つの条件アイコンしか指定されていない場合、ＣＰＵ１２は、指定された条件アイコンの条件を検索条件として追加する（Ｓ９０７）。
</p>
<p num="0053">
  ユーザから検索条件の設定が終了したかどうかを受け付ける（Ｓ９０８）。検索条件追加が終了していない場合（Ｓ９０９）、Ｓ９０１に戻り、新たな検索条件を設定する。検索条件追加が終了した場合（Ｓ９０９）、ＣＰＵ１２は、設定した全ての検索条件の論理和を取り、最終的な検索条件とする。そして、ＣＰＵ１２は、最終的な検索条件で記録媒体２８に記録される撮影画像のメタデータを検索し、検索条件に合った撮影画像を抽出する（Ｓ９１０）。
</p>
<p num="0054">
  検索条件設定画面上で、一度のタッチ動作で選択された条件アイコンの枠等を異なる色や線種で表示する。これにより、同じグループに属した条件と、他のグループに属した条件、及び選択されていない条件とを画面上で区別できるようになる。また、タッチ部の軌跡を表示することによって、どの条件が同じグループに属しているかを分かりやすくすることができる。互いに離れた位置にある条件アイコンをタッチパネル２２から指を離さずに指定しやすくするために、隣接している条件アイコンとの間隔を十分に空けて配置するのが良い。
</p>
<p num="0055">
  このように、本実施例では、人物だけでなく、撮影の季節及び日時等、複数の検索項目の論理集合条件を簡単な操作で設定できる。
</p>
<p num="0056">
  以上の説明から容易に理解できるように、本発明によれば、論理積や論理和を含んだ検索条件を簡単にかつ明示的に設定できる。
</p>
<p num="0057">
  撮像装置の実施例を説明したが、本発明は、複数のデータから検索条件に合致するデータを検索する際の検索条件を設定又は入力し、検索を実行する情報処理装置一般に適用可能である。
</p>
<p num="0058">
  本発明の好適な実施例を詳述したが、本発明は、上述の実施例に限定されず、発明の要旨を逸脱しない範囲で様々な形態が本発明に含まれうる。
</p>
<p num="0059">
  上述の実施例の機能を実現するソフトウェアのプログラムを、記録媒体から直接又は有線／無線通信を用いてプログラムを実行可能なコンピュータを有するシステム又は装置に供給し、そのプログラムを実行する場合も本発明に含む。
</p>
<p num="0060">
  従って、本発明の機能処理をコンピュータで実現するために、該コンピュータに供給し、インストールされるプログラムコード自体も、本発明を実現するものである。つまり、本発明の機能処理を実現するためのコンピュータプログラム自体も本発明に含まれる。
</p>
<p num="0061">
  その場合、プログラムの機能を有していれば、オブジェクトコード、インタプリタにより実行されるプログラム、ＯＳに供給するスクリプトデータ等、プログラムの形態を問わない。
</p>
<p num="0062">
  プログラムを供給するための記録媒体としては、例えば、ハードディスク、磁気テープ等の磁気記録媒体、光／光磁気記憶媒体、不揮発性の半導体メモリでもよい。
</p>
<p num="0063">
  プログラムの供給方法として、コンピュータネットワーク上のサーバに本発明を構成するコンピュータプログラムを記憶し、クライアントコンピュータが当該コンピュータプログラムをダウンロードして実行するような形態もありうる。
</p>
</embodiments-example>
</description-of-embodiments>
</description><claims>
<claim num="1">
<claim-text>
  複数の検索項目を表示する表示手段と、<br/>
  前記表示手段の表面に装備されるタッチパネルと、<br/>
  前記タッチパネルの操作により検索条件を設定する手段であって、前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続し、前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続する手段<br/>
とを具備することを特徴とする情報処理装置。
</claim-text>
</claim>
<claim num="2">
<claim-text>
  複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定する方法であって、<br/>
  前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続し、<br/>
  前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続する<br/>
ことを特徴とする検索条件設定方法。
</claim-text>
</claim>
<claim num="3">
<claim-text>
  複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定するプログラムであって、前記情報処理装置に、<br/>
  前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続させる機能と、<br/>
  前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続させる機能<br/>
とを実現させるための検索条件設定プログラム。
</claim-text>
</claim>
<claim num="4">
<claim-text>
  複数の検索項目を表示する表示手段と、前記表示手段の表面に装備されるタッチパネルとを具備する情報処理装置において、検索条件を設定させるプログラムであって、前記情報処理装置に、<br/>
  前記タッチパネルにタッチした状態で指定する複数の前記検索項目を論理積で接続させる機能と、<br/>
  前記タッチパネルからのタッチオフを挟んで指定する複数の検索項目を論理和で接続させる機能<br/>
とを実現させるためのプログラムが記録された、前記情報処理装置が読み取り可能な記録媒体。
</claim-text>
</claim>
</claims><abstract>
  <p num="">【課題】<br/>  論理積や論理和を含んだ検索条件を簡単にかつ明示的に設定すること。<br/>【解決手段】<br/>  画像表示部（２０）は、画面上に検索条件に含まれうる複数の検索項目を表示する。ユーザは、タッチパネル（２２）を用いて複数の検索項目を選択する。ＣＰＵ（１２）は、タッチパネル（２２）にタッチした状態で指定する複数の検索項目が指定された場合に、これら複数の検索項目を論理積で接続する。また、ＣＰＵ（１２）は、タッチパネル（２２）からのタッチオフを挟んで指定する複数の検索項目を論理和で接続する。<br/>【選択図】  図１</p>
</abstract><drawings>
<figure num="1">
<img id="000003" he="55" wi="65" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="2">
<img id="000004" he="64" wi="74" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="3">
<img id="000005" he="65" wi="55" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="4">
<img id="000006" he="86" wi="46" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="5">
<img id="000007" he="90" wi="50" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="6">
<img id="000008" he="111" wi="62" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="7">
<img id="000009" he="28" wi="46" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="8">
<img id="000010" he="88" wi="52" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="9">
<img id="000011" he="111" wi="63" file="2011164949.tif" img-format="tif" img-content="drawing"/>
</figure>
</drawings><jp:overflow><p num="">(51)Int.Cl.                             ＦＩ                                    テーマコード（参考）<br/><b><i>   Ｈ０４Ｎ   5/232    (2006.01)</i></b>           Ｈ０４Ｎ   5/225         Ｆ                    <br/><i>   Ｈ０４Ｎ 101/00     (2006.01)</i>           Ｈ０４Ｎ   5/232         Ｚ                    <br/>                                           Ｈ０４Ｎ 101:00                                <br/></p></jp:overflow></jp-official-gazette>
