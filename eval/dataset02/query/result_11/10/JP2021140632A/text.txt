<?xml version="1.0" encoding='utf-8'?>
<!-- <?xml-stylesheet type="text/xsl" href="../../../../../XSL/gat-a.xsl"?> -->
<!DOCTYPE jp-official-gazette PUBLIC "-//JPO//DTD PUBLISHED PATENT/UTILITY MODEL APPLICATION 1.0//EN" "../../../../../DTD/gat-a.dtd">
<jp-official-gazette kind-of-jp="A" kind-of-st16="A" lang="ja" dtd-version="1.0" country="JP" xmlns:jp="http://www.jpo.go.jp"><bibliographic-data lang="ja" country="JP">
    <publication-reference>
      <document-id>
        <country>JP</country>
        <doc-number>2021140632</doc-number>
        <kind>公開特許公報(A)</kind>
        <date>20210916</date>
      </document-id>
    </publication-reference>
    <application-reference>
      <document-id>
        <doc-number>2020039633</doc-number>
        <date>20200309</date>
      </document-id>
    </application-reference>
    <invention-title>認識装置及びプログラム</invention-title>
    <parties>
      <jp:applicants-agents-article>
        <jp:applicants-agents sequence="1">
          <applicant sequence="1">
            <addressbook lang="ja">
              <name>株式会社東芝</name>
              <registered-number>000003078</registered-number>
              <address>
                <text>東京都港区芝浦一丁目１番１号</text>
              </address>
            </addressbook>
          </applicant>
          <applicant sequence="2">
            <addressbook lang="ja">
              <name>東芝インフラシステムズ株式会社</name>
              <registered-number>598076591</registered-number>
              <address>
                <text>神奈川県川崎市幸区堀川町７２番地３４</text>
              </address>
            </addressbook>
          </applicant>
          <agent sequence="1" jp:kind="representative">
            <addressbook>
              <name>蔵田  昌俊</name>
              <registered-number>100108855</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
          <agent sequence="2" jp:kind="representative">
            <addressbook>
              <name>野河  信久</name>
              <registered-number>100103034</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
          <agent sequence="3" jp:kind="representative">
            <addressbook>
              <name>峰  隆司</name>
              <registered-number>100075672</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
          <agent sequence="4" jp:kind="representative">
            <addressbook>
              <name>河野  直樹</name>
              <registered-number>100153051</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
          <agent sequence="5" jp:kind="representative">
            <addressbook>
              <name>金子  早苗</name>
              <registered-number>100162570</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
        </jp:applicants-agents>
      </jp:applicants-agents-article>
      <inventors>
        <inventor sequence="1">
          <addressbook>
            <name>宇佐美  佑介</name>
            <address>
              <text>神奈川県川崎市幸区堀川町７２番地３４  東芝インフラシステムズ株式会社内</text>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="2">
          <addressbook>
            <name>朝日  一隆</name>
            <address>
              <text>神奈川県川崎市幸区堀川町７２番地３４  東芝インフラシステムズ株式会社内</text>
            </address>
          </addressbook>
        </inventor>
      </inventors>
    </parties>
    <classification-ipc><edition/><main-clsf>G06K   9/03        20060101AFI20210820BHJP        </main-clsf><further-clsf>G06K   9/62        20060101ALI20210820BHJP        </further-clsf><further-clsf>B65G   1/137       20060101ALI20210820BHJP        </further-clsf></classification-ipc>
    <classification-national><country>JP</country><main-clsf>G06K9/03 B</main-clsf><further-clsf>G06K9/62 650A</further-clsf><further-clsf>B65G1/137 Z</further-clsf></classification-national>
    <number-of-claims jp:adopted-law="claim">6</number-of-claims>
    <figure-to-publish>
      <fig-number>1</fig-number>
    </figure-to-publish>
    <jp:request-for-examination true-or-false="false"/>
    <jp:filing-form>ＯＬ</jp:filing-form>
    <jp:total-pages>16</jp:total-pages>
    <jp:theme-code-info>
      <jp:theme-code>3F522</jp:theme-code>
      <jp:theme-code>5B064</jp:theme-code>
    </jp:theme-code-info>
    <jp:f-term-info>
      <jp:f-term>3F522BB01</jp:f-term>
      <jp:f-term>3F522CC03</jp:f-term>
      <jp:f-term>5B064AA04</jp:f-term>
      <jp:f-term>5B064AB02</jp:f-term>
      <jp:f-term>5B064AB03</jp:f-term>
      <jp:f-term>5B064BA01</jp:f-term>
      <jp:f-term>5B064EA14</jp:f-term>
      <jp:f-term>5B064EA19</jp:f-term>
      <jp:f-term>5B064EA39</jp:f-term>
      <jp:f-term>5B064FA11</jp:f-term>
      <jp:f-term>5B064FA13</jp:f-term>
    </jp:f-term-info>
  </bibliographic-data><jp:image-of-bibliographic-data><img id="000001" he="140" wi="160" file="2021140632.tif" img-format="tif" img-content="drawing"/></jp:image-of-bibliographic-data><jp:image-of-chosen-drawing>
    <img id="000002" he="97" wi="66" file="2021140632.tif" img-format="tif" img-content="drawing"/>
  </jp:image-of-chosen-drawing><description>

<technical-field>
<p num="0001">
  本発明の実施形態は、認識装置及びプログラムに関する。
</p>
</technical-field>
<background-art>
<p num="0002">
  ＯＣＲ（optical character recognition）処理により住所などの文字列を読み取る認識装置と、認識装置が文字列の認識に失敗した場合にオペレータから文字列の入力を受け付けるＶＣＳ（video coding system）とを備える認識システムが提供されている。
</p>
<p num="0003">
  そのような認識システムでは、文字列の認識精度を向上させるためには認識装置を改変する必要がある。
</p>
<p num="0004">
  そこで、既存の認識システムを改変することなく、効果的に文字列を取得する技術が望まれている。
</p>
</background-art>
<citation-list>
<patent-literature>
<p num="0005">
<patcit num="1"><text>特開２００５−００７３１５号公報</text></patcit>
</p>
</patent-literature>
</citation-list>
<summary-of-invention>
<tech-problem>
<p num="0006">
  上記の課題を解決するため、効果的に文字列を取得することができる認識装置及びプログラムを提供する。
</p>
</tech-problem>
<tech-solution>
<p num="0007">
  実施形態によれば、認識装置は、画像インターフェースと、入力インターフェースと、プロセッサと、を備える。画像インターフェースは、第１のアルゴリズムによる文字列の認識に失敗した撮像画像に含まれる文字列を入力するための入力装置から前記入力装置の表示画面に表示される少なくとも前記撮像画像に基づく表示画面画像を取得する。入力インターフェースは、前記入力装置に文字列を入力する。プロセッサは、前記第１のアルゴリズムと異なる第２のアルゴリズムによる前記表示画面画像の文字認識処理の結果を取得し、前記入力インターフェースを通じて、文字認識処理の結果に基づく文字列を前記入力装置に入力する。
</p>
</tech-solution>
</summary-of-invention>
<description-of-drawings>
<p num="0008">
<figref num="1">図１は、実施形態に係る認識システムの構成例を示すブロック図である。</figref>
<figref num="2">図２は、実施形態に係る第１の認識装置の構成例を示すブロック図である。</figref>
<figref num="3">図３は、実施形態に係るＶＣＳの構成例を示すブロック図である。</figref>
<figref num="4">図４は、実施形態に係る第２の認識装置の構成例を示すブロック図である。</figref>
<figref num="5">図５は、実施形態に係る入力画面の例を示す図である。</figref>
<figref num="6">図６は、実施形態に係る第１の認識装置の動作例を示すフローチャートである。</figref>
<figref num="7">図７は、実施形態に係るＶＣＳの動作例を示すフローチャートである。</figref>
<figref num="8">図８は、実施形態に係る第２の認識装置の動作例を示すフローチャートである。</figref>
</p>
</description-of-drawings>
<description-of-embodiments>
<p num="0009">
  以下、実施形態について、図面を参照して説明する。  <br/>
  実施形態に係る認識システムは、ソータに投入される物品から住所などの宛先を読み取る。認識システムは、読み取った宛先に基づいて物品の仕分先（たとえば、ソータのシュート）を設定する。認識システムは、宛先の読み取りに失敗した場合、宛先を目視したオペレータから宛先の入力を受け付ける。
</p>
<p num="0010">
  図１は、実施形態に係る認識システム１の構成例を示す。図１が示すように、認識システム１は、ソータ２、カメラ３、第１の認識装置１０、ＶＣＳ２０（２０ａ乃至２０ｄ）、第２の認識装置３０（３０ａ乃至３０ｄ）、操作部４０（４０ａ及び４０ｂ）及び表示部５０（５０ａ及び５０ｂ）などを備える。
</p>
<p num="0011">
  第１の認識装置１０は、ソータ２、カメラ３及びＶＣＳ２０に接続する。ＶＣＳ２０ａ乃至２０ｄは、第２の認識装置３０ａ乃至３０ｄにそれぞれ接続する。第２の認識装置３０ａ及び３０ｂは、操作部４０ａ及び４０ｂにそれぞれ接続する。また、第２の認識装置３０ａ及び３０ｂは、表示部５０ａ及び５０ｂにそれぞれ接続する。
</p>
<p num="0012">
  なお、認識システム１は、図１が示すような構成の他に必要に応じた構成をさらに具備したり、認識システム１から特定の構成が除外されたりしてもよい。
</p>
<p num="0013">
  ソータ２は、第１の認識装置１０からの信号に基づいて、投入される物品を仕分先に区分する。たとえば、ソータ２は、仕分先として複数のシュートを備える。ソータ２は、第１の認識装置１０からの信号に基づいて、物品をシュートに投入する。たとえば、ソータ２は、物品を特定するＩＤと当該物品を投入する仕分先（たとえば、シュートの番号など）とを示す仕分情報を第１の認識装置１０から取得する。ソータ２は、仕分情報に基づいて物品をシュートに投入する。
</p>
<p num="0014">
  カメラ３は、ソータ２に投入される物品を撮像する。カメラ３は、物品の宛先が記載されている面（宛先面）を撮像する。たとえば、カメラ３は、ソータ２に物品を投入する搬送路上に設置されている。カメラ３は、物品を複数の面から撮像するものであってもよい。カメラ３は、撮像した画像を第１の認識装置１０に送信する。
</p>
<p num="0015">
  第１の認識装置１０は、カメラ３から画像（撮像画像）などに基づいてソータ２に物品の仕分先を設定する。たとえば、第１の認識装置１０は、物品を識別するＩＤと当該物品を投入する仕分先とを示す仕分情報をソータ２に送信する。第１の認識装置１０については、後に詳述する。
</p>
<p num="0016">
  ＶＣＳ２０は、第１の認識装置１０が宛先の認識に失敗した場合に、宛先の認識に失敗した撮像画像（宛先面の撮像画像）に含まれる宛先を入力するための入力装置である。ＶＣＳ２０については、後に詳述する。
</p>
<p num="0017">
  第２の認識装置３０は、ＯＣＲ処理（文字認識処理）により、ＶＣＳ２０が取得した撮像画像から宛先を認識する。第２の認識装置３０は、認識した宛先をＶＣＳ２０に入力する。第２の認識装置３０については、後に詳述する。
</p>
<p num="0018">
  操作部４０は、オペレータから種々の操作の入力を受け付ける。操作部４０は、入力された操作を示す信号を第２の認識装置３０へ送信する。操作部４０は、キーボード、ボタン又はタッチパネルなどから構成される。
</p>
<p num="0019">
  表示部５０は、第２の認識装置３０からの制御に基づいて情報を表示する。たとえば、表示部５０は、液晶モニタから構成される。操作部４０がタッチパネルから構成される場合、表示部５０は、操作部４０と一体的に形成された液晶モニタから構成される。
</p>
<p num="0020">
  なお、認識システム１は、第２の認識装置３０ｃ及び３０ｄにそれぞれ接続する操作部及び表示部を備えるものであってもよい。
</p>
<p num="0021">
  次に、第１の認識装置１０について説明する。  <br/>
  図２は、第１の認識装置１０の構成例を示す。図２が示すように、第１の認識装置１０は、プロセッサ１１、メモリ１２、操作部１３、表示部１４、カメラインターフェース１５及び通信部１６などを備える。プロセッサ１１と、メモリ１２、操作部１３、表示部１４、カメラインターフェース１５及び通信部１６と、は、データバス又は所定のインターフェースなどを介して通信可能に接続する。
</p>
<p num="0022">
  なお、第１の認識装置１０は、図２が示すような構成の他に必要に応じた構成をさらに具備したり、第１の認識装置１０から特定の構成が除外されたりしてもよい。
</p>
<p num="0023">
  プロセッサ１１は、第１の認識装置１０全体の動作を制御する。たとえば、プロセッサ１１は、宛先の認識結果などに基づいて仕分情報を生成し、ソータ２に送信する。
</p>
<p num="0024">
  たとえば、プロセッサ１１は、ＣＰＵなどから構成される。また、プロセッサ１１は、ＡＳＩＣ（Application Specific Integrated Circuit）などから構成されるものであってもよい。また、プロセッサ１１は、ＦＰＧＡ（Field Programmable Gate Array）などから構成されるものであってもよい。
</p>
<p num="0025">
  メモリ１２は、種々のデータを格納する。たとえば、メモリ１２は、ＲＯＭ、ＲＡＭ及びＮＶＭとして機能する。  <br/>
  たとえば、メモリ１２は、制御プログラム及び制御データなどを記憶する。制御プログラム及び制御データは、第１の認識装置１０の仕様に応じて予め組み込まれる。たとえば、制御プログラムは、第１の認識装置１０で実現する機能をサポートするプログラムなどである。
</p>
<p num="0026">
  また、メモリ１２は、プロセッサ１１の処理中のデータなどを一時的に格納する。また、メモリ１２は、アプリケーションプログラムの実行に必要なデータ及びアプリケーションプログラムの実行結果などを格納してもよい。
</p>
<p num="0027">
  操作部１３は、オペレータから種々の操作の入力を受け付ける。操作部１３は、入力された操作を示す信号をプロセッサ１１へ送信する。操作部１３は、キーボード、ボタン又はタッチパネルなどから構成される。
</p>
<p num="0028">
  表示部１４は、プロセッサ１１からの制御に基づいて情報を表示する。たとえば、表示部１４は、液晶モニタから構成される。操作部１３がタッチパネルから構成される場合、表示部１４は、操作部１３と一体的に形成された液晶モニタから構成される。
</p>
<p num="0029">
  カメラインターフェース１５は、カメラ３とデータを送受信するためのインターフェースである。例えば、カメラインターフェース１５は、有線でカメラ３と接続する。カメラインターフェース１５は、カメラ３からの撮像画像を受信する。カメラインターフェース１５は、受信した撮像画像をプロセッサ１１に送信する。また、カメラインターフェース１５は、カメラ３に電力を供給するものであってもよい。
</p>
<p num="0030">
  通信部１６は、ソータ２及びＶＣＳ２０とデータを送受信するためのインターフェースである。たとえば、通信部１６は、ＬＡＮ（Local Area Network）接続をサポートするものである。また、たとえば、通信部１６は、ＵＳＢ（Universal Serial Bus）接続をサポートするものであってもよい。なお、通信部１６は、第１の認識装置１０とデータを送受信するためのインターフェースと、ＶＣＳ２０とデータを送受信するためのインターフェースと、から構成されてもよい。
</p>
<p num="0031">
  次に、ＶＣＳ２０について説明する。  <br/>
  ＶＣＳ２０ａ乃至２０ｄは、同様の構成であるため、ＶＣＳ２０として説明する。
</p>
<p num="0032">
  図３は、ＶＣＳ２０の構成例を示す。図３が示すように、ＶＣＳ２０は、プロセッサ２１、メモリ２２、操作部インターフェース２３、表示部インターフェース２４及び通信部２５などを備える。プロセッサ２１と、メモリ２２、操作部インターフェース２３、表示部インターフェース２４及び通信部２５と、は、データバス又は所定のインターフェースなどを介して通信可能に接続する。
</p>
<p num="0033">
  なお、ＶＣＳ２０は、図３が示すような構成の他に必要に応じた構成をさらに具備したり、ＶＣＳ２０から特定の構成が除外されたりしてもよい。
</p>
<p num="0034">
  プロセッサ２１は、ＶＣＳ２０全体の動作を制御する。たとえば、プロセッサ２１は、表示部インターフェース２４を通じて、宛先の認識に失敗した撮像画像を出力する。
</p>
<p num="0035">
  たとえば、プロセッサ２１は、ＣＰＵなどから構成される。また、プロセッサ２１は、ＡＳＩＣなどから構成されるものであってもよい。また、プロセッサ２１は、ＦＰＧＡなどから構成されるものであってもよい。
</p>
<p num="0036">
  メモリ２２は、種々のデータを格納する。たとえば、メモリ２２は、ＲＯＭ、ＲＡＭ及びＮＶＭとして機能する。  <br/>
  たとえば、メモリ２２は、制御プログラム及び制御データなどを記憶する。制御プログラム及び制御データは、ＶＣＳ２０の仕様に応じて予め組み込まれる。たとえば、制御プログラムは、ＶＣＳ２０で実現する機能をサポートするプログラムなどである。
</p>
<p num="0037">
  また、メモリ２２は、プロセッサ２１の処理中のデータなどを一時的に格納する。また、メモリ２２は、アプリケーションプログラムの実行に必要なデータ及びアプリケーションプログラムの実行結果などを格納してもよい。
</p>
<p num="0038">
  操作部インターフェース２３は、操作の入力を受け付ける入力装置とデータを送受信するためのインターフェースである。たとえば、操作部インターフェース２３は、キーボードに入力される操作（キー入力操作）を示す操作信号を入力装置から受信する。操作部インターフェース２３は、受信した操作信号をプロセッサ２１に送信する。また、操作部インターフェース２３は、入力装置に電力を供給するものであってもよい。たとえば、操作部インターフェース２３は、ＵＳＢ接続をサポートする。
</p>
<p num="0039">
  表示部インターフェース２４は、画像を表示する表示装置とデータを送受信するためのインターフェースである。表示部インターフェース２４は、プロセッサ２１からの画像データを表示装置に出力する。
</p>
<p num="0040">
  通信部２５は、第１の認識装置１０及び第２の認識装置３０とデータを送受信するためのインターフェースである。たとえば、通信部２５は、ＬＡＮ接続をサポートするものである。また、たとえば、通信部２５は、ＵＳＢ接続をサポートするものであってもよい。なお、通信部２５は、第１の認識装置１０とデータを送受信するためのインターフェースと、第２の認識装置３０とデータを送受信するためのインターフェースと、から構成されてもよい。
</p>
<p num="0041">
  次に、第２の認識装置３０について説明する。  <br/>
  第２の認識装置３０ａ乃至３０ｄは、同様の構成であるため、第２の認識装置３０として説明する。
</p>
<p num="0042">
  図４は、第２の認識装置３０の構成例を示す。図４が示すように、第２の認識装置３０は、プロセッサ３１、メモリ３２、画像インターフェース３３、入力インターフェース３４、操作部インターフェース３５、表示部インターフェース３６及び通信部３７などを備える。プロセッサ３１と、メモリ３２、画像インターフェース３３、入力インターフェース３４、操作部インターフェース３５、表示部インターフェース３６及び通信部３７と、は、データバス又は所定のインターフェースなどを介して通信可能に接続する。
</p>
<p num="0043">
  なお、第２の認識装置３０は、図４が示すような構成の他に必要に応じた構成をさらに具備したり、第２の認識装置３０から特定の構成が除外されたりしてもよい。
</p>
<p num="0044">
  プロセッサ３１は、第２の認識装置３０全体の動作を制御する。たとえば、プロセッサ３１は、ＯＣＲ処理により撮像画像から宛先を取得する。
</p>
<p num="0045">
  たとえば、プロセッサ３１は、ＣＰＵなどから構成される。また、プロセッサ３１は、ＡＳＩＣなどから構成されるものであってもよい。また、プロセッサ３１は、ＦＰＧＡなどから構成されるものであってもよい。
</p>
<p num="0046">
  メモリ３２は、種々のデータを格納する。たとえば、メモリ３２は、ＲＯＭ、ＲＡＭ及びＮＶＭとして機能する。  <br/>
  たとえば、メモリ３２は、制御プログラム及び制御データなどを記憶する。制御プログラム及び制御データは、第２の認識装置３０の仕様に応じて予め組み込まれる。たとえば、制御プログラムは、第２の認識装置３０で実現する機能をサポートするプログラムなどである。
</p>
<p num="0047">
  また、メモリ３２は、プロセッサ３１の処理中のデータなどを一時的に格納する。また、メモリ３２は、アプリケーションプログラムの実行に必要なデータ及びアプリケーションプログラムの実行結果などを格納してもよい。
</p>
<p num="0048">
  画像インターフェース３３は、ＶＣＳ２０の表示部インターフェース２４に接続する。画像インターフェース３３は、表示部インターフェース２４から画像を取得する。即ち、画像インターフェース３３は、ＶＣＳ２０のプロセッサ２１が表示装置に表示しようとする画像を取得する。画像インターフェース３３は、取得した画像をプロセッサ３１に送信する。たとえば、画像インターフェース３３は、キャプチャボードなどから構成される。
</p>
<p num="0049">
  入力インターフェース３４は、操作部インターフェース２３に接続する。入力インターフェース３４は、プロセッサ３１からの制御に従って操作部インターフェース２３にキー入力操作を示す操作信号を入力する。たとえば、入力インターフェース３４は、ＵＳＢ接続をサポートする。
</p>
<p num="0050">
  操作部インターフェース３５は、操作部４０とデータを送受信するためのインターフェースである。たとえば、操作部インターフェース３５は、操作部４０に入力された操作を示す操作信号を操作部４０から受信する。操作部インターフェース３５は、受信した操作信号をプロセッサ３１に送信する。また、操作部インターフェース３５は、操作部４０に電力を供給するものであってもよい。たとえば、操作部インターフェース３５は、ＵＳＢ接続をサポートする。
</p>
<p num="0051">
  表示部インターフェース３６は、表示部５０とデータを送受信するためのインターフェースである。表示部インターフェース３６は、プロセッサ３１からの画像データを表示部５０に出力する。
</p>
<p num="0052">
  通信部３７は、ＶＣＳ２０及び他の第２の認識装置３０とデータを送受信するためのインターフェースである。たとえば、通信部３７は、ＬＡＮ接続をサポートするものである。また、たとえば、通信部３７は、ＵＳＢ接続をサポートするものであってもよい。なお、通信部３７は、ＶＣＳ２０とデータを送受信するためのインターフェースと、他の第２の認識装置３０とデータを送受信するためのインターフェースと、から構成されてもよい。
</p>
<p num="0053">
  なお、第２の認識装置３０ｃ及び３０ｄは、操作部インターフェース３５及び表示部インターフェース３６を備えなくともよい。
</p>
<p num="0054">
  次に、第１の認識装置１０が実現する機能について説明する。第１の認識装置１０が実現する機能は、プロセッサ１１がメモリ１２などに格納されるプログラムを実行することで実現される。
</p>
<p num="0055">
  まず、プロセッサ１１は、カメラ３から宛先面を含む撮像画像を取得する機能を有する。
</p>
<p num="0056">
  ここで、カメラ３は、物品がカメラ３の撮像領域を通過するタイミングで画像を撮像する。カメラ３は、撮像した画像を第１の認識装置１０に送信する。
</p>
<p num="0057">
  プロセッサ１１は、カメラインターフェース１５を通じてカメラ３から宛先面を含む撮像画像を取得する。なお、プロセッサ１１は、カメラ３にリクエストを送信して、撮像画像を含むレスポンスを受信してもよい。
</p>
<p num="0058">
  また、プロセッサ１１は、ＯＣＲ処理により撮像画像から宛先を取得する機能を有する。
</p>
<p num="0059">
  撮像画像を取得すると、プロセッサ１１は、所定のアルゴリズム（第１のアルゴリズム）に従って撮像画像にＯＣＲ処理を行う。ＯＣＲ処理を行うと、プロセッサ１１は、ＯＣＲ処理の結果に基づいて物品の宛先面に記載されている宛先を取得する。
</p>
<p num="0060">
  また、プロセッサ１１は、ＯＣＲ処理に失敗した場合、ＶＣＳ２０を用いて宛先を取得する機能を有する。
</p>
<p num="0061">
  ＯＣＲ処理に失敗して宛先を取得できない場合、プロセッサ１１は、通信部１６を通じて撮像画像をＶＣＳ２０に送信する。プロセッサ１１は、ＶＣＳ２０ａ乃至２０ｄから１つのＶＣＳ２０を選択し、選択されたＶＣＳ２０に撮像画像を送信する。
</p>
<p num="0062">
  後述するように、ＶＣＳ２０は、撮像画像に含まれる宛先面に記載された宛先を第１の認識装置１０に送信する。  <br/>
  プロセッサ１１は、通信部１６を通じてＶＣＳ２０から宛先を取得する。
</p>
<p num="0063">
  プロセッサ１１は、ＯＣＲ処理によって取得した宛先又はＶＣＳ２０からの宛先に基づいて物品の仕分先を設定する機能を有する。
</p>
<p num="0064">
  たとえば、プロセッサ１１は、宛先に基づいて仕分先としてソータ２において物品が投入されるシュートの番号を設定する。たとえば、プロセッサ１１は、宛先の行政区画（都道府県又は市町村など）に対応するシュートの番号を設定する。
</p>
<p num="0065">
  プロセッサ１１は、通信部１６を通じて、物品を特定するＩＤと当該物品の仕分先とを示す仕分情報をソータ２に送信する。
</p>
<p num="0066">
  次に、ＶＣＳ２０が実現する機能について説明する。ＶＣＳ２０が実現する機能は、プロセッサ２１がメモリ２２などに格納されるプログラムを実行することで実現される。
</p>
<p num="0067">
  まず、プロセッサ２１は、第１の認識装置１０から宛先面を含む撮像画像を取得する機能を有する。
</p>
<p num="0068">
  前述の通り、第１の認識装置１０のプロセッサ１１は、ＯＣＲ処理に失敗すると、撮像画像をＶＣＳ２０に送信する。
</p>
<p num="0069">
  ＶＣＳ２０のプロセッサ２１は、通信部２５を通じて第１の認識装置１０から撮像画像を取得する。
</p>
<p num="0070">
  また、プロセッサ２１は、取得した撮像画像を第２の認識装置３０へ送信する機能を有する。
</p>
<p num="0071">
  撮像画像を取得すると、プロセッサ２１は、撮像画像に写る宛先の入力を受け付ける入力画面（表示画面）を生成する。入力画面は、取得された撮像画像を含む。
</p>
<p num="0072">
  図５は、プロセッサ２１が生成した入力画面１００の例を示す。図５が示すように、入力画面１００は、画像領域１０１及び入力欄１０２などを備える。
</p>
<p num="0073">
  画像領域１０１は、第１の認識装置１０から取得された撮像画像（撮像画像に基づく表示画面画像）を表示する。画像領域１０１は、宛先面を含む撮像画像を表示する。  <br/>
  入力欄１０２は、画像領域１０１の下部に形成されている。入力欄１０２は、画像領域１０１が表示する撮像画像に写る宛先面に記載されている宛先の入力を受け付ける。
</p>
<p num="0074">
  また、入力画面１００は、入力欄１０２への入力を確定するアイコンなどを備えてもよい。  <br/>
  また、入力欄１０２は、画像領域１０１の上部に形成されるものであってもよい。  <br/>
  また、画像領域１０１が表示する撮像画像に含まれる文字列の画像解像度は、カメラ３が撮影した撮像画像に含まれる文字列の画像解像度よりも低くてもよい。
</p>
<p num="0075">
  入力画面の構成は、特定の構成に限定されるものではない。
</p>
<p num="0076">
  入力画面を生成すると、プロセッサ２１は、表示部インターフェース２４を通じて生成した入力画面を出力する。プロセッサ２１は、表示部インターフェース２４に表示装置が接続されている場合と同様に入力画面を出力する。即ち、プロセッサ２１は、表示部インターフェース２４を通じて、ディスプレイなどの表示装置に出力する信号と同様の信号を出力する。
</p>
<p num="0077">
  また、プロセッサ２１は、操作部インターフェース２３を通じて宛先の入力を受け付ける機能を有する。
</p>
<p num="0078">
  入力画面を出力すると、プロセッサ２１は、操作部インターフェース２３を通じて宛先の入力を受け付ける。プロセッサ２１は、操作部インターフェース２３に操作部が接続されている場合と同様の信号（キー入力操作を示す操作信号）を取得する。
</p>
<p num="0079">
  また、プロセッサ２１は、入力を受け付けた宛先（宛先を示す情報）を第１の認識装置１０に送信する機能を有する。
</p>
<p num="0080">
  プロセッサ２１は、操作部インターフェース２３を通じて入力が確定する操作信号（たとえば、エンターキーが押された操作信号など）を受信すると、通信部２５を通じて入力された宛先を第１の認識装置１０に送信する。
</p>
<p num="0081">
  次に、第２の認識装置３０が実現する機能について説明する。第２の認識装置３０が実現する機能は、プロセッサ３１がメモリ３２などに格納されるプログラムを実行することで実現される。
</p>
<p num="0082">
  まず、プロセッサ３１は、ＶＣＳ２０から入力画面を取得する機能を有する。  <br/>
  プロセッサ３１は、ＶＣＳ２０の表示部インターフェース２４に接続する画像インターフェース３３を通じて入力画面を取得する。即ち、プロセッサ３１は、宛先面を含む撮像画像をＶＣＳ２０から取得する。
</p>
<p num="0083">
  また、プロセッサ３１は、ＯＣＲ処理により入力画面から宛先を取得する機能を有する。
</p>
<p num="0084">
  入力画面を取得すると、プロセッサ３１は、予め取得したフォーマットなどに従って入力画面から画像領域を抽出する。即ち、プロセッサ３１は、入力画面から宛先面を含む撮像画像を抽出する。
</p>
<p num="0085">
  撮像画像を抽出すると、プロセッサ３１は、第１のアルゴリズムとは異なる所定のアルゴリズム（第２のアルゴリズム）に従って撮像画像にＯＣＲ処理を行う。第２のアルゴリズムは、第１のアルゴリズムが認識できない文字画像の少なくとも一部を認識することができる。
</p>
<p num="0086">
  ＯＣＲ処理を行うと、プロセッサ３１は、ＯＣＲ処理の結果に基づいて物品の宛先面に記載されている宛先を取得する。
</p>
<p num="0087">
  なお、プロセッサ３１は、ＯＣＲ処理を行う前に、入力画面又は撮像画像に所定の処理を行ってもよい。たとえば、プロセッサ３１は、入力画面又は撮像画像を拡大又は縮小してもよい。また、プロセッサ３１は、入力画面又は撮像画像に対してノイズを除去する処理などを行ってもよい。
</p>
<p num="0088">
  また、プロセッサ３１は、ＯＣＲ処理により取得した宛先をＶＣＳ２０の操作部インターフェース２３に入力する機能を有する。
</p>
<p num="0089">
  ＯＣＲ処理により宛先を取得すると、プロセッサ３１は、入力インターフェース３４を通じて宛先を操作部インターフェース２３に入力する。即ち、プロセッサ３１は、宛先を入力するキー入力操作を示す操作信号を操作部インターフェース２３に入力する。
</p>
<p num="0090">
  また、プロセッサ３１は、宛先の入力を完了する操作を示す操作信号を操作部インターフェース２３に入力してもよい。
</p>
<p num="0091">
  また、プロセッサ３１は、ＯＣＲ処理に失敗した場合、操作部４０に入力された操作を示す操作信号を操作部インターフェース２３に入力する機能を有する。
</p>
<p num="0092">
  ＯＣＲ処理に失敗した場合、プロセッサ３１は、ＶＣＳ２０からの入力画面を表示部５０に表示する。入力画面を表示部５０に表示すると、プロセッサ３１は、操作部４０への入力を受け付ける。操作部４０への入力を受け付けると、プロセッサ３１は、入力された操作を示す操作信号を操作部インターフェース２３に入力する。
</p>
<p num="0093">
  また、プロセッサ３１は、表示部５０に入力画面を更新してもよい。即ち、プロセッサ３１は、表示部インターフェース２４から入力画面をリアルタイムで取得し表示部５０に表示する。
</p>
<p num="0094">
  ここで、オペレータは、表示部５０に表示される入力画面の画像領域を目視して宛先を操作部４０に入力する。宛先の入力が完了すると、オペレータは、操作部４０に、入力を完了する操作を入力する。
</p>
<p num="0095">
  なお、第２の認識装置３０に操作部４０及び表示部５０が接続されていない場合、プロセッサ３１は、他の第２の認識装置３０に接続されている表示部５０に入力画面を表示する。また、プロセッサ３１は、当該他の第２の認識装置３０に接続されている操作部４０に入力された操作を示す操作信号をＶＣＳ２０の操作部インターフェース２３に入力する。
</p>
<p num="0096">
  たとえば、主たる第２の認識装置３０（たとえば、第２の認識装置３０ａ）又は外部の制御装置は、入力に用いる操作部４０及び入力画面を表示する表示部５０を管理してもよい。
</p>
<p num="0097">
  次に、第１の認識装置１０の動作例について説明する。  <br/>
  図６は、第１の認識装置１０の動作例について説明するためのフローチャートである。
</p>
<p num="0098">
  まず、第１の認識装置１０のプロセッサ１１は、カメラインターフェース１５を通じて物品の宛先面を含む撮像画像を取得する（Ｓ１１）。撮像画像を取得すると、プロセッサ１１は、第１のアルゴリズムに従って撮像画像にＯＣＲ処理を行う（Ｓ１２）。
</p>
<p num="0099">
  ＯＣＲ処理による宛先の取得に失敗すると（Ｓ１３、ＮＯ）、プロセッサ１１は、通信部１６を通じて撮像画像をＶＣＳ２０に送信する（Ｓ１４）。撮像画像をＶＣＳ２０に送信すると、プロセッサ１１は、通信部１６を通じて、ＶＣＳ２０から宛先を受信したかを判定する（Ｓ１５）。
</p>
<p num="0100">
  ＶＣＳ２０から宛先を受信していないと判定すると（Ｓ１５、ＮＯ）、プロセッサ１１は、Ｓ１５に戻る。
</p>
<p num="0101">
  ＯＣＲ処理による宛先の取得に成功した場合（Ｓ１３、ＹＥＳ）、又は、ＶＣＳ２０から宛先を受信したと判定した場合（Ｓ１５、ＹＥＳ）、プロセッサ１１は、ＯＣＲ処理によって取得した宛先又はＶＣＳ２０から受信した宛先に基づいて、ソータ２に物品の仕分先を設定する（Ｓ１６）。  <br/>
  ソータ２に物品の仕分先を設定すると、プロセッサ１１は、動作を終了する。
</p>
<p num="0102">
  次に、ＶＣＳ２０の動作例について説明する。  <br/>
  図７は、ＶＣＳ２０の動作例について説明するためのフローチャートである。
</p>
<p num="0103">
  まず、ＶＣＳ２０のプロセッサ１１は、通信部２５を通じて第１の認識装置１０から撮像画像を受信したかを判定する（Ｓ２１）。第１の認識装置１０から撮像画像を受信していないと判定すると（Ｓ２１、ＮＯ）、プロセッサ１１は、Ｓ２１に戻る。
</p>
<p num="0104">
  第１の認識装置１０から撮像画像を受信したと判定すると（Ｓ２１、ＹＥＳ）、プロセッサ２１は、表示部インターフェース２４を通じて撮像画像を含む入力画面を出力する（Ｓ２２）。
</p>
<p num="0105">
  入力画面を出力すると、プロセッサ２１は、操作部インターフェース２３を通じて宛先の入力を受け付けたかを判定する（Ｓ２３）。宛先の入力を受け付けていないと判定すると（Ｓ２３、ＮＯ）、プロセッサ２１は、Ｓ２３に戻る。
</p>
<p num="0106">
  宛先の入力を受け付けたと判定すると（Ｓ２３、ＹＥＳ）、プロセッサ２１は、通信部２５を通じて、入力された宛先を第１の認識装置１０に送信する（Ｓ２４）。入力された宛先を第１の認識装置１０に送信すると、プロセッサ２１は、動作を終了する。
</p>
<p num="0107">
  次に、第２の認識装置３０の動作例について説明する。  <br/>
  図８は、第２の認識装置３０の動作例について説明するためのフローチャートである。
</p>
<p num="0108">
  第２の認識装置３０のプロセッサ３１は、画像インターフェース３３を通じて入力画面を取得したかを判定する（Ｓ３１）。入力画面を取得していないと判定すると（Ｓ３１、ＮＯ）、プロセッサ３１は、Ｓ３１に戻る。
</p>
<p num="0109">
  入力画面を取得したと判定すると（Ｓ３１、ＹＥＳ）、プロセッサ３１は、第２のアルゴリズムに従って入力画面の撮像画像にＯＣＲ処理を行う（Ｓ３２）。
</p>
<p num="0110">
  ＯＣＲ処理による宛先の取得に成功すると（Ｓ３３、ＹＥＳ）、プロセッサ３１は、入力インターフェース３４を通じてＯＣＲ処理によって取得した宛先を入力するためのキー入力操作を示す操作信号をＶＣＳ２０の操作部インターフェース２３に入力する（Ｓ３４）。
</p>
<p num="0111">
  ＯＣＲ処理による宛先の取得に失敗すると（Ｓ３３、ＮＯ）、プロセッサ３１は、表示部５０に入力画面を表示する（Ｓ３５）。入力画面を表示すると、プロセッサ３１は、操作部４０に入力された操作を示す操作信号をＶＣＳ２０の操作部インターフェース２３に入力する（Ｓ３６）。ここでは、プロセッサ３１は、入力が完了した操作の入力を受け付けるまで、Ｓ３６を実行する。
</p>
<p num="0112">
  宛先を入力するためのキー入力操作を示す操作信号を操作部インターフェース２３に入力した場合（Ｓ３４）、又は、操作部４０に入力された操作を示す操作信号を操作部インターフェース２３に入力した場合（Ｓ３６）、プロセッサ３１は、動作を終了する。
</p>
<p num="0113">
  なお、第２の認識装置３０は、複数の操作部及び表示部に接続するものであってもよい。  <br/>
  また、第２の認識装置３０は、操作部及び表示部と一体的に形成されるものであってもよい。
</p>
<p num="0114">
  また、第２のアルゴリズムによるＯＣＲ処理は、外部装置によって実行されてもよい。たとえば、第２のアルゴリズムによるＯＣＲ処理は、クラウドコンピューティングによって実行される。この場合、第２の認識装置３０のプロセッサ３１は、外部装置に撮像画像を送信する。プロセッサ３１は、外部装置又はからＯＣＲ処理の結果を取得する。
</p>
<p num="0115">
  また、第１の認識装置１０は、ＶＣＳ２０と一体的に形成されるものであってもよい。<br/>
  また、第１の認識装置１０は、カメラ３と一体的に形成されるものであってもよい。  <br/>
  また、第１の認識装置１０は、ソータ２と一体的に形成されるものであってもよい。
</p>
<p num="0116">
  また、ＶＣＳ２０は、操作部及び表示部を備えるものであってもよい。  <br/>
  また、認識システム１は、物品の宛先以外の文字列を認識するものであってもよい。認識システム１が認識する文字列は、特定の構成に限定されるものではない。
</p>
<p num="0117">
  以上のように構成された認識システムは、第１の認識装置が宛先の認識に失敗した撮像画像をＶＣＳから取得する。認識システムは、第１の認識装置のアルゴリズムと異なるアルゴリズムに従って、取得した撮像画像にＯＣＲ処理を行う。認識システムは、ＯＣＲ処理の結果に基づく宛先をＶＣＳに入力する。その結果、認識システムは、第１の認識装置を改変することなく、効果的に宛先を取得することができる。
</p>
<p num="0118">
  本発明のいくつかの実施形態を説明したが、これらの実施形態は、例として提示したものであり、発明の範囲を限定することは意図していない。これら新規な実施形態は、その他の様々な形態で実施されることが可能であり、発明の要旨を逸脱しない範囲で、種々の省略、置き換え、変更を行うことができる。これら実施形態やその変形は、発明の範囲や要旨に含まれるとともに、特許請求の範囲に記載された発明とその均等の範囲に含まれる。
</p>
</description-of-embodiments>
<reference-signs-list>
<p num="0119">
  １…認識システム、２…ソータ、３…カメラ、１０…第１の認識装置、１１…プロセッサ、１２…メモリ、１３…操作部、１４…表示部、１５…カメラインターフェース、１６…通信部、２０（２０ａ乃至２０ｄ）…ＶＣＳ、２１…プロセッサ、２２…メモリ、２３…操作部インターフェース、２４…表示部インターフェース、２５…通信部、３０（３０ａ乃至３０ｄ）…第２の認識装置、３１…プロセッサ、３２…メモリ、３３…画像インターフェース、３４…入力インターフェース、３５…操作部インターフェース、３６…表示部インターフェース、３７…通信部、４０（４０ａ及び４０ｂ）…操作部、５０（５０ａ及び５０ｂ）…表示部、１００…入力画面、１０１…画像領域、１０２…入力欄。
</p>
</reference-signs-list>
</description><claims>
<claim num="1">
<claim-text>
  第１のアルゴリズムによる文字列の認識に失敗した撮像画像に含まれる文字列を入力するための入力装置から前記入力装置の表示画面に表示される少なくとも前記撮像画像に基づく表示画面画像を取得する画像インターフェースと、<br/>
  前記入力装置に文字列を入力する入力インターフェースと、<br/>
    前記第１のアルゴリズムと異なる第２のアルゴリズムによる前記表示画面画像の文字認識処理の結果を取得し、<br/>
    前記入力インターフェースを通じて、文字認識処理の結果に基づく文字列を前記入力装置に入力する、<br/>
  プロセッサと、<br/>
を備える認識装置。
</claim-text>
</claim>
<claim num="2">
<claim-text>
  前記プロセッサは、前記第２のアルゴリズムに従って前記表示画面画像に文字認識処理を行う、<br/>
請求項１に記載の認識装置。
</claim-text>
</claim>
<claim num="3">
<claim-text>
  前記プロセッサは、前記入力インターフェースを通じて、文字認識処理の結果に基づく文字列を入力するキー入力操作を示す操作信号を入力する、<br/>
請求項１又は２に記載の認識装置。
</claim-text>
</claim>
<claim num="4">
<claim-text>
  操作部に接続する操作部インターフェースと、<br/>
  表示部に接続する表示部インターフェースと、<br/>
を備え、<br/>
  前記プロセッサは、前記第２のアルゴリズムに従った文字認識処理に失敗した場合、前記表示部インターフェースを通じて前記表示画面を前記表示部に表示し、前記入力インターフェースを通じて前記操作部に入力された操作を示す操作信号を前記入力装置に入力する、<br/>
請求項１乃至３の何れか１項に記載の認識装置。
</claim-text>
</claim>
<claim num="5">
<claim-text>
  前記撮像画像は、物品の宛先が記載されている面を撮像した画像であり、<br/>
  前記プロセッサは、前記入力インターフェースを通じて、文字列として前記宛先を入力する、<br/>
請求項１乃至４の何れか１項に記載の認識装置。
</claim-text>
</claim>
<claim num="6">
<claim-text>
  プロセッサによって実行されるプログラムであって、<br/>
  前記プロセッサに、<br/>
    第１のアルゴリズムによる文字列の認識に失敗した撮像画像に含まれる文字列を入力するための入力装置から前記入力装置の表示画面に表示される少なくとも前記撮像画像に<br/>
基づく表示画面画像を取得する機能と、<br/>
    前記第１のアルゴリズムと異なる第２のアルゴリズムによる前記表示画面画像の文字認識処理の結果を取得する機能と、<br/>
    文字認識処理の結果に基づく文字列を前記入力装置に入力する機能と、<br/>
を実現させるためのプログラム。
</claim-text>
</claim>
</claims><abstract>
  <p num="">【課題】効果的に文字列を取得することができる認識装置及びプログラムを提供する。<br/>【解決手段】実施形態によれば、認識装置は、画像インターフェースと、入力インターフェースと、プロセッサと、を備える。画像インターフェースは、第１のアルゴリズムによる文字列の認識に失敗した撮像画像に含まれる文字列を入力するための入力装置から前記入力装置の表示画面に表示される少なくとも前記撮像画像に基づく表示画面画像を取得する。入力インターフェースは、前記入力装置に文字列を入力する。プロセッサは、前記第１のアルゴリズムと異なる第２のアルゴリズムによる前記表示画面画像の文字認識処理の結果を取得し、前記入力インターフェースを通じて、文字認識処理の結果に基づく文字列を前記入力装置に入力する。<br/>【選択図】      図１</p>
</abstract><drawings>
<figure num="1">
<img id="000003" he="122" wi="83" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="2">
<img id="000004" he="55" wi="85" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="3">
<img id="000005" he="62" wi="85" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="4">
<img id="000006" he="55" wi="85" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="5">
<img id="000007" he="62" wi="85" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="6">
<img id="000008" he="122" wi="83" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="7">
<img id="000009" he="122" wi="83" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="8">
<img id="000010" he="122" wi="83" file="2021140632.tif" img-format="tif" img-content="drawing"/>
</figure>
</drawings><jp:overflow><p num="">(74)代理人  100162570<br/>            弁理士  金子  早苗<br/>(72)発明者  宇佐美  佑介<br/>            神奈川県川崎市幸区堀川町７２番地３４  東芝インフラシステムズ株式会社内<br/>(72)発明者  朝日  一隆<br/>            神奈川県川崎市幸区堀川町７２番地３４  東芝インフラシステムズ株式会社内<br/>Ｆターム(参考) 3F522 BB01  CC03 <br/>               5B064 AA04  AB02  AB03  BA01  EA14  EA19  EA39  FA11  FA13 <br/></p></jp:overflow></jp-official-gazette>
