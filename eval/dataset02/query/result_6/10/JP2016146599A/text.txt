<?xml version="1.0" encoding='utf-8'?>
<!-- <?xml-stylesheet type="text/xsl" href="../../../../../XSL/gat-a.xsl"?> -->
<!DOCTYPE jp-official-gazette PUBLIC "-//JPO//DTD PUBLISHED PATENT/UTILITY MODEL APPLICATION 1.0//EN" "../../../../../DTD/gat-a.dtd">
<jp-official-gazette kind-of-jp="A" kind-of-st16="A" lang="ja" dtd-version="1.0" country="JP" xmlns:jp="http://www.jpo.go.jp"><bibliographic-data lang="ja" country="JP">
    <publication-reference>
      <document-id>
        <country>JP</country>
        <doc-number>2016146599</doc-number>
        <kind>公開特許公報(A)</kind>
        <date>20160812</date>
      </document-id>
    </publication-reference>
    <application-reference>
      <document-id>
        <doc-number>2015023503</doc-number>
        <date>20150209</date>
      </document-id>
    </application-reference>
    <invention-title>暗号システム、属性管理装置、鍵生成装置および鍵生成方法</invention-title>
    <parties>
      <jp:applicants-agents-article>
        <jp:applicants-agents sequence="1">
          <applicant sequence="1">
            <addressbook lang="ja">
              <name>日本電信電話株式会社</name>
              <registered-number>000004226</registered-number>
              <address>
                <text>東京都千代田区大手町一丁目５番１号</text>
              </address>
            </addressbook>
          </applicant>
          <agent sequence="1" jp:kind="representative">
            <addressbook>
              <name>杉村  憲司</name>
              <registered-number>100147485</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
          <agent sequence="2" jp:kind="representative">
            <addressbook>
              <name>大倉  昭人</name>
              <registered-number>100153017</registered-number>
            </addressbook>
            <jp:attorney/>
          </agent>
        </jp:applicants-agents>
      </jp:applicants-agents-article>
      <inventors>
        <inventor sequence="1">
          <addressbook>
            <name>大塚  浩昭</name>
            <address>
              <text>東京都千代田区大手町一丁目５番１号  日本電信電話株式会社内</text>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="2">
          <addressbook>
            <name>工藤  史堯</name>
            <address>
              <text>東京都千代田区大手町一丁目５番１号  日本電信電話株式会社内</text>
            </address>
          </addressbook>
        </inventor>
        <inventor sequence="3">
          <addressbook>
            <name>川邊  秀樹</name>
            <address>
              <text>東京都千代田区大手町一丁目５番１号  日本電信電話株式会社内</text>
            </address>
          </addressbook>
        </inventor>
      </inventors>
    </parties>
    <classification-ipc><edition/><main-clsf>H04L   9/08        20060101AFI20160715BHJP        </main-clsf><further-clsf>G09C   1/00        20060101ALI20160715BHJP        </further-clsf><further-clsf>G06F  21/31        20130101ALI20160715BHJP        </further-clsf></classification-ipc>
    <classification-national><country>JP</country><main-clsf>H04L9/00 601B</main-clsf><further-clsf>G09C1/00 620Z</further-clsf><further-clsf>G06F21/31</further-clsf></classification-national>
    <number-of-claims jp:adopted-law="claim">5</number-of-claims>
    <figure-to-publish>
      <fig-number>2</fig-number>
    </figure-to-publish>
    <jp:request-for-examination true-or-false="false"/>
    <jp:filing-form>ＯＬ</jp:filing-form>
    <jp:total-pages>10</jp:total-pages>
    <jp:theme-code-info>
      <jp:theme-code>5J104</jp:theme-code>
    </jp:theme-code-info>
    <jp:f-term-info>
      <jp:f-term>5J104AA16</jp:f-term>
      <jp:f-term>5J104AA32</jp:f-term>
      <jp:f-term>5J104DA03</jp:f-term>
      <jp:f-term>5J104EA01</jp:f-term>
      <jp:f-term>5J104EA04</jp:f-term>
      <jp:f-term>5J104EA19</jp:f-term>
      <jp:f-term>5J104JA21</jp:f-term>
      <jp:f-term>5J104MA05</jp:f-term>
      <jp:f-term>5J104NA02</jp:f-term>
      <jp:f-term>5J104NA06</jp:f-term>
      <jp:f-term>5J104NA36</jp:f-term>
      <jp:f-term>5J104NA37</jp:f-term>
      <jp:f-term>5J104PA07</jp:f-term>
    </jp:f-term-info>
  </bibliographic-data><jp:image-of-bibliographic-data><img id="000001" he="140" wi="160" file="2016146599.tif" img-format="tif" img-content="drawing"/></jp:image-of-bibliographic-data><jp:image-of-chosen-drawing>
    <img id="000002" he="95" wi="66" file="2016146599.tif" img-format="tif" img-content="drawing"/>
  </jp:image-of-chosen-drawing><description>

<technical-field>
<p num="0001">
  本発明は、関数型暗号を用いた暗号システム、属性管理装置、鍵生成装置および鍵生成方法に関する。
</p>
</technical-field>
<background-art>
<p num="0002">
  クラウドなどを利用した情報（データ）のやりとりにおいて、安全性を担保するための仕組みの１つとして、データへのアクセス権限を制御する条件文を暗号自身に組み込むことができる関数型暗号方式を用いた暗号システムがある（例えば、特許文献１参照）。
</p>
<p num="0003">
  関数型暗号方式を用いた暗号システムでは、利用者の所属する会社名、部署、利用者の役職などの属性情報を含む条件文が暗号に組み込まれる。そして、暗号システムに設けられた鍵発行センタ（ＫＧＣ：Ｋｅｙ  Ｇｅｎｅｒａｔｉｏｎ  Ｃｅｎｔｅｒ）により、利用者の属性情報に基づき属性鍵が生成され、利用者に対して発行される。利用者が暗号化されたデータへのアクセス権限を有する場合には、その利用者の属性情報に基づき生成された属性鍵により、暗号化されたデータを復号することができる。
</p>
</background-art>
<citation-list>
<patent-literature>
<p num="0004">
<patcit num="1"><text>特開２０１１−２３２４７５号公報</text></patcit>
</p>
</patent-literature>
</citation-list>
<summary-of-invention>
<tech-problem>
<p num="0005">
  従来、鍵発行センタは、利用者から申請される属性情報については、申請内容が正しいものと仮定して、属性鍵を生成していた。そのため、なりすましや虚偽の属性情報を検知することができないという問題があった。
</p>
<p num="0006">
  申請された属性情報についての公開鍵証明書を要求することで、なりすましや虚偽の属性情報を検知することができる。しかし、利用者に公開鍵証明書を要求することは、利用者の工数負荷が大きく、また、属性情報が変更された場合には、公開鍵証明書を再度取得する必要が生じ、手間がかかるという問題があった。
</p>
<p num="0007">
  本発明の目的は、上述した課題を解決し、利用者の手間を増大させることなく、安全性を高めることができる暗号システム、属性管理装置、鍵生成装置および鍵生成方法を提供することにある。
</p>
</tech-problem>
<tech-solution>
<p num="0008">
  上記課題を解決するため、本発明に係る暗号システムは、利用者の属性情報を管理する属性管理手段と、関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成手段と、を備え、前記鍵生成手段は、利用者の属性情報を含む前記属性鍵の生成要求を受け付けると、該生成要求に含まれる属性情報の正当性の確認を前記属性管理手段に要求し、前記属性管理手段により正当性が確認された属性情報に基づき前記属性鍵を生成する。
</p>
<p num="0009">
  また、上記課題を解決するため、本発明に係る属性管理装置は、利用者の属性情報を記憶する記憶部と、関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成装置から利用者の属性情報の正当性の確認を要求されると、該属性情報の正当性を、前記記憶部に記憶されている前記利用者の属性情報に基づき判定し、判定結果を前記鍵生成装置に通知する属性管理部と、を有する。
</p>
<p num="0010">
  また、上記課題を解決するため、本発明に係る鍵生成装置は、関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成装置であって、利用者の属性情報を含む前記属性鍵の生成要求を受け付けると、該生成要求に含まれる属性情報の正当性の確認を、前記利用者の属性情報を管理する属性管理装置に要求し、前記属性管理装置により正当性が確認された属性情報に基づき前記属性鍵を生成する鍵発行部を有する。
</p>
<p num="0011">
  また、上記課題を解決するため、本発明に係る鍵生成方法は、利用者の属性情報を管理するステップと、関数型暗号方式により暗号化されたデータを復号するための属性鍵であって、利用者の属性情報を含む属性鍵の生成要求を受け付けるステップと、前記生成要求に含まれる属性情報の正当性を、前記管理されている属性情報に基づき確認するステップと、正当性が確認された属性情報に基づき前記属性鍵を生成するステップと、を含む。
</p>
</tech-solution>
<advantageous-effects>
<p num="0012">
  本発明に係る暗号システム、属性管理装置、鍵生成装置および鍵生成方法によれば、利用者の手間を増大させることなく、安全性を高めることができる。
</p>
</advantageous-effects>
</summary-of-invention>
<description-of-drawings>
<p num="0013">
<figref num="1">本発明の一実施形態に係る暗号システムの構成を示す図である。</figref>
<figref num="2">図１に示す属性管理サーバおよび鍵発行センタの構成を示すブロック図である。</figref>
<figref num="3">図１に示す属性管理サーバおよび鍵発行センタの動作を示すフロー図である。</figref>
<figref num="4">図２に示す属性ＤＢが記憶する属性情報を示す図である。</figref>
<figref num="5">図２に示す鍵発行部が受け付ける属性鍵の生成要求に含まれる属性情報を示す図である。</figref>
<figref num="6">図２に示す鍵属性ＤＢが記憶する属性情報を示す図である。</figref>
</p>
</description-of-drawings>
<description-of-embodiments>
<p num="0014">
  以下、本発明の実施の形態について説明する。
</p>
<p num="0015">
  図１は、本発明の一実施形態に係る暗号システム１の構成を示す図である。本実施形態に係る暗号システム１は、利用者により関数型暗号方式を用いて暗号化されたデータを、クラウドなどを利用してやりとりするサービスにおいて、安全性を確保するためのものである。
</p>
<p num="0016">
  図１に示す暗号システム１は、ネットワーク２を介して互いに接続された認証サーバ１０と、鍵生成手段としての鍵発行センタ２０と、サービスプロバイダ３０とを有する。
</p>
<p num="0017">
  認証サーバ１０は、本人認証サーバ１１と、属性管理手段としての属性管理サーバ１２とを有する。
</p>
<p num="0018">
  本人認証サーバ１１は、サービスを利用する利用者の本人認証を行う。
</p>
<p num="0019">
  属性管理サーバ１２は、利用者の属性情報を管理する属性管理装置である。利用者の属性情報としては、利用者が所属する会社名、利用者の所属部、利用者の所属課、利用者の役職などの情報がある。
</p>
<p num="0020">
  鍵発行センタ２０は、関数型暗号方式により暗号化されたデータを復号するための属性鍵を、利用者からの要求に応じて生成し、要求元の利用者に発行する鍵生成装置である。
</p>
<p num="0021">
  サービスプロバイダ３０は、利用者の要求に応じて、データのアップロードあるいはダウンロードなどのサービスを提供する。
</p>
<p num="0022">
  次に、鍵発行センタ２０および属性管理サーバ１２の構成について、図２を参照して説明する。なお、本人認証サーバ１１およびサービスプロバイダ３０の構成は当業者にとってよく知られており、また、本発明と直接関係しないため、説明を省略する。
</p>
<p num="0023">
  まず、鍵発行センタ２０の構成について説明する。
</p>
<p num="0024">
  図２に示す鍵発行センタ２０は、鍵発行部２０１と、鍵属性ＤＢ２０２とを有する。
</p>
<p num="0025">
  鍵発行部２０１は、利用者から属性鍵の生成要求を受け付ける。属性鍵の生成要求には、要求元の利用者の属性情報が含まれる。鍵発行部２０１は、属性鍵の生成要求を受け付けると、生成要求に含まれる属性情報の正当性の確認を属性管理サーバ１２に要求する。そして、鍵発行部２０１は、属性管理サーバ１２により正当性が確認された属性情報に基づき属性鍵を生成し、要求元の利用者に発行する。
</p>
<p num="0026">
  鍵属性ＤＢ２０２は、属性管理サーバ１２により正当性が確認された利用者の属性情報を記憶する。
</p>
<p num="0027">
  次に、属性管理サーバ１２の構成について説明する。
</p>
<p num="0028">
  図２に示す属性管理サーバ１２は、属性ＤＢ１２１と、属性管理部１２２とを有する。
</p>
<p num="0029">
  属性ＤＢ１２１は、利用者の属性情報が入力され、入力された利用者の属性情報を管理（記憶）する記憶部である。利用者の属性情報が変更された場合には、変更後の属性情報が属性ＤＢ１２１に入力され、記憶される。
</p>
<p num="0030">
  属性管理部１２２は、鍵発行センタ２０から利用者の属性情報の正当性の確認が要求されると、属性ＤＢ１２１に記憶されているその利用者の属性情報に基づいて、正当性の確認が要求された属性情報の正当性を判定する。そして、属性管理部１２２は、属性情報の正当性についての判定結果を、鍵発行センタ２０に回答（通知）する。
</p>
<p num="0031">
  次に、鍵発行センタ２０および属性管理サーバ１２の動作について説明する。
</p>
<p num="0032">
  図３は、鍵発行センタ２０および属性管理サーバ１２の動作を示すフロー図である。
</p>
<p num="0033">
  属性ＤＢ１２１は、利用者の属性情報を管理（記憶）している。なお、以下では、属性ＤＢ１２１は、ある会社（会社名「○○産業」）の従業員の属性情報を管理しているものとする。
</p>
<p num="0034">
  図４は、属性ＤＢ１２１が管理する属性情報の構成を示す図である。
</p>
<p num="0035">
  図４に示すように、属性ＤＢ１２１は、属性情報として、利用者（「○○産業」の従業員）の氏名と、利用者の役職と、利用者の所属部と、利用者の所属課とを対応付けて記憶している。利用者（「○○産業」の従業員）の属性情報は、例えば、「○○産業」のシステム管理者などにより、属性ＤＢ１２１に入力される。なお、利用者の所属する部課の変更があった場合、部課名に変更があった場合など、利用者の属性情報に変更があった場合には、都度、変更内容が属性ＤＢ１２１に入力される。
</p>
<p num="0036">
  ここで、利用者の所属する部課の名称が単に変更されることがある。通常、部課の名称が変更されただけでは、名称が変更された部課に所属する利用者のデータへのアクセス権限を変更する必要がない。この場合、変更前の属性情報と変更後の属性情報とは同値であるとみなすことができる。属性ＤＢ１２１は、変更前の属性情報と変更後の属性情報とが同値であるとみなすことができる場合には、変更後の属性情報と併せて変更前の属性情報を記憶しておく。
</p>
<p num="0037">
  以下では、例えば、利用者Ｂの所属部の名称が営業部からセールス部に変更されたとする。この場合、属性ＤＢ１２１は、図４に示すように、利用者Ｂの所属部として、変更後の名称である「セールス部」を記憶するとともに、変更前の名称（旧名称）である「営業部」も記憶する。
</p>
<p num="0038">
  図３を再び参照すると、利用者Ｂから鍵発行センタ２０に、属性鍵の生成が要求されたとする（ステップＳ１）。上述したように、属性鍵の生成要求には、要求元の利用者の属性情報が含まれている。
</p>
<p num="0039">
  図５は、属性鍵の生成要求に含まれる利用者Ｂの属性情報を示す図である。
</p>
<p num="0040">
  図５に示すように、属性鍵の生成要求には、要求元である利用者Ｂの氏名と、利用者Ｂの所属する会社名「○○産業」と、利用者Ｂの役職「課長」と、利用者Ｂの所属部「営業部」と、利用者Ｂの所属課「外販課」とが、属性情報として含まれている。なお、上述したように、利用者Ｂの所属部の名称は、「営業部」から「セールス部」に変更されている。しかし、利用者Ｂからは所属部を旧名称である「営業部」として申請が行われている。
</p>
<p num="0041">
  図３を再び参照すると、鍵発行部２０１は、利用者Ｂからの属性鍵の生成要求を受け付けると、その生成要求に含まれる利用者Ｂの属性情報の正当性の確認を属性管理サーバ１２に要求する（ステップＳ２）。
</p>
<p num="0042">
  図５に示すように、生成要求に含まれる属性情報の会社名には「○○産業」が設定されている。そのため、鍵発行部２０１は、「○○産業」の従業員の属性情報を管理する属性管理サーバ１２に、生成要求に含まれる利用者Ｂの属性情報の正当性の確認を要求する。
</p>
<p num="0043">
  属性管理部１２２は、生成要求に含まれる利用者Ｂの属性情報の正当性の確認が要求されると、その属性情報と、属性ＤＢ１２１に記憶されている利用者Ｂの属性情報とを比較し、比較結果に基づき、生成要求に含まれる属性情報の正当性を判定する。そして、属性管理部１２２は、判定結果を鍵発行センタ２０に回答（通知）する（ステップＳ３）。
</p>
<p num="0044">
  属性管理部１２２は、正当性の確認が要求された属性情報（利用者Ｂの属性情報）と属性ＤＢ１２１に記憶されている利用者Ｂの属性情報とが一致する場合には、正当性の確認が要求された属性情報は正当なものであると判定する。一方、属性管理部１２２は、正当性の確認が要求された属性情報（利用者Ｂの属性情報）と属性ＤＢ１２１に記憶されている利用者Ｂの属性情報とが一致しない場合には、正当性の確認が要求された属性情報は正当なものではないと判定する。
</p>
<p num="0045">
  図４に示す属性ＤＢ１２１に記憶されている利用者Ｂの属性情報と、図５に示す生成要求に含まれる利用者Ｂの属性情報とを比較すると、役職、所属課については一致している。一方、所属部については、属性ＤＢ１２１には「セールス部」と記憶されているのに対し、生成要求では「セールス部」の旧名称である「営業部」が設定されている。
</p>
<p num="0046">
  上述したように、属性ＤＢ１２１は、属性情報が変更されても、データへのアクセス権限を変更する必要が無く、変更前の属性情報と変更後の属性情報とが同値であるとみなすことができる場合には、変更後の属性情報と共に、変更前の属性情報についても記憶している。図４の例では、属性ＤＢ１２１は、利用者Ｂの所属部として、「セールス部」と共に、「セールス部」の旧名称である「営業部」も記憶している。
</p>
<p num="0047">
  属性管理部１２２は、利用者Ｂの所属部として、現在の所属部の名称である「セールス部」と共に、旧名称である「営業部」が属性ＤＢ１２１に記憶されているため、生成要求に含まれる利用者Ｂの属性情報と、属性ＤＢ１２１に記憶されている利用者Ｂの属性情報とが一致すると判定する。この場合、属性管理部１２２は、生成要求に含まれる利用者Ｂの属性情報の正当性が確認された旨とともに、所属部の新名称は「セールス部」である旨を鍵発行センタ２０に通知する。
</p>
<p num="0048">
  鍵発行部２０１は、属性管理サーバ１２により正当性が確認された属性情報を鍵属性ＤＢ２０２に記憶させる。
</p>
<p num="0049">
  図６は、鍵属性ＤＢ２０２が記憶する属性情報を示す図である。
</p>
<p num="0050">
  図６に示すように、鍵属性ＤＢ２０２は、利用者Ｂの氏名と、利用者Ｂの所属する会社名と、利用者Ｂの役職と、利用者Ｂの所属部と、利用者Ｂの所属課とを対応付けて記憶する。ここで、上述したように、生成要求に含まれる利用者Ｂの属性情報の正当性が確認された旨とともに、所属部の新名称は「セールス部」である旨が属性管理部１２２から通知されている。この場合、鍵属性ＤＢ２０２は、利用者Ｂの所属部については、利用者から申請された「営業部」ではなく、属性管理サーバ１２から通知された「セールス部」を記憶する。
</p>
<p num="0051">
  鍵発行部２０１は、鍵属性ＤＢ２０２に記憶されている利用者Ｂの属性情報に基づき属性鍵を生成し、利用者Ｂに発行する（ステップＳ４）。なお、鍵発行部２０１は、生成要求に含まれる属性情報の正当性が確認できない旨が属性管理サーバ１２から通知された場合には、属性鍵を発行できない旨を利用者Ｂに通知する。
</p>
<p num="0052">
  このように本実施形態によれば、暗号システム１は、属性管理サーバ１２と、鍵発行センタ２０とを有する。属性管理サーバ１２は、利用者の属性情報を管理する。鍵発行センタ２０は、利用者の属性情報を含む属性鍵の生成要求を受け付けると、生成要求に含まれる属性情報の正当性の確認を属性管理サーバ１２に要求する。属性管理サーバ１２は、管理している利用者の属性情報に基づき、鍵発行センタ２０から正当性の確認を要求された属性情報の正当性を判定する。そして、鍵発行センタ２０は、属性管理サーバ１２により正当性が確認された属性情報に基づき、属性鍵を生成する。
</p>
<p num="0053">
  そのため、属性管理サーバ１２により利用者から申請された属性情報の正当性が判定され、正当性が確認された属性情報に基づき、属性鍵が生成されるので、なりすましや虚偽の属性情報を検知し、安全性を高めることができる。また、属性管理サーバ１２が利用者の属性情報を管理しているため、利用者に公開鍵証明書などを要求する必要が無く、利用者の手間の増大を抑制することができる。
</p>
<p num="0054">
  また、本実施形態によれば、属性管理サーバ１２は、属性情報が変更された際に、変更前の属性情報と変更後の属性情報とが同値であるとみなせる場合には、変更後の属性情報と共に変更前の属性情報を記憶する。そして、属性管理サーバ１２は、正当性の確認が要求された属性情報が、記憶している変更後の属性情報または変更前の属性情報と一致する場合には、正当性の確認が要求された属性情報は正当であると判定する。
</p>
<p num="0055">
  そのため、アクセス権限を変更する必要が無いような属性情報の変更があった場合に、利用者はその変更を意識することなく、属性鍵の生成を要求することができるので、利用者の手間の増大を抑制することができる。
</p>
<p num="0056">
  本発明を諸図面や実施例に基づき説明してきたが、当業者であれば本開示に基づき種々の変形や修正を行うことが容易であることに注意されたい。従って、これらの変形や修正は本発明の範囲に含まれることに留意されたい。例えば、各ブロックおよびステップに含まれる機能等は論理的に矛盾しないように再配置可能であり、複数のブロックおよびステップを１つに組み合わせたり、或いは分割したりすることが可能である。
</p>
</description-of-embodiments>
<reference-signs-list>
<p num="0057">
  １    暗号システム<br/>
  １０    認証サーバ<br/>
  １１    本人認証サーバ<br/>
  １２    属性管理サーバ<br/>
  ２０    鍵発行センタ<br/>
  ３０    サービスプロバイダ<br/>
  １２１    属性ＤＢ<br/>
  １２２    属性管理部<br/>
  ２０１    鍵発行部<br/>
  ２０２    鍵属性ＤＢ
</p>
</reference-signs-list>
</description><claims>
<claim num="1">
<claim-text>
  利用者の属性情報を管理する属性管理手段と、<br/>
  関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成手段と、を備え、<br/>
  前記鍵生成手段は、利用者の属性情報を含む前記属性鍵の生成要求を受け付けると、該生成要求に含まれる属性情報の正当性の確認を前記属性管理手段に要求し、前記属性管理手段により正当性が確認された属性情報に基づき前記属性鍵を生成することを特徴とする暗号システム。
</claim-text>
</claim>
<claim num="2">
<claim-text>
  利用者の属性情報を記憶する記憶部と、<br/>
  関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成装置から利用者の属性情報の正当性の確認を要求されると、該属性情報の正当性を、前記記憶部に記憶されている前記利用者の属性情報に基づき判定し、判定結果を前記鍵生成装置に通知する属性管理部と、を有することを特徴とする属性管理装置。
</claim-text>
</claim>
<claim num="3">
<claim-text>
  請求項２記載の属性管理装置において、<br/>
  前記記憶部は、前記属性情報が変更された際に、変更前の属性情報と変更後の属性情報とが同値であるとみなせる場合には、変更後の属性情報と共に変更前の属性情報を記憶し、<br/>
  前記属性管理部は、正当性の確認が要求された属性情報が、前記記憶部に記憶されている変更後の属性情報または変更前の属性情報と一致する場合には、前記正当性の確認が要求された属性情報は正当であると判定することを特徴とする属性管理装置。
</claim-text>
</claim>
<claim num="4">
<claim-text>
  関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成装置であって、<br/>
  利用者の属性情報を含む前記属性鍵の生成要求を受け付けると、該生成要求に含まれる属性情報の正当性の確認を、前記利用者の属性情報を管理する属性管理装置に要求し、前記属性管理装置により正当性が確認された属性情報に基づき前記属性鍵を生成する鍵発行部を有することを特徴とする鍵生成装置。
</claim-text>
</claim>
<claim num="5">
<claim-text>
  利用者の属性情報を管理するステップと、<br/>
  関数型暗号方式により暗号化されたデータを復号するための属性鍵であって、利用者の属性情報を含む属性鍵の生成要求を受け付けるステップと、<br/>
  前記生成要求に含まれる属性情報の正当性を、前記管理されている属性情報に基づき確認するステップと、<br/>
  正当性が確認された属性情報に基づき前記属性鍵を生成するステップと、を含む鍵生成方法。
</claim-text>
</claim>
</claims><abstract>
  <p num="">【課題】利用者の手間を増大させることなく、安全性を高める。<br/>【解決手段】本発明に係る暗号システムは、利用者の属性情報を管理する属性管理手段としての属性管理サーバ１２と、関数型暗号方式により暗号化されたデータを復号するための属性鍵を生成する鍵生成手段として鍵発行センタ２０とを備え、鍵発行センタ２０は、利用者の属性情報を含む属性鍵の生成要求を受け付けると、生成要求に含まれる属性情報の正当性の確認を属性管理サーバ１２に要求し、属性管理サーバ１２により正当性が確認された属性情報に基づき属性鍵を生成する。<br/>【選択図】図２</p>
</abstract><drawings>
<figure num="1">
<img id="000003" he="122" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="2">
<img id="000004" he="122" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="3">
<img id="000005" he="122" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="4">
<img id="000006" he="28" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="5">
<img id="000007" he="28" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
<figure num="6">
<img id="000008" he="28" wi="85" file="2016146599.tif" img-format="tif" img-content="drawing"/>
</figure>
</drawings><jp:overflow><p num="">(72)発明者  川邊  秀樹<br/>            東京都千代田区大手町一丁目５番１号  日本電信電話株式会社内<br/>Ｆターム(参考) 5J104 AA16  AA32  DA03  EA01  EA04  EA19  JA21  MA05  NA02  NA06 <br/>                     NA36  NA37  PA07 <br/></p></jp:overflow></jp-official-gazette>
