{
    "path": "None",
    "publication": {
        "doc_number": "2015039043",
        "country": "JP",
        "kind": "公開特許公報(A)",
        "date": "20150226"
    },
    "application": {
        "doc_number": "2007042717",
        "date": "20070222"
    },
    "invention_title": "通信装置およびその通信方法",
    "parties": {
        "applicants": [
            {
                "name": "株式会社リコー",
                "registered_number": "000006747",
                "address": "東京都大田区中馬込１丁目３番６号"
            }
        ],
        "agents": [
            {
                "name": "大澤  敬",
                "registered_number": "100080931",
                "address": null
            },
            {
                "name": "大澤  豊",
                "registered_number": "100123881",
                "address": null
            }
        ],
        "inventors": [
            {
                "name": "高橋  正勝",
                "registered_number": null,
                "address": "東京都大田区中馬込１丁目３番６号  株式会社リコー内"
            }
        ]
    },
    "classifications": {
        "ipc_main": "H04W  64/00        20090101AFI20150130BHJP",
        "ipc_further": [
            "H04W  60/00        20090101ALI20150130BHJP",
            "H04M   3/42        20060101ALI20150130BHJP"
        ],
        "jp_main": "H04B7/26 106A",
        "jp_further": [
            "H04Q7/04 C",
            "H04M3/42 U"
        ]
    },
    "theme_codes": [
        "5K067",
        "5K201"
    ],
    "f_terms": [
        "5K067AA34",
        "5K067BB04",
        "5K067BB36",
        "5K067DD11",
        "5K067DD17",
        "5K067DD19",
        "5K067DD52",
        "5K067EE02",
        "5K067EE10",
        "5K067EE16",
        "5K067FF02",
        "5K067FF03",
        "5K067FF23",
        "5K067FF25",
        "5K067HH22",
        "5K067HH23",
        "5K067JJ52",
        "5K067JJ54",
        "5K067JJ56",
        "5K067JJ64",
        "5K201AA05",
        "5K201AA08",
        "5K201BA03",
        "5K201BA06",
        "5K201CA10",
        "5K201CC04",
        "5K201CC05",
        "5K201EA07",
        "5K201EC05",
        "5K201ED05",
        "5K201ED06",
        "5K201EF10"
    ],
    "claims": [
        "【請求項1】基地局と通信接続する手段を有する通信装置であって、 自装置と通信接続している基地局の識別情報と他の通信装置と通信接続している基地局の識別情報との関係が所定の条件の場合に、所定の通知を受ける受信手段を設けたことを特徴とする通信装置。",
        "【請求項2】請求項１記載の通信装置において、 自装置の識別情報を前記所定の通知を送信する外部装置に記憶させる記憶制御手段を設けたことを特徴とする通信装置。",
        "【請求項3】請求項１又は２記載の通信装置において、 前記受信手段によって前記所定の通知を受けた場合に、位置情報を取得する位置情報取得手段を設けたことを特徴とする通信装置。",
        "【請求項4】請求項３記載の通信装置において、 前記位置情報取得手段は、ＧＰＳ手段によって位置情報を取得することを特徴とする通信装置。",
        "【請求項5】請求項１乃至４のいずれか一項に記載の通信装置において、 前記所定の条件は、自装置と通信接続している基地局の識別情報と他の通信装置と通信接続している基地局の識別情報が同一であることを特徴とする通信装置。",
        "【請求項6】請求項１乃至５のいずれか一項に記載の通信装置において、 前記所定の通知は、前記所定の条件を満足した旨の通知であることを特徴とする通信装置。",
        "【請求項7】請求項１乃至６のいずれか一項に記載の通信装置において、 前記所定の通知は、電子メールを用いた通知であることを特徴とする通信装置。",
        "【請求項8】基地局と通信接続する手段を有する通信装置における通信方法であって、 自装置と通信接続している基地局の識別情報と他の通信装置と通信接続している基地局の識別情報との関係が所定の条件の場合に、所定の通知を受ける受信工程を有することを特徴とする通信方法。",
        "【請求項9】請求項８記載の通信方法において、 自装置の識別情報を前記所定の通知を送信する外部装置に記憶させる記憶制御工程を有することを特徴とする通信方法。",
        "【請求項10】請求項８又は９記載の通信方法において、 前記受信工程によって前記所定の通知を受けた場合に、位置情報を取得する位置情報取得工程を有することを特徴とする通信方法。",
        "【請求項11】請求項１０記載の通信方法において、 前記位置情報取得工程は、ＧＰＳ手段によって位置情報を取得することを特徴とする通信方法。",
        "【請求項12】請求項８乃至１１のいずれか一項に記載の通信方法において、 前記所定の条件は、自装置と通信接続している基地局の識別情報と他の通信装置と通信接続している基地局の識別情報が同一であることを特徴とする通信方法。",
        "【請求項13】請求項８乃至１２のいずれか一項に記載の通信方法において、 前記所定の通知は、前記所定の条件を満足した旨の通知であることを特徴とする通信方法。",
        "【請求項14】請求項８乃至１３のいずれか一項に記載の通信方法において、 前記所定の通知は、電子メールを用いた通知であることを特徴とする通信方法。"
    ],
    "description": {
        "technical_field": [
            "この発明は、携帯電話、ＰＨＳ（Personal Handyphone System）、移動体通信装置、ＰＤＡ（Personal Digital Assistance）、ゲーム機、ＧＰＳ（Global Positioning System）装置、カーナビ装置、コンピュータ装置（例えばパーソナルコンピュータ）等の通信機能を有する通信装置、その通信装置を管理する管理装置、その通信装置における制御方法、上記通信装置のコンピュータ（ＣＰＵ）に実行させるプログラム、およびそのプログラムを記録したコンピュータ読み取り可能な記録媒体に関する。"
        ],
        "background_art": [
            "現在のＧＰＳ（全地球測位システム）を利用した通信装置においては、自装置の位置情報に基づいた地図情報を、自装置の表示画面に表示し、自装置の位置を確認するのが普通の使い方である（例えば特許文献１参照）。 このような通信装置においては、近年、目的地を設定し、自装置の位置から目的地までの行き方を案内する、いわゆるナビゲーション機能も搭載されつつある。 特開２００５−１９２１５１号公報"
        ],
        "disclosure": {
            "tech_problem": [
                "しかしながら、このような通信装置におけるナビゲーション機能も限定的であり、その使い勝手もあまり良くないのが現状である。 この発明は、上記の点に鑑みてなされたものであり、「位置情報」に着目し、その「位置情報」を利用して携帯電話装置等の通信装置の利便性を向上させることを目的とする。"
            ],
            "tech_solution": [
                "この発明は、上記の目的を達成するため、通信装置、管理装置、その通信装置における制御方法、その通信装置を制御するコンピュータに実行させるプログラム、およびそのプログラムを記録したコンピュータ読み取り可能な記録媒体を提供する。 請求項１の発明による通信装置は、外部装置と通信回線を介して通信可能な通信装置において、当該通信装置の位置に基づいた位置情報を上記外部装置に記憶させる位置情報記憶制御手段と、該位置情報記憶制御手段によって上記外部装置に記憶された位置情報が所定の条件を充足した場合に、該外部装置からその旨の通知を受信する受信手段とを設けたものである。",
                "請求項２の発明による通信装置は、請求項１の通信装置において、上記位置情報を、当該通信装置が通信する基地局の情報に基づいた情報としたものである。 請求項３の発明による通信装置は、請求項１の通信装置において、上記位置情報を、基地局側に登録されている当該通信装置の位置情報としたものである。 請求項４の発明による通信装置は、請求項１〜３のいずれかの通信装置において、上記位置情報が上記所定の条件を充足した場合を、該位置情報が予め記憶された位置情報と一致あるいは部分一致した場合のこととしたものである。",
                "請求項５の発明による通信装置は、請求項４の通信装置において、上記予め記憶された位置情報を、１以上の基地局の情報に基づいた情報としたものである。 請求項６の発明による通信装置は、請求項１〜５のいずれかの通信装置において、上記位置情報を、当該通信装置の識別情報に基づいた情報としたものである。 請求項７の発明による管理装置は、複数の通信装置を管理する管理装置であって、ある通信装置の位置に基づいた位置情報を記憶する位置情報記憶手段と、該位置情報記憶手段によって記憶された上記通信装置の位置情報が所定の条件を充足した場合に、その旨を他の通信装置へ通知する通知手段とを設けたものである。",
                "請求項８の発明による制御方法は、外部装置と通信回線を介して通信可能な通信装置における制御方法であって、当該通信装置の位置に基づいた位置情報を上記外部装置に記憶させる位置情報記憶制御工程と、該位置情報記憶制御工程によって上記外部装置に記憶された位置情報が所定の条件を充足した場合に、該外部装置からその旨の通知を受信する受信工程とからなるものである。 請求項９の発明による制御方法は、請求項１の通信装置における制御方法において、上記位置情報を、当該通信装置が通信する基地局の情報に基づいた情報としたものである。",
                "請求項１０の発明によるプログラムは、外部装置と通信回線を介して通信可能な通信装置を制御するコンピュータに、当該通信装置の位置に基づいた位置情報を上記外部装置に記憶させる位置情報記憶制御機能と、該位置情報記憶制御機能によって上記外部装置に記憶された位置情報が所定の条件を充足した場合に、該外部装置からその旨の通知を受信する受信機能とを実現させるためのプログラムである。",
                "請求項１１の発明によるプログラムは、請求項１０のプログラムにおいて、上記位置情報を、当該通信装置が通信する基地局の情報に基づいた情報としたものである。 請求項１２の発明によるプログラムは、請求項１０のプログラムにおいて、上記位置情報を、基地局側に登録されている当該通信装置の位置情報としたものである。 請求項１３の発明によるプログラムは、請求項１０〜１２のいずれかのプログラムにおいて、上記位置情報が上記所定の条件を充足した場合を、該位置情報が予め記憶された位置情報と一致あるいは部分一致した場合のこととしたものである。",
                "請求項１４の発明によるプログラムは、請求項１３のプログラムにおいて、上記予め記憶された位置情報を、１以上の基地局の情報に基づいた情報としたものである。 請求項１５の発明によるプログラムは、請求項１０〜１４のいずれかのプログラムにおいて、上記位置情報を、当該通信装置の識別情報に基づいた情報としたものである。 請求項１６の発明による記録媒体は、請求項１０〜１５のいずれかのプログラムを記録したコンピュータ読み取り可能な記録媒体である。"
            ],
            "advantageous_effects": [
                "この発明によれば、通信装置が、自己の位置に基づいた位置情報を外部装置に記憶させ、その位置情報が所定の条件を充足した場合（例えば予め記憶された位置情報と一致あるいは部分一致した場合）に、その外部装置からその旨の通知を受信するので、その通知内容を表示又は音声によって出力することにより、ユーザはこの通信装置の位置に基づいた位置情報が所定の条件を充足したことを直ちに知ることができる。よって、利便性が向上する。"
            ]
        },
        "best_mode": [
            "以下、この発明を実施するための最良の形態を図面に基づいて具体的に説明する。なお、この実施形態では通信装置（通信端末装置）として携帯電話装置を用いた例について説明する。",
            "〔第１実施形態〕 まず、第１実施形態について図１〜図３８に基づいて説明する。この第１実施形態は、ＴＶ受信機能およびＧＰＳ機能付きの携帯電話装置を適用したものである。 〔１．携帯電話装置１の構成〕 図１はこの発明の第１実施形態であるＴＶ受信機能およびＧＰＳ機能付きの携帯電話装置１の内部構成例を示すブロック図、図２はその携帯電話装置１の外部構成例を示す正面図、図３はその携帯電話装置１の要部構成例を示すブロック図である。",
            "この携帯電話装置１には、図１に示すように、各部を集中的に制御するＣＰＵ（Central Processing Unit）２が備えられており、このＣＰＵ２からのシステムバス２７には、ＲＯＭ３、フラッシュＲＯＭ（フラッシュメモリ）４、およびＲＡＭ５の各半導体メモリが接続されている。 ＲＯＭ３は、携帯電話装置１を動作させるための各種の実行プログラムを記憶している読み出し専用のメモリ（記憶媒体）である。",
            "フラッシュＲＯＭ４は、地図情報（地図データ）や、音楽情報（音楽データ）、画像情報、動画情報等の他のデータを記憶する書き換え可能な不揮発性メモリである。フラッシュＲＯＭ４の代わりに、他の不揮発性メモリ、例えば着脱可能なメモリカード等の不揮発性の半導体メモリやＨＤＤ（ハードディスク装置）など、各種の不揮発性の記憶部（記録媒体）を使用することも可能である。また、実行プログラムをそのような不揮発性の記憶部（以下単に「記憶部」ともいう）に記憶してもよく、そうすれば技術の進歩に応じたプログラムのバージョンアップが容易になる。 ＲＡＭ５は、ＣＰＵ２の制御に必要なワークエリアが形成されるとともに、後述する位置情報や、保存パラメータ、その他の制御に必要な各種パラメータ、管理情報等の各種データを記憶する読み書き可能なメモリである。",
            "ここで、ＣＰＵ２は、実行プログラムをＲＯＭ３から読み出し、ＲＡＭ５をワークエリアとして利用しつつ、その実行プログラムに含まれる命令を逐次解釈して装置全体の制御を行うことにより、この発明に関わる位置情報記憶制御手段および受信手段としての機能を含む後述する各種機能を実現することができる。 実行プログラムとしては、図３に示すように、制御を行ううえで基本となるＯＳ（オペレーティングシステム）３０ａ、およびそのＯＳ３０ａ上で動作するアプリケーション用ソフトウェア（以下「アプリケーションソフト」「アプリケーション」又は「アプリ」ともいう）３０ｂ等がある。",
            "アプリケーション３０ｂの１つであるウェブブラウザ（以下単に「ブラウザ」とも呼ぶ）は、インタネット網に接続されているサーバ装置（外部装置）４０から受信した情報を後述する操作入力・表示部１０上に表示したり、あるいは操作入力・表示部１０上での操作結果による情報をサーバ装置４０へ送信するものであり、ＨＴＴＰ（HyperText Transfer Protocol）で代表されるインタネットプロトコル（ＷＷＷプロトコル）を使用して通信を行う。なお、サーバ装置４０としては、ウェブ装置や情報提供装置等があり、それらから送信される情報はＨＴＭＬ（HyperText Markup Language）、ＳＧＭＬ（Standard Generalized Markup Language）、ＸＨＴＭＬ（eXtensible HyperText Markup Language）、ＤＨＴＭＬ（Dynamic HyperText Markup Language）、ＸＭＬ（eXtensible Markup Language）などのマークアップ言語で記述されている。",
            "後述する無線通信手段１２における通信速度が十分に広帯域（ブロードバンド）であれば、実行プログラムやその他のデータはサーバ装置４０側の記憶部に記憶しておき、プログラムの実行もサーバ装置４０側で実行して（データもサーバ装置４０の記憶部に記憶しているデータを使用する）、その結果をこの携帯電話装置１に送信するようにしてもよい。なお、サーバ装置４０の代わりに、外部記憶装置を使用してもよい。",
            "ＣＰＵ２からのシステムバス２７には、操作入力・表示部１０、通話部１１、無線通信手段１２、画像処理回路１３、撮影手段（カメラ手段）１４、画像表示制御手段１５、フレームメモリ（画像メモリ）１６、ＴＶ受信手段１７、外部インタフェース手段（以下「インタフェース」「Ｉ／Ｆ」という」１８、メモリカードＩ／Ｆ手段１９、ＧＰＳ手段２０、ＩＣタグ手段２１、ＩＣタグリーダライタ手段２２、無線Ｉ／Ｆ手段２３、振動可能なバイブレータであるバイブレータ手段２４、音源である鳴動手段２５も接続されている。以下において、システムバス２７を介してＣＰＵ２に接続される各部について詳述する。",
            "操作入力・表示部１０は、例えば図２に示すように、テンキー等の各種のボタン（キー）が配置された操作入力部１０ａと、操作ガイダンスや装置の状態、アプリケーションの実行状態や実行結果等を表示する表示部１０ｂとで構成されており、オペレータが携帯電話装置１を操作するためのものである。表示部１０ｂとしては、ＬＣＤ（Liquid Crystal Display）を使用するが、プラズマディスプレイ又はＣＲＴディスプレイ等を使用してもよい。",
            "通話部１１は、音声を入力する音声入力部であるマイク部１１ａと、音声を出力する音声出力部であるスピーカ部１１ｂと、通話回路１１ｃとから構成されている。通話回路１１ｃは、マイク部１１ａから入力された音声信号を無線通信手段１２に送出し、無線通信手段１２から入力された音声信号をスピーカ部１１ｂに出力するものである。また、通話回路１１ｃには、音声信号を増幅したりあるいは減衰することにより音量を調整したり、音声信号の周波数特性を変化させることにより音質を良くしたりする回路も含まれている。さらに、通話回路１１ｃは、マイク部１１ａからスピーカ部１１ｂへの音の回り込みを制御するいわゆる側音制御も行う。",
            "無線通信手段１２は、通信網側（通信回線、通信回線側の通信設備）との間で、音声信号とデータ信号を送受信する。なお、携帯電話装置１の場合は、通信キャリアの基地局あるいは無線ＬＡＮの無線局（アクセスポイント、無線通信設備）との間で無線を使用して通信を行うが、有線で交換局と通信してもよい。 画像処理回路１３は、撮影手段（カメラ手段）１４が出力するアナログ電気信号を受信し、それをＡ／Ｄ変換することによりデジタル画像信号を得て、そのデジタル画像信号に対して画像処理（密度変換、フィルタリング、最適化処理、拡大縮小、圧縮伸張等）を行う。画像処理回路１３で画像処理された画像データは、ＲＡＭ（メモリ部）５又はフレームメモリ１６に記憶される。",
            "撮影手段（カメラ手段）１４は、撮影対象物を画像データ（画情報）に変換するものである。具体的には、撮像素子であるＣＣＤ（Charge Coupled Device）等が使用される。このＣＣＤは、撮影対象物からの光信号を受光し、それをアナログの電気信号に変換して出力するものである。 画像表示制御手段１５は、画像処理回路１３により画像処理されてフレームメモリ１６に蓄積された画像データを可視画像として操作入力・表示部１０の表示部１０ｂに表示するための制御を行うものである。 フレームメモリ１６は、画像データを表示部１０ｂに可視画像として表示可能に展開するための画像メモリである。",
            "ＴＶ受信手段１７は、ＴＶ用アンテナ、検波部、チューナ部から構成されるもので、ＴＶ放送用電波を受信し、ＴＶ画像信号（ＴＶ放送データ）を出力する。ＴＶ画像信号は、画像処理回路１３に入力され、所定の画像処理を施された後、フレームメモリ１６に蓄積される。フレームメモリ１６に蓄積された画像データは、画像表示制御手段１５に出力され、表示部１０ｂにＴＶ画像が表示される。また、フレームメモリ１６に蓄積された画像データ（ＴＶ画像）は、撮影手段１４で取得した画情報と同様に、ＲＡＭ（メモリ部）５に記憶させることができる（ＴＶ画像録画部）。つまり、携帯電話装置１でＴＶ放送をリアルタイムに視聴するだけでなく、ＴＶ放送を録画した録画データ（録画放送映像、録画映像）を再生して視聴することも可能となっている。",
            "外部Ｉ／Ｆ手段１８は、ケーブルなどの有線を使用してＰＣ（パーソナルコンピュータ）等の外部装置に接続して、データ等の送受信を行うものである。具体的には、装置専用のＩ／ＦやＵＳＢ等の汎用のＩ／Ｆがある。 メモリカードＩ／Ｆ手段１９は、ＩＣカード、メモリカード、メモリユニットなど、記憶媒体を搭載した装置と接続して、データの送受信を行うものである。 ＧＰＳ手段２０は、ＧＰＳ受信機として機能を有しており、人工衛星からの電波を受信し、その到達時間のずれを検出し、そのずれから最終的に当該携帯電話装置１が位置する緯度と経度などの地球上の位置情報を算出するものである。",
            "ＩＣタグ手段２１は、リーダライタ装置と無線でデータの送受信を行うものである。このＩＣタグ手段２１は、電波信号を送受信するためのアンテナ用コイル、共振コンデンサ、変復調回路、整流平滑回路からなる無線通信手段と、ＣＰＵ、ＲＯＭ、ＲＡＭから構成される。リーダライタ装置から送信されてくる高周波の電力用電波信号をアンテナと共振用コンデンサで受信し、整流平滑回路で整流平滑化して、一定電圧の動作用電源を作成してＩＣタグ内部に供給する。また、リーダライタ装置から送信されてくる信号は、電力用電波信号に重畳されており、受信した信号は変復調回路によって復調される。ＣＰＵは、ＲＯＭに記憶されたプログラムによって動作するものであり、ＲＡＭ上に動作に必要なワークエリアを形成しながら、ＩＣタグ全体の動作の制御を行うものである。なお、ＩＣタグは、一度情報を書き込んだら二度と変更できないリードオンリのものと、後から書き換えが可能なものや、追記のみ可能なもの（追記型）がある。",
            "ＩＣタグリーダライタ手段２２は、電波信号を送信する送信アンテナ用コイルからなる無線送信部と電波信号を受信する受信用アンテナコイルからなる無線受信部と制御回路から構成される（いずれも図示せず）。制御回路は、電力用電波信号を送信し、また送信する信号を電力用電波信号に重畳して送信用アンテナから送信する。また、受信用アンテナからＩＣタグが送信した信号を受信し、それを復調して受信データを得る。このようにＩＣタグとＩＣタグリーダライタ手段２２の間では電波信号を使用して通信を行うことにより、ＩＣタグの情報を読み出したり、逆にＩＣタグに書き込みたい情報をＩＣタグに書き込むことができる。なお、ＩＣタグリーダライタ手段２２は、リーダ部とライタ部を両方備えているが、用途によってはどちらか一方を備えているだけでもよい。ＩＣタグとＩＣタグリーダライタ手段２２間での伝送媒体方式としては、電磁結合型、電磁誘導型、マイクロ波型、光交信型などがある。",
            "なお、複数のリーダライタ装置があると、相互干渉によるＩＣタグの読み取りエラーが起こる。その対策としては、リーダライタ装置同士の交信状況を互い知らせることによって干渉を防ぐ同期部がある。また、１つのリーダライタ装置が他のリーダライタ装置をコントロールするマスタスレーブ部を備えていてもよい。",
            "電波信号を使用したＩＣタグ用無線プロトコルあるいは通信方式は、例えばコマンド・レスポンスをベースとしたシンプルなプロトコルで構成されてもよいし、その他プロトコルはいろいろあり、また現在も多くのものが提案されているためここでは言及を避けるが、どのようなプロトコルであれ、この発明に使用できるものである。特にプロトコルにＨＴＴＰを使用するとともに、ファイル形式にＭＬ（マークアップ・ランゲージ）ベースのファイル（ＸＭＬ，ＨＴＭＬ，ＳＧＭＬ，ＸＨＴＭＬ，ＣＨＴＭＬ，ＨＤＭＬ，ＤＨＴＭＬ等）を使用することにより、より汎用性の高い利用が期待できる。",
            "無線Ｉ／Ｆ手段２３は、無線を使用してデータの送受信を行うものであり、無線ＵＳＢ、ブルートゥース、赤外線通信、無線ＬＡＮ通信などがある。 この無線Ｉ／Ｆ手段２３又は前述した外部Ｉ／Ｆ手段１８を使用して、例えばＰＣ（パーソナルコンピュータ）等が記憶している地図データ、音楽データ（楽曲データ）、その他の大容量のデータを、携帯電話装置１の記憶部に転送することにより記憶することができる。 また、言うまでもないが、前述した構成は全て備えている必要はなく、発明の一実施例に必要な構成を最低限備えていればよいものである。",
            "〔２．携帯電話装置（移動機）のシステム全体の構成・機能〕 次に、携帯電話装置（移動機）１を含む各種の携帯電話装置（以下単に「携帯電話」ともいう）のシステム全体の構成について説明する。 携帯電話（移動機）とは、無線通信を利用した持ち歩ける電話機のことである。基地局と呼ばれる有線ネットワークとの中継点と携帯電話が無線で通信し、各種の通信サービスを移動しながらにして受けられる。 携帯電話は基地局との間の通信方式によって世代が分けられており、現在までに市販された携帯電話は大きく分けると３世代になる。",
            "第１世代の携帯電話（１Ｇ）は、ＦＤＭＡ（Frequency Division Multiple Access）方式を採用したいわゆる「アナログ携帯電話」である。第２世代の携帯電話（２Ｇ）では、通信のデジタル化やＴＤＭＡ（Time Division Multiple Access）方式の採用が行われ、ＰＤＣ（Primary Domain Controller）や、ヨーロッパ各国で広く使われているＧＳＭ（Global System for Mobile Communications）などがある。また、第２世代のサービスを一歩進めた「第２．５世代（２．５Ｇ）」と呼ばれるサービスとして、ＣＤＭＡ（Code Division Multiple Access）方式を採用したｃｄｍａＯｎｅサービスを開始した。更に、ヨーロッパ各国の携帯電話キャリアが、ＧＳＭ方式のネットワークで１１５ｋｂｐｓ程度の高速通信を可能にするＧＰＲＳ（General Packet Radio Service）のサービスを開始し、通話よりもデータ通信を重視したサービスの展開が始まった。",
            "そして、第３世代の携帯電話（３Ｇ）ではＣＤＭＡ方式を採用することにより、雑音や途切れの少ない会話が可能になり、データ通信でも最高で３８４ｋｂｐｓ程度という、２Ｇでは実現不可能な高速通信が可能になった。第３世代の携帯電話サービスでは、より品質の高い無線通信ネットワークをベースとした、携帯電話を利用したブロードバンドサービスが提供されている。",
            "携帯電話を利用したサービスは多様化する傾向にある。 １Ｇや２Ｇの前半期に行われていたサービスは、電話をかける・受けるといった純粋な通話サービスだけだった。しかし、２Ｇの後半や２．５Ｇになって、まず携帯電話加入者同士でのショートメッセージサービス（ＳＭＳ）が始まった。 そして、携帯電話からインタネットに接続してＷｅｂサイトを見たり電子メールを送受信するといった、携帯電話のインタネット端末化が急激に進んだ。現在の携帯電話は、このインタネット端末化が更に進んだ製品になっており、インタネットからの音楽・動画配信サービスに対応する、一部の３Ｇサービスではテレビ電話が可能になるなど、携帯電話の機能は増え続けている。",
            "さらに、通話とは直接関係しない、デジタルカメラ機能、アプリケーションソフトの実行機能、あるいはＧＰＳ機能といった機能が搭載された携帯電話も出回っており、携帯電話はインタネット端末という枠を超え、携帯情報端末（ＰＤＡ）としての機能を備えた機器に進化しつつある。",
            "〔２−１．基地局〕 次に、基地局について説明する。 この基地局は、携帯電話と直接交信する、携帯電話網の末端にあたる装置である。電柱やビルの屋上、電話ボックス、地下鉄ホームの天井などに設置されている。 １つの基地局で通話できる人数は限られるため、繁華街などの人の多い場所では、２個以上の基地局設備が同じ場所に置かれていることもある。",
            "携帯電話が基地局と電波で交信できる範囲がいわゆる「通話エリア」で、この範囲内でしか通話することができない。 初期のＰＨＳなどは、通話しながら移動すると、交信中の基地局の電波が届かなくなり、通話が途切れてしまっていた。携帯電話や最近のＰＨＳは、この弱点を克服するため、端末の移動にしたがって最も受信感度の高い基地局に交信相手を切り替える「ハンドオーバ」機能を持っている。 また広い意味では、無線ＬＡＮのアクセスポイント（ＡＰ）も含む。",
            "〔２−２．ゾーン構成法〕 次に、ゾーン構成法について説明する。 公衆移動通信では、一般に広いサービスエリアをカバーすると同時に、多数の加入者を収容する必要があり、限られた周波数の中でこれを実現するためには、サービスエリアを多数のゾーン（領域、セル）に分割し、分割したゾーン内にそれぞれの基地局を設置し、同じ周波数を地理的に離れたゾーンで再利用することにより、周波数の有効利用を図る方法が一般に採用される。",
            "このように、サービスエリアを複数のゾーンに分割してカバーする方法を、１つの基地局で広いサービスエリアをカバーする大ゾーン方式に対して、小ゾーン方式、又はセル方式と呼ぶ。セル方式には、１つの基地局において無指向性のアンテナを用いて１つのゾーンを構成する方法の他に、１つの基地局において指向性アンテナを用いて複数の扇形ゾーン（セクタ）を構成する方法も採用されている。これは干渉方向が実質上指向性方向に限定できるなどの利点がある。",
            "〔２−３．マルチチャネルアクセス方式〕 次に、マルチチャネルアクセス方式について説明する。 呼損を少なくし、無線周波数をより有効に使用するためには、移動機により使用できる周波数を限定せずに、なるべく多くのチャネルを使用可能とすることが望ましい。各移動機に複数の無線周波数を共通に所有させ、発着時には空いたチャネルを適時割り当てて使用する方法をマルチチャネルアクセス方式と呼ぶ。現在では、ＰＬＬ（Phase Locked Loop）を用いた周波数シンセサイザの発達により、数千チャネル単位の切替が可能な移動機を低コストで実現することが可能である。",
            "〔２−４．多重アクセス方式〕 次に、多重アクセス方式について説明する。 多重アクセス方式としては、ＦＤＭＡ（Frequency Division Multiple Access）、ＴＤＭＡ(Time Division Multiple Access)、ＣＤＭＡ（Code Division Multiple Access）がある。",
            "〔２−５．位置登録〕 次に、位置登録について説明する。 １つの移動機を呼び出すために、全国の基地局から呼出を行うのは非効率的であるので、移動機の位置をあるエリア単位（位置登録エリア）でネットワーク側に登録して、移動機に対する着信はそのエリア内だけを呼び出す方法が用いられる。このため、移動機が位置登録エリアを越えて移動した場合には、移動機からネットワーク側に位置登録を行う必要がある。これは、以下の手順で行われる。",
            "（１）移動機が基地局から共通制御チャネルで報知される位置登録を受信することにより、エリアを越えたことを認識する。 （２）移動機は共通制御チャネルで基地局を介して移動通信交換局に位置登録要求する。 （３）移動通信交換局はネットワーク側のホームメモリ局（位置登録サーバ）にある、当該移動機の位置登録を更新する。 （４）移動通信交換局は基地局を介して移動機に位置登録を受け付けた旨を通知する。",
            "〔２−６．着信接続〕 次に、着信接続について説明する。 移動機は通常、共通制御チャネルを受信しており、自移動機に対する呼出信号を待ち受けている。一般電話から移動機への着信時の接続制御は、次のように行われる。",
            "（１）発信した一般電話から一般電話網を介して移動通信網内の最寄りの移動通信交換局Ａまで回線が接続される。 （２）移動通信交換局Ａは、ホームメモリ局に問い合わせ、当該移動機の位置登録エリアを知る。 （３）移動通信交換局Ａは、当該移動機にエリアの移動通信交換局Ｂまで回線を接続し、当該エリア内のすべての基地局から、移動機を呼び出す。 （４）移動機は、呼出に対して、基地局を介して移動通信交換局Ａに応答を返し、ネットワーク側で当該移動機が存在する基地局が特例される。 （５）ネットワーク側では、未使用の通信チャネルから当該呼のための通信チャネルを選択し、基地局側からの送信を開始すると共に、移動機に通知する。 （６）移動機が、通知されたチャネルに切り換えて通信チャネルを確立することにより、無線回線接続制御は完了する。",
            "〔２−７．発信接続〕 次に、発信接続について説明する。 移動機から一般電話への発信は、以下の手順で行われる。 （１）移動機は基地局を介して移動通信交換局に発信要求する。 （２）ネットワーク側では、未使用の通信チャネルから当該呼のための通信チャネルを選択し、基地局側からの送信を開始するとともに、移動機に通知する。 （３）移動機は、通知されたチャネルに切り換えて通信チャネルを確立する。 （４）移動通信交換局は、相手の一般電話の最寄りの固定電話網との接続点まで移動通信網内の回線を伸ばし、固定網に乗り入れ、固定網で相手の一般電話まで接続する。",
            "〔２−８．ハンドオフ〕 次に、ハンドオフについて説明する。 移動機が通信中にゾーンを越えて移動した場合には、通信を接続するために通信を行う基地局を移行先ゾーンの基地局に切り換える必要がある。この切替制御を通信中チャネル切替、またはハンドオフと呼ぶ。 移動機のゾーン移行の検出方法にはいくつかの方法があり、ＴＤＭＡを採用したデジタル方式では、移動機側でＴＤＭＡの空きスロットを利用して、周辺ゾーンからの信号の受信レベルを測定比較する方法が採用されている。",
            "移動機でゾーン移行を検出後、以下の手順でハンドオフを行う。 （１）移動機から切替先ゾーンの候補がある旨をネットワーク側に報告する。 （２）ネットワーク側では、切替先ゾーンに空きチャネルがあることを確認し、その中から割り当てるチャネルを選択する。 （３）切替先のゾーンの基地局では、当該チャネルの送信を開始するとともに、通信中の基地局を介して、移動機に当該チャネルに切り替えるように通知する。 （４）移動機は当該チャネルに切り替えて、切替先ゾーンの基地局との間で通信チャネルを確立する。",
            "〔２−９．認証機能〕 次に、認証機能について説明する。 端末の正当性を検証するために、秘匿性を高めた暗号技術を用いている。ネットワークと端末には非公開の暗号化鍵を登録しており、ネットワークは乱数を端末に対して送信している。端末は、乱数と暗号化鍵を用いて演算を行い、演算結果をネットワークへ返送する。ネットワークは、自身で演算を行った結果と返送された結果を照合することにより、当該端末の正当性を確認する。無線区間上は乱数と演算結果のみが送受され、安全性を確保している。認証は、端末からの発信時、着信時、位置登録要求時、ハンドオーバ要求時に行われる。",
            "〔２−１０．無線ＬＡＮ〕 次に、無線ＬＡＮについて説明する。 無線ＬＡＮとは、無線通信でデータの送受信をするＬＡＮのことである。特に、ＩＥＥＥ ８０２．１１諸規格に準拠した機器で構成されるネットワークのことを指す場合が多い。 レイアウト変更が多いオフィスでは、ＬＡＮケーブルの引き直しの度に多くの時間と費用が費やされるが、無線ＬＡＮではこのような問題は生じない。 １００Ｍｂｐｓの１００ＢＡＳＥ−ＴＸ規格が浸透している有線ＬＡＮに比べて、伝送速度が１１Ｍｂｐｓ程度（ＩＥＥＥ ８０２．１１ｂの場合）とさほど速くない。",
            "〔２−１１．インタネット〕 次に、インタネットについて説明する。 インタネットは、通信プロトコルＴＣＰ／ＩＰ（Transmission Control Protocol/Internet Protocol）を用いて全世界のネットワークを相互に接続した巨大なコンピュータネットワークである。 このインタネットは、全体を統括するコンピュータの存在しない分散型のネットワークであり、全世界に無数に散らばったサーバコンピュータが相互に接続され、少しずつサービスを提供することで成り立っている。",
            "インタネット上で提供されるサービスやアプリケーション（ＷＷＷ（World Wide Web）やＦＴＰ（File Transfer Protocol）、電子メールなどの基本的なものからクレジット決済などの高度なものまで）は、そのほとんどがＴＣＰ／ＩＰという機種に依存しない標準化されたプロトコルを利用しており、インタネット上では機種の違いを超えて様々なコンピュータが通信を行なうことができる。 インタネットに参加するためには、インタネットに既に参加しているネットワークに専用回線で接続する必要がある。一般家庭などから接続する場合は、公衆回線（電話回線やＩＳＤＮ回線・ＡＤＳＬ回線など）からの通信を受け付けてインタネットに接続してくれるインタネットサービスプロバイダと呼ばれる業者と契約する必要がある。",
            "〔２−１２．ＷＷＷ〕 次に、ＷＷＷについて説明する。 ＷＷＷは、インタネットやイントラネットで標準的に用いられるドキュメントシステムである。ＨＴＭＬ（HyperText Markup Language）という言語で文書の論理構造や見栄えを記述し、文書の中に画像や音声など文字以外のデータや、他の文書の位置（ハイパーリンク）を埋め込むことができる。インタネット標準のドキュメントシステムとして１９９０年代中頃から爆発的に普及し、現在では世界規模での巨大なＷＷＷ網が築かれている。インタネットで最も多く利用されるアプリケーションである。",
            "〔２−１３．ハイパーリンク〕 次に、ハイパーリンクについて説明する。 ハイパーリンクは、文書内に埋め込まれた、他の文書や画像などの位置情報である。ハイパーリンクを用いて複数の文書、および関連する画像などのオブジェクトを関連付けたシステムをハイパーテキストという。ＷＷＷはハイパーテキストの代表例で、Ｗｅｂブラウザで文書を表示し、リンクのある場所をマウスでクリックすると、関連づけられたリンク先にジャンプするようになっている。",
            "〔２−１４．ハイパーテキスト〕 次に、ハイパーテキストについて説明する。 ハイパーテキストは、コンピュータを利用した文書システムの一つである。文書の任意の場所に、他の文書の位置情報(ハイパーリンク)を埋め込み、複数の文書を相互に連結できる仕組みのことである。 専用の閲覧ソフトウェアを使って文書を表示すると、リンクをたどって次々と文書を表示することができる。リンク機能を使って静止画や動画、音声、音楽など、様々な情報を一つの文書の中に埋めこむことができるシステムもある。 インタネットを通じて構築されている世界規模の巨大な文書システムであるＷＷＷもハイパーテキストの一つである。",
            "〔３．携帯電話装置１で使用する通信プロトコル〕 次に、携帯電話装置１で使用する通信プロトコルの一例について、図４を参照しつつ説明する。",
            "まず、発信接続と切断シーケンスについて説明する。 図４の（ａ）に示すように、発信側の端末である携帯電話装置１は、オフフックおよびダイアルの後に、基地局へ呼設定信号（ＳＥＴＵＰ）、発信無線状態報告信号を送信し、基地局側から呼設定受付信号（ＣＡＬＬ ＰＲＯＣ）を受信する。基地局は、認証手順を行った後、無線チャネル指定信号を送信する。発信側の携帯電話装置１は、指定されたチャネルを捕捉し、無線回線の設定を行う。次に、基地局から呼出信号（ＡＬＥＲＴ）を受信し、呼出音（ＲＢＴ）を受話器に送出する。着信側の通信端末装置の応答があると、基地局から発信側の携帯電話装置１へ応答信号（ＣＯＮＮ）が送信され、ここから課金が開始されるとともに、通話が始まる。次に、発信側の携帯電話装置１から切断信号（ＤＩＳＣ）が基地局へ送信される。基地局は、解放信号（ＲＥＬ）を発信側の携帯電話装置１へ送信し、ここで課金が終了する。発信側の携帯電話装置１は、基地局へ解放完了信号（ＲＥＬ ＣＯＭＰ）を送信し、基地局から無線チャネル切断信号を受信する。最後に、発信側の携帯電話装置１は、通信に使用した無線チャネルを開放し、無線回線の切断を行う。",
            "次に、着信接続と切断シーケンスについて説明する。 図４の（ｂ）に示すように、着信側の端末である携帯電話装置１は、基地局からの呼出信号を受信すると、着信無線状態報告信号を送信し、自動的に応答のための信号を基地局へ送信する。また、基地局では、無線チャネル指定信号を着信側の携帯電話装置１へ送信し、無線回線の設定を行う。無線回線の設定後、基地局から着信側の携帯電話装置１へ、呼設定信号（ＳＥＴＵＰ）が送信され、着信側の携帯電話装置１は着信音（ＲＧＴ）を生成した後、基地局へ呼出信号（ＡＬＥＲＴ）を送信する。着信側の携帯電話装置１のオフフックにより応答信号（ＣＯＮＮ）が基地局へ送信され、通信（通話）が開始され、課金が始まる。切断シーケンスは、前述の発信側からの切断とほぼ同じなので、その説明を省略する。",
            "なお、上述したプロトコル中には、自装置または相手装置の端末識別情報（電話番号、端末番号、ＩＤ番号、機番、移動機番号、メールアドレス、ＵＲＬ、ＵＲＩ等）やサービス識別情報（電話番号、メールアドレス、ＵＲＬ、通話、電子メール、インタネットアクセス、データダウンロード等）を含ませることができる。また、自装置または相手装置の端末識別情報やサービス識別情報を、それぞれについて複数持ち（自装置の記憶部に記憶する）、それらを選択して使用することにより、特定のサービスを特定の端末識別情報で使用することや、選択した端末識別情報に課金するなどの多彩なサービスを享受することができる。",
            "［４．携帯電話装置１の機能］ 次に、携帯電話装置１に内蔵された図１のＲＯＭ３に格納された実行プログラムがＣＰＵ２に実行させる機能のうち、この実施形態の携帯電話装置１が備える特長的な機能について、以下で説明する。なお、位置情報取得機能（位置情報取得手段）を実現するには、図１のＧＰＳ手段２０を用いる必要がある。",
            "〔４−１．位置情報取得機能〕 次に、位置情報取得機能について説明する。 ＧＰＳ（全地球測位システム）とは、一般には、複数の人工衛星（ＧＰＳ衛星）からの種々の情報が含まれた電波を受信し、その到達時間のずれから自分のいる地球上の位置を示す緯度と経度などの情報を算出するシステムである。その位置を示す情報を位置情報あるいは位置情報データと呼ぶ。ＧＰＳ衛星は、非常に精度の高いルビジウムまたはセシウムの原子時計を搭載していて、これを基に発する信号がＧＰＳ受信機に到達する時間を使用してＧＰＳ受信機の位置を求めるものである。",
            "位置情報取得機能を実現するためのＧＰＳを使用した位置確認システムにおいて、一般的には、４つのＧＰＳ衛星を使用してＧＰＳ受信機の位置を求めるのが普通であるが、ＧＰＳ受信機にも高精度の時計を搭載し、これを併せて使用すれば３つのＧＰＳ衛星で位置の測位が可能である。また、基地局からの電波を併用して利用してもよい。ＧＰＳ衛星が送信する電波はスペクトル拡散されており、各ＧＰＳ衛星毎に異なる拡散コードを使って信号を送出する。",
            "図５は、携帯電話装置１を含む位置確認システムの構成例を示す図である。 ＧＰＳ受信機を持つ携帯電話装置１は、ＧＰＳ衛星が送信する信号を受信しながら、各ＧＰＳ衛星毎に異なる拡散コードを使用して衛星の捕捉を行うものである。このＧＰＳ受信機は、各ＧＰＳ衛星から受信した信号の到達時間に基づいて位置測定を行い、その位置情報を基地局１００および通信ネットワーク１０１を通してセンタ局１０２へ送信する。センタ局１０２（実際にはその内部の通信端末装置）側では、その位置情報に基づいてエリア情報（住所データ、地名、地域名、周辺情報、地図データ、地図データが格納されている場所情報、地図データが格納されている場所を示すＵＲＬ等）を記憶部内のデータベース（ＤＢ）１０２ａ，１０２ｂから検索する。",
            "携帯電話装置１がセンタ局１０２へ送信する位置情報としては、ＧＰＳ衛星から受信した情報をほとんど処理しない位置情報（生位置情報）や、ある程度携帯電話装置１側で計算して求めた位置情報（最終位置情報）、またこの中間にあたる位置情報（中間位置情報）がある。また、位置情報としてはいろいろな種類のものがあるが、エリア情報そのものであってもよい。なお、受信機側で位置情報を処理しない方が負担がかからないが、昨今のＣＰＵや周辺ＬＳＩの進歩によって、受信機側で高速に位置計算処理ができるようになってきているため、そのようなＣＰＵや周辺ＬＳＩを携帯電話装置１に内蔵するとよい。",
            "また、携帯電話装置１側で位置計算を全て行い、また携帯電話装置１側に前述したセンタ局１０２側のデータベース１０２ａ，１０２ｂに相当する機能を持っていれば、携帯電話装置１側のみで位置確認システムを構成することができる。この場合には、毎回地図データをセンタ局１０２からダウンロードしなくても済むので、通信料を低減することができる。携帯電話装置１側がどの機能まで持つのかという機能分担については、適宜変更可能であることはいうまでもない。 また、ＧＰＳ衛星が捕捉できない屋内などでも位置確認できるように、基地局１００をＧＰＳ衛星に見立てて位置測定を行うこともできる。",
            "〔４−２．位置情報送信機能〕 次に、位置情報送信機能（位置情報送信手段）について説明する。 携帯電話装置１は、自装置の位置情報を取得する位置情報取得機能および無線通信機能（無線通信手段１２）の他に、通信相手識別機能および位置情報送信機能を備えている。位置情報送信機能とは、所定の通信相手と通信する場合に、ＧＰＳ手段２０を用いて取得した位置情報（あるいは位置情報に関連した情報）を通信相手装置に送信する機能のことである。",
            "具体的には、呼設定信号（ＳＥＴＵＰ）に位置情報データを含ませて通信相手装置（この例では図５の携帯電話装置１０３とする）へ送信する。もちろん、通信相手識別機能は必須ではなく、全ての相手に対して送信してもよい。位置情報は測定する状態（衛星から電波を受信できなかった場合等）によって誤差が含まれるので、その測位レベルを表示する（例えば誤差５０ｍ以内、１００ｍ以内、２００ｍ以内等、また記号やマークの数で測位レベルを表示する）ようにしてもよい。また、取得した位置情報やそれに関連する情報（日時、測位レベル等）を１以上、記憶（履歴情報）しておくようにしてもよい。 発呼側装置（送信側装置）である携帯電話装置１は、所定の電話番号に電話するときには、自装置の位置情報を相手先通信装置（被呼側装置、着呼側装置、受信側装置）に送信する。",
            "相手先通信装置である携帯電話装置１０３は、受信した位置情報に基づいて、地図情報とその地図情報の所定の位置に、相手通信装置である携帯電話装置１の位置を示す位置情報を表示する。また、携帯電話装置１０３もＧＰＳ機能を備えていれば、位置情報を送信してきた携帯電話装置１の位置情報とともに自分の位置情報も表示することができる。位置情報を認識し易くするために、位置情報そのものの代わりにマークを地図情報上に表示するようにしてもよい（以下「位置情報」は「位置マーク」を含む）。この場合、相手と自分を区別できるマークを表示するとよい。具体的には、文字、数字、アルファベット、絵文字、絵、図、図形等のマークが考えられる。",
            "地図データは、予め自装置と通信相手装置のメモリ部に記憶されており、通常表示する時にはこの地図データを使用する。また、必要な時（メモリ部に位置情報あるいは表示する領域に対応する地図データが記憶されていない場合、あるいは記憶されていても古い地図データの場合）に、地図データを他の装置（例えば図５の基地局１００又は１０４内の装置、あるいは基地局１００又は１０４と接続されている装置、あるいはまた図３のサーバ装置４０等）からダウンロードしてメモリ部に記憶して表示するようにしてもよい。",
            "また、携帯電話装置１が、位置情報とともに地図データを送信してもよい。更に、通信装置同士でお互いに位置情報を交換することにより、お互いに相手装置の位置を自分の装置の表示部に表示することもできる。更にまた、双方の装置がＧＰＳ機能を搭載していれば、お互いに相手装置と自分の装置の位置を自分の装置の表示部に表示することができる。これは、２者間に限らず多者間でも同様である。また、発呼側装置である携帯電話装置１は、前述した被呼側装置である携帯電話装置１０３の機能を持つことができる。",
            "携帯電話装置１において、位置情報送信機能は位置情報を送るべき所定の通信相手かどうかを判断する通信相手判断機能を含んでいる。通信相手判断機能の具体例としては、相手の電話番号や通信アドレス等の識別情報（相手識別情報、端末識別情報）を記憶しておく電話帳機能（識別情報記憶機能）を利用することが考えられる。電話番号を例にすると、電話帳機能に、位置情報を送信する電話番号が登録されている。具体的には、電話帳機能に記憶されている電話番号に対応する記憶領域、つまり位置情報送信ビットを用意し、位置情報を送る電話番号として登録された電話番号については位置情報送信ビットをアクティブにしておく。",
            "アクティブな位置情報送信ビットを持った電話番号が電話帳機能から選択された場合、あるいは直接テンキーで電話番号が入力された場合には、その電話番号が電話帳機能に登録されていて、かつ位置情報送信ビットがアクティブになっているかどうかを検査する電話番号検査機能により、入力された電話番号が電話帳機能に登録されていて、かつ位置情報送信ビットがアクティブになっていると判断された場合には、ＧＰＳ手段２０によって取得された位置情報を通信プロトコル（例えば呼設定信号（ＳＥＴＵＰ））に挿入して相手装置に送信する。",
            "被呼側装置である携帯電話装置１０３も同様な電話帳機能を持ち、携帯電話装置１から受信した携帯電話装置１の識別情報が電話帳機能に記憶されているかどうかを調べ、記憶されていれば更に位置情報送信ビットがアクティブになっているかどうかを調べ、アクティブになっていれば、携帯電話装置１に自装置（携帯電話装置１０３）の位置情報を送信する。",
            "また、相手識別情報としては上記電話番号の他に、メールアドレス、ＩＰアドレス、ＵＲＩなどが考えられる。位置情報は、それぞれのプロトコルに挿入されて相手装置に転送される。あるいは、通信相手判断機能の代わりに、電話帳機能から通信相手先を選択することによって相手識別情報を設定し（フラッシュＲＯＭ４に記憶し）、設定した通信相手先に位置情報を送信するようにしてもよい。",
            "このように、電話による通話中あるいはデータ通信中に、お互いに位置情報を送信し、受信した位置情報の基づいて地図データとその位置を表示するものである。また、電話中あるいはデータ通信中ではなくても、位置情報の送受信、地図データと位置の表示を行ってもよい。このようにすることにより、自分の位置と相手の位置を表示部で確認することができる。",
            "また、１１０番あるいは１１９番に代表されるようないわゆる緊急電話番号をダイヤルする場合には、位置情報送信機能によって位置情報を送信するように設定されていてもいなくても、位置情報を送信するようにしてもよい。いわゆる、位置情報の自動送信である。そのダイヤル発信が緊急電話かどうかの判断は、携帯電話装置１に操作入力部１０ａによって入力された電話番号が、フラッシュＲＯＭ４に予め記憶されている所定の電話番号であるかどうかを比較することによって行う。",
            "あるいは、緊急電話番号が入力されたとき、あるいは緊急電話番号と判断されたとき、表示部１０ｂに位置情報を送信するかどうかのメッセージを表示してもよい。この場合、肯定の入力があると位置情報を送信する。あるいは、電話番号又は緊急電話番号の入力と、発呼指示の入力（いわゆる通話ボタン又は発呼ボタンの押下やそれに相当する入力）があると、位置情報を送信するかどうかのメッセージを表示して、それに対する肯定の入力があると位置情報を送信してもよい。また、通話中又は通信中に操作入力部１０ａ上の所定のボタンが押下されることにより、制御プロトコルに位置情報を挿入して送信してもよい。緊急電話番号で繋がった場合にのみ、操作入力部１０ａ上の所定のボタンが押下されることにより、位置情報を送信するようにしてもよい。",
            "また、緊急電話番号に電話した場合には、位置情報はその後も定期的に（所定の周期で）送信するようにしてもよい。 また、携帯電話装置１の操作入力部１０ａ上に緊急ボタンを設けて、そのボタンが操作されるとそれ以降、自装置の位置情報を所定の通信装置宛に定期的に送信するようにしてもよい。",
            "送信する位置情報は、位置情報取得機能によって取得した位置情報であり、後述する他の実施例に記載されている位置情報を適用できる。また、位置情報がＧＰＳ手段２０による位置情報の場合には、外部装置での位置情報の計算結果を受信してからその位置情報を送信する方法は時間がかかるので、衛星から受信したデータそのものを直接送信してもよいし、あるいは衛星から受信したデータに基づいて計算した位置情報を送信してもよい。 位置情報送信機能（位置情報送信手段）としては、メール機能（メール手段）、サーバ接続機能（サーバ接続手段）、ＦＴＰ機能（ＦＴＰ手段）、ＨＴＴＰ機能（ＨＴＴＰ手段）などがある。",
            "メール機能は、ＳＭＴＰやＰＯＰ３を使用したいわゆるＥ−Ｍａｉｌや、独自プロトコルを採用するメールを利用することができる。位置情報はメールの本文やＳｕｂｊｅｃｔの欄に記載して送信する。サーバ接続機能とは、いわゆるＮＴＴドコモのｉモード（登録商標）やＫＤＤＩのＥｚｗｅｂ（登録商標）やインタネットように携帯電話装置１をサーバ装置４０に接続して、サーバ装置４０と携帯電話装置１の間でデータのやり取りを行うものであり、位置情報をデータとして送信する。ＦＴＰ機能やＨＴＴＰ機能は、プロトコルにＦＴＰやＨＴＴＰを使用し、そのプロトコルのデータ領域に位置情報を含ませ、あるいはデータそのものとして送信するものである。 このように、自動で位置情報を送信しているので、通常は位置が特定できない通信装置の位置を特定することができる。",
            "〔４−３．地図選択機能（多者間地図情報表示機能）〕 次に、地図選択機能（地図選択手段）について説明する。 上述したように所定の縮尺の地図データの上に２つ以上の位置情報を携帯電話装置１の表示部１０ｂに表示する場合に、一方の位置情報（例えば携帯電話装置１の位置）を地図データの領域内に表示できても、他方の位置情報（例えば通信相手装置）が表示する地図データの領域外になってしまい、両方の位置情報が同一の地図（地図データ）上に同時に表示できないという課題がある。そこで、この実施形態の携帯電話装置１では、所定の数の位置情報が地図データの領域内になるように、複数の位置情報が示す位置関係に応じて所定の縮尺の地図データを使用する地図選択機能を携帯電話装置１に備えている。",
            "ここで、その地図選択機能の具体例として、２つの位置情報を地図上に表示する場合を図６を参照して説明する。 図６は、携帯電話装置１が表示部１０ｂ上で２つの位置情報を地図上に表示する場合の処理について説明するための図である。",
            "一方の位置情報と他方の位置情報のＸ方向とＹ方向の距離差をそれぞれｘ２とｙ２とし、携帯電話装置１（自装置）の表示部１０ｂに表示する地図データの水平方向の最大距離ｘ１と、垂直方向の最大距離ｙ１とすると、「ｘ１≧ｘ２かつｙ１≧ｙ２」となる地図の縮尺をＳとすると、Ｓ以上の縮尺を持つ地図データの中から適宜選択する。この場合、通常は縮尺Ｓまたはそれに近い縮尺を選択するが、それに限定されない。一方の位置情報を地図の中心付近に表示したい場合は、Ｓの２倍の縮尺以上を持つ地図データを使用すればよい。",
            "図６に示す例では、最初はｓ１の縮尺の地図とその地図上に片方（携帯電話装置１）の位置を表示している（図６の（ａ））。次に、「ｘ２÷ｘ１＞ｙ２÷ｙ１」なので、縮尺が「ｓ１×ｘ２÷ｘ１」の地図を選択して表示する（図６の（ｂ））。次に、携帯電話装置１を地図の中央に表示するために、縮尺が「２×ｓ１×ｘ２÷ｘ１」の地図を選択して表示し、携帯電話装置１のマークを地図の中央に表示し、他の装置もマークも所定の地図上の位置に表示する（図６の（ｃ））。 なお、以上の処理例を応用して、３以上の複数の装置を地図上の所定の位置に配置することができる。また、縮尺の異なる地図を選択する地図選択機能は、これに限定する必要はなく、他の公知技術を適用してもよい。",
            "また、地図選択機能による処理として、複数の位置情報に応じて表示する元の地図データをずらす処理も考えられる。この処理について、図７を参照して説明する。 図７は、携帯電話装置１が表示部１０ｂで２つの位置情報を地図上に表示する場合の他の処理について説明するための図である。",
            "一方の位置は地図データの領域の中にあり、他方の位置は地図データの左辺方向の領域外とする。一方の位置と地図データの右辺との距離差をｘ５、他方の位置と地図データの左辺との距離差をｘ６とすると（図７の（ａ））、「ｘ５−ｘ６≧０」であれば、左辺側へｘ６移動した地図データを表示し（図７の（ｂ））、それぞれの位置情報に相当するマークを地図上に表示する。このままでは、他方の位置は地図の左辺上にあるので、更に「（ｘ５−ｘ６）÷２」だけ左辺方向に地図データをずらすと丁度、それぞれの位置の辺からの距離が等分となる（図７の（ｃ））。これと同じように垂直方向にも適用すれば２つの位置情報を同一の地図データの領域上に表示することができる。",
            "さらに、今まで説明した表示する位置情報が２つの場合の処理例を、３つの以上の位置情報を表示する場合にも応用できることは言うまでもない。この場合、地図選択機能は携帯電話装置１の位置が必ず地図上に表示されるようにしてもよい。また、端末装置に優先順位をつけて（例えば通信が開始された順番）、地図上に表示することも考えられる。 また、複数の位置情報を地図上に表示する場合において、全ての位置情報が地図上に表示できない場合もある。その場合には、地図の領域外であることを示すマーク（印）を地図上に表示することもできる。マークとしてどのようなものでも可能であるが、マーク位置から該当する位置の方向を指し示す矢印がよい。また、地図上に表示できない端末装置の名称や識別情報や、表示できない端末装置の数などの情報を携帯電話装置１（自装置）の表示部１０ｂに表示することができる。また、端末装置同士の距離情報を表示してもよい。",
            "位置情報の再送信（位置情報の更新）の方法としては、所定の距離の移動を検出した場合に、新しい位置情報を相手装置に送信する方法、定期的に位置情報を相手装置に送信する方法などがある。 また、ここまではデータ通信あるいは通話しながら、位置情報を載せた制御プロトコルを送受信する場合を説明してきたが、端末装置同士では通信や通話はせずに、制御プロトコル（制御情報）のみで位置情報を逐次送受信するＧＰＳ専用の通信モードであるＧＰＳ通信手段を備えていてもよい。 この実施例によれば、複数の通信装置の位置を同一画面上で確認できる。",
            "〔４−４．地図情報の表示に関する機能〕 次に、地図情報の表示に関する機能（以下単に「地図情報表示機能」ともいう）について説明する。 携帯電話装置１は、操作入力部１０ａにより、目的地（行きたい場所、目的の場所の地名）あるいは目的対象（行きたいあるいは目的の建物、設備、例えば○○デパート、××銀行等の施設の名称）の位置情報が自装置に入力されるか、あるいはその地名や名称から位置情報が検索されて自装置に入力されると、その位置情報を位置情報送信機能により基地局１００あるいは基地局１００側（あるいは通信回線側）に送信する。なお、ＧＰＳ手段２０によって取得した自装置の位置情報を送信してもよい。",
            "基地局１００あるいは基地局１００側（あるいはサーバ装置４０）は、受信した位置情報を地図情報選択機能により解析し、その位置情報に対応する所定の領域の地図情報を選択して、それを位置情報の送信元の携帯電話装置１に返信する。 その地図情報を受信した携帯電話装置１は、自装置の表示部１０ｂ（外部接続されている表示部でもよい）にその地図情報を表示するとともに、自装置の目的地マーク機能により目的地（又は目的対象）の場所を示すマークを地図情報の所定の位置に表示する。更に、自装置の位置情報をＧＰＳ手段２０により取得し、自装置マーク機能（自装置マーク手段）により自装置の位置を示すマークを地図情報の所定の位置に表示する。",
            "位置情報は通常、緯度、経度で表現するが、他の表現方式（住所情報、電話番号、郵便番号等）で表現してもよい。また、通常使用されている住所情報（○○県××市）の場合は、住所データから位置情報に変換する位置情報変換機能（位置情報変換手段）を携帯電話装置１、外部装置、又は基地局に備えていてもよい。また、地図情報の任意の場所を携帯電話装置１の操作入力部１０ａによって入力指定することにより、位置情報あるいは住所情報に変換してもよい。また、位置情報の入力は、予め表示されている１以上の語句、単語から選択してもよいし（ポップアップメニューのように、メニュー形式で表示すようにしてもよい）、操作入力部１０ａから任意の語句、単語を入力してもよい。また、フリーワード検索（キーワード検索）を使用して目的地あるいは目的対象を検索し、その結果を利用してもよい。フリーワード検索に検索エンジンを使用してその結果を検索エンジンから取得して位置情報を特定してもよい。また、外部装置から重心した位置情報を使用してもよい。また、住所情報や位置情報の種類としては、既に説明したものに限定する必要はなく、他の公知技術を適用できる。検索に使用した語句や検索結果は履歴としてフラッシュＲＯＭ４に記憶する。そうすると、履歴として記憶しているので、後で読み出して表示し再利用することができる。",
            "目的地マーク機能は、目的地あるいは目的物の位置情報と一致あるいは近似する地図情報上の位置情報を検索し、該当する位置情報に対応する地図情報の位置を示す所定のマークを、自装置の表示部１０ｂに表示された地図データ上に表示するものである。 自装置マーク機能は、自装置の位置情報と一致あるいは近似する地図情報上の位置情報を検索し、該当する位置情報に対応する地図情報の位置を示す所定のマークを、自装置の表示部１０ｂに表示された地図データ上に表示するものである。 地図情報選択機能は、予め地図情報を記憶しているフラッシュＲＯＭ４から、位置情報が示す場所を含む地図情報を選択する。この選択の具体的手段は現在の公知技術を適用できる。",
            "〔４−５．地図情報の記憶に関する機能〕 次に、地図情報の記憶に関する機能について説明する。なお、携帯電話装置１には、地図情報を記憶できる記憶部として、フラッシュＲＯＭ４の他に、図示しないメモリカード（ＩＣカード）やＨＤＤなど、複数の記憶部が備えられているものとする。",
            "ＧＰＳ受信機を有するＧＰＳ手段２０を備えた携帯電話装置１は、地図データ検査機能（地図データ検査手段）も備え、ＧＰＳ衛星から受信した電波に基づいて位置情報を算出すると共に、その位置情報が示す位置を含む地図データが自装置の記憶部内に記憶されているかどうかを検査（調査、検索）する。このとき、通常は地図データが記憶されている記憶部として設定（デフォルト設定）されている記憶部（この例ではフラッシュＲＯＭ４）を最初に検査し、そこに該当する地図データが存在しなければ、自装置の他の記憶部（メモリカード等）を検査する。つまり、優先順位に基づいて該当する各記憶部を検査する。",
            "そして、地図データが自装置の記憶部に記憶されていれば、その地図データを自装置の表示部１０ｂに表示する一方、自装置の記憶部に地図データが記憶されていなければ、図５のセンタ局１０２に位置情報を送信して、そのセンタ局１０２のデータベース１０２ａにその位置情報を含む該当する地図データを自装置にダウンロードさせ、その地図データを表示部１０ｂに表示する。",
            "このとき、センタ局１０２では、データベース１０２ａを検索して該当する地図データの有無を検査しており、その検査の結果、データベース１０２ａに該当する地図データがない場合には、他のデータベース１０２ｂを検索して該当する地図データの有無を検査し、それでも地図データがなければ携帯電話装置１に対してその旨を通知するようにしている。 携帯電話装置１は、その通知を受信すると、その旨のメッセージを表示部１０ｂに表示する。",
            "なお、携帯電話装置１は、ダウンロードした地図データは後で消去してもよいし、自装置の記憶部に記憶することによって次回に再利用することもできる。また、地図データが自装置の記憶部に記憶されている場合においても、その地図データが古い場合には、センタ１０２局のデータベース１０２ａ又は１０２ｂから新しい地図データをダウンロードするようにしてもよい。",
            "ここで、携帯電話装置１における位置情報が示す位置を含む地図データが自装置の記憶部に記憶されているかどうかを検査する地図データ検査機能について、図８を参照して具体的に説明する。なお、地図情報は地図データとその地図データのファイル名等のメタデータから構成されているものとする。また、位置情報は緯度情報と経度情報から構成されるているものとする。そして、いま取得した位置情報を緯度５、経度５（新宿一丁目内）とする。 図８は、地図データと位置情報（領域）の関係例を示す説明図である。 東京都の地図データは１０×１０＝１００枚の地図データからなり、そのうちの１枚の地図データである新宿は更に１０×１０＝１００枚の地図データからなる。",
            "（０，１０００）（領域情報）は、緯度情報が０で、経度情報が１０００という意味である。領域は複数の位置情報（この場合緯度情報と経度情報）で表すことができる。例えば、領域を長方形とした場合、その領域を４つの頂点の位置情報で表すことができる。また、領域が正方形の場合は、２つの頂点の位置情報で表すことができる。更に、正方形であって１辺の距離情報が予め定まっている場合には、１つの頂点の位置情報で、領域を表すことができる。 図８の（ａ）は東京都の地図データとその領域を示したものであり、一番左下（０，０，１００，１００）の領域を、例えば新宿とすると、その新宿の地図データとその領域は同図の（ｂ）に示すようになり、地図データを拡大表示することができる。図中の黒い部分は地図データがないことを示している。",
            "したがって、携帯電話装置１は、位置情報を取得した後、広い領域を表示する場合には、それに応じた操作入力部１０ａの操作入力によって東京都全体の地図データ（レベル１）を表示部１０ｂに表示し、それよりも拡大した領域を表示する場合には、それに応じた操作入力部１０ａの操作入力によって新宿全体の地図データ（レベル２）を表示部１０ｂに表示し、更にそれよりも拡大した領域を表示する場合には、それに応じた操作入力部１０ａの操作入力によって新宿を分割した地図データ（例えば新宿１丁目）（レベル３）を表示すればよい。",
            "図９は、位置領域情報とそれに対応する地図データのファイル名から構成される情報管理テーブルの一例を示す図である。この情報管理テーブルは、フラッシュＲＯＭ４に記憶されている。 携帯電話装置１は、ＧＰＳ衛星から受信した電波に基づいて計算処理して算出した位置情報について、その位置情報が含まれる位置領域情報（該当する位置領域情報）が、情報管理テーブル内にあるかどうかを検査する。そして、もし該当する位置領域情報が情報管理テーブル内にあればその位置領域情報に対応する地図データのファイル名を出力する。",
            "ここで、図９において、ファイル名：新宿20050620の領域情報である（０，０，１００，１００）は、０，０がそれぞれ正方形の左下の頂点の緯度、経度情報で、１００，１００がそれぞれ右上の頂点の緯度、経度情報である。 いま、取得した位置情報が緯度５、経度５で、レベル１の広さで地図データを表示することを考えると、携帯電話装置１は、まず、全体ファイル名：日本20050620の管理テーブルについて「レベル１の地図データ（東京都、神奈川県、北海道等の４７都道府県）」の中で緯度５、経度５に該当するものがあるかどうか検査する。",
            "緯度５、経度５は東京都内の位置情報に該当するので、東京都の地図データが存在すれば、その地図データのファイル名（東京都20050620）を出力する。レベル２、３が指定された場合も同様である。また、レベル１を表示した後に、レベル２あるいはレベル３の表示を指示されるような拡大あるいは縮小表示の場合も同様に、ファイルを検索することによって地図データを検索する。なお、地図データがベクタデータである場合には、地図データそのものを拡大、縮小することによって対応することができる。",
            "図９において、番号欄の番号は、ファイル間のリンク情報を表している。管理テーブルの日付やファイル名についている日付は、地図データの更新日時を表すものである。新旧欄は、その地図データが最新かあるいは古いかを示す情報である。メモリ領域の欄の情報は、そのファイル名に対応する地図データが格納されている場所（メモリ番地等）を示すものである。なお、地図データが格納されている媒体名（内蔵メモリ、内蔵ＨＤ、内蔵ＣＤ、外部メモリなど）を記憶してもよい。",
            "携帯電話装置１は、地図データ変換機能（地図データ変換手段）、地図データ表示機能（地図データ表示手段）も備えている。 地図データ変換機能は、出力されたファイル名に対応する地図データ（JPEG、JBIG等の圧縮データ、ベクタデータ等のフォーマットで記憶されている）を記憶部から読み出し、それを表示部１０ｂに適したデータフォーマット（例えばビットマップデータ）に変換して出力する。 地図データ表示機能は、そのビットマップデータを表示用のフレームメモリ（ビデオメモリ）１６に展開して記憶すると共に、フレームメモリ１６に記憶した地図データを読み出して表示部１０ｂに表示する。",
            "一方、携帯電話装置１の地図データ検査機能は、位置領域情報が情報管理テーブル内になければ、記憶されていない旨を示す信号を出力する。 携帯電話装置１の位置情報送信機能は、地図データが記憶されていない旨を示す信号を受信すると、位置情報を基地局１００および通信ネットワーク１０１を介してセンタ局１０２へ送信する。このとき、センタ局１０２へ送信する前に、「通信ネットワークから地図データをダウンロードしていいかどうか」を使用者に報知するためにその旨の情報を表示部１０ｂに表示し、肯定入力があった場合に通信ネットワーク１０１からダウンロードする動作を続けるようにしてもよい。",
            "センタ局１０２は、受信した位置情報が示す地域を含む地図データを、地図データ用のデータベース１０２ａ又は１０２ｂを検索し、該当する地図データを携帯電話装置１に送信する。このとき、センタ局１０２は携帯電話装置１が扱えるデータ形式（データフォーマット、圧縮方法）の地図データを送信する。センタ局１０２は、携帯電話装置１が扱えるデータ形式の情報を、通信の最初のネゴシエーションで獲得しておくものである。 携帯電話装置１の地図データ変換機能は、受信した地図データをビットマップデータに変換して出力する。",
            "地図データ表示機能は、そのビットマップデータを表示用のフレームメモリ１６に展開すると共に、フレームメモリ１６に記憶した地図データを読み出して表示部１０ｂに表示する。 なお、携帯電話装置１は、ダウンロードした地図データは使用された後に消去してもよいし、自装置の記憶部に記憶することによって次回に使用できるようにしてもよい。このとき、情報管理テーブルは新しい地図データファイルが付加されることによって更新される。",
            "次に、該当する位置領域情報が情報管理テーブル内にあっても、その位置領域情報に対応する地図データが古い場合は、その旨を示す信号を出力する。それ以降は、地図データが記憶されていない場合と同様な動作を行う。ダウンロードした新しい地図データを記憶部に記憶する場合には、古い地図データを消去する。また、情報管理テーブルも新旧情報等や変更された情報が更新される。",
            "携帯電話装置１は、地図データ新旧判断機能（地図データ新旧判断手段）も備え、それが自装置の記憶部に記憶されている地図データ（地図情報）が古いかどうかを判断するようにしている。その判断の方法として、いくつかの方法が考えられる。 第１の方法としては、地図データファイルに付加されているタイムスタンプ情報（ファイルが更新された最新に日時を示す情報）に基づいて判断するものである。具体的には、その地図データと使用する日時情報とタイムスタンプ情報を比較して、所定の時間差があれば古いデータと判断するものである。",
            "第２の方法として、地図データのファイル毎に新旧を表す情報（新旧情報、バージョン情報等）を付加するものがある。この新旧情報は、通信装置が定期的にあるいは不定期にセンタ局１０２に問い合わせたり、あるいはセンタ局１０２から定期的にはあるいは地図データが更新された場合などのように所定のイベントが発生した場合等のように、データ変更の通知を受信することが考えられる。携帯電話装置１は、この通知に基づいて地図データファイルの新旧情報を更新する。また、最新または新しい地図データをダウンロードした場合、ダウンロードした地図データを古い地図データと置き換えてもよい。",
            "次に、地図データのファイルが複数集まって１つのある領域（例えば東京都や神奈川県のように比較的広い領域や、市や区のように中くらいの広さの領域や、町のように狭い領域）に対応している場合がある。例えば、東京都の地図データしか携帯電話装置１の記憶部に記憶されていない場合であって、その携帯電話装置１を神奈川県で使用して、携帯電話装置１の位置の地図データを表示するときは、携帯電話装置１の記憶部には神奈川県の地図データは記憶されていなので、通信ネットワーク１０１から地図データをダウンロードすることが必要である。この場合、神奈川県の全ての領域の地図データ、あるいはその市の領域の地図データ、あるいはその町の地図データのみをダウンロードする場合が考えられるので、どのデータをダウンロードするのか使用者に選択させるように、その旨のメッセージを表示部１０ｂに表示させてもよい。あるいは、地域単位ではなく、ファイル単位で選択させてもよい。",
            "また、位置確認用の地図データとして携帯電話装置１内の記憶部に記憶されているデータのみを使用するのか（メモリモード）、センタ局１０２の地図データのみを使用するのか（ダウンロードモード）、あるいは前述したようにその両方を併用するのか（ハイブリッドモード）を、携帯電話装置１のモード設定機能（モード設定手段）で操作入力部１０ａの操作入力に応じて選択的に設定できるようにしてもよい。",
            "また、携帯電話装置１は、表示部１０ｂに表示した地図データの履歴を記憶部に記憶しておき、その履歴を表示できるように地図データ履歴機能（地図データ履歴手段）を備えてもよい。履歴は、表示した日時、ファイル名、位置情報、自装置の記憶部内のデータかダウンロードしたデータを示す情報などの履歴情報を含むものである。 さらに、各地図データを履歴と共に、あるいは単独でサムネイル画像を表示してもよい。この場合、操作入力部１０ａの操作入力によって履歴あるいはサムネイル画像が選択されると、その履歴あるいはサムネイル画像に対応する地図データを記憶部から読み出し、それを表示部１０ｂに表示すればよい。",
            "なお、上述した地図情報の記憶に関する機能の例では、携帯電話装置１が、位置情報を取得するためにＧＰＳ手段２０を用いているが、必ずしもＧＰＳ手段２０は必要ではない。例えば、複数の基地局からの電波を受信して位置情報を算出する場合や、位置情報そのものを、例えば自装置の操作入力部１０ａや、外部Ｉ／Ｆ手段１８、無線Ｉ／Ｆ手段２３、通信ネットワーク１０１側から取得する場合もある。",
            "また、前述した位置情報を扱う動作を制御するソフトウェアとしては、専用の言語で作成されたファームウェアであってもよいが、汎用性を重視するのであればＪａｖａ（登録商標）言語で作成した方がよく、それをＧＰＳアプリという。このＧＰＳアプリは、通信ネットワーク１０１からダウンロードしてインストールすることができる。また、ＧＰＳアプリのバージョンが古くなった場合は、ＧＰＳアプリ本体あるいはＧＰＳアプリが使用するデータファイルを通信ネットワーク１０１からダウンロードすることにより更新することができる。",
            "前述した地図情報の記憶に関する機能の例をもっと一般的に表現すると、「取得した情報に関連したデータが携帯電話装置１の記憶部内にあればそのデータを使用する一方、関連したデータがなければ、通信ネットワーク１０１上のサーバ装置４０から関連したデータを受信する」ということである。 また、位置情報に基づいてダウンロードした地図データをフラッシュＲＯＭ４、あるいはメモリカード等の地図データ専用のメモリやキャッシングメモリに記憶しておき、次に入力された位置情報が示す位置と前の位置情報が示す位置との間の距離が所定の距離以下の場合には、新しい地図データをダウンロードせずに、前に記憶しておいた地図データを使用して表示するようにしてもよい。",
            "上述した技術は、要するに更新（データがなくて新たに記憶する場合も含む）が必要な地図データのみをダウンロードするものである。そして、その更新を最小限にする（ダウンロードするデータ量を減らす）ために、地図を表示するために必要な地図データのうち、更新が必要な地図データをダウンロードすればよい。つまり、自装置の位置情報あるいは設定した位置情報に基づいた領域内の地図データや、あるいはナビゲーションに必要な地図データのうち、更新が必要な地図データのみをサーバ装置４０から受信するものである。",
            "〔４−６．位置情報に基づいた情報取得機能〕 次に、位置情報に基づいた情報取得機能について説明する。 位置情報に基づいた情報取得機能として、携帯電話装置１の現在地周辺の情報を取得する機能や、指定場所（任意の場所）の周辺の情報を取得する機能がある。 携帯電話装置１は、操作入力部１０ａの入力操作によって所定の機能が選択されて実行する操作が行われると、所定の命令情報を基地局１００側の装置またはサーバ装置４０へ送信する。以後、基地局１００側の装置とサーバ装置４０をまとめて外部装置という。",
            "外部装置は、その命令情報を受信すると、その命令情報に基づいて所定の情報を携帯電話装置１に送信する。例えば、所定の命令情報が「指定した情報記憶場所（例えばＵＲＬ、ＵＲＩ等で表す）に記憶されている情報を受信する」コマンド（ｇｅｔコマンド）であれば、その情報記憶場所に記憶されている情報を携帯電話装置１に送信する。 その情報を受信した携帯電話装置１は、その情報に基づいて所定の情報を自装置の表示部１０ｂに表示する。",
            "携帯電話装置１は、自装置の表示部１０ｂに表示した情報に基づくユーザによる操作入力部１０ａの入力操作によって１つの命令情報を選択して実行する。このとき、外部装置に送信した「命令情報」に基づいた１つの情報（ＵＲＬ，ＵＲＩ等）を他の携帯電話装置１０３に送信してもよい。そうすると、その「命令情報」に基づいた情報を受信した他の携帯電話装置１０３は、その命令情報を外部装置に送信することにより、携帯電話装置１が受け取った情報と同じ情報を外部装置から受信することができるので、外部装置から受信する情報が大容量の情報であっても、携帯電話装置１からは「命令情報」に基づいた情報そのもの、すなわち少ない容量の情報を受信するのみで足りる。",
            "また、携帯電話装置１は、「自装置の位置情報を外部装置に送信して、その位置情報に基づいた情報、あるいは固定の情報や、メニュー情報を受信する」という機能を実行する場合、操作入力部１０ａの入力操作によってその機能が選択されて実行する操作が行われると、まず、ＧＰＳ手段２０によって自装置の位置情報を取得し、その位置情報と「位置情報に基づいた情報とその他の情報を送信せよ」という命令情報とを外部装置に送信する。 外部装置は、その位置情報と命令情報を受信すると、それらの情報に基づいて所定の情報を携帯電話装置１に送信する。 その情報を受信した携帯電話装置１は、その情報に基づいて所定の情報を自装置の表示部１０ｂに表示する。",
            "なお、携帯電話装置１の位置情報の代わりに、指定場所（入力操作による指示によって指定された任意の場所）の位置情報を用いてもよい。 外部装置は、携帯電話装置１から受信した情報（位置情報、日時情報、キーワード情報、検索情報等）に基づいて、地図データや、その他の情報、またはメニュー情報を携帯電話装置１に送信することを基本に行い、これを繰り返す。 外部装置が携帯電話装置１に提供する情報としては、位置情報あるいは日時情報、検索情報に基づいた地図情報、天気予報、交通情報、交通機関の乗り換え情報、地域情報、イベント情報、カテゴリー（あるいはジャンル）情報（コンビニ、銀行、駅、駐車場）等がある。",
            "また、携帯電話装置１が表示するメニュー情報は、位置情報あるいは日時情報、検索情報に基づいて変えるようにしてもよい。例えば、夏であれば、「海水浴場に関する情報」を表示し、冬であればそれに変えて「スキー場に関する情報」を表示する。 また、携帯電話装置１から位置情報が外部装置に送信され、その位置情報を受信した外部装置において、受信した位置情報が示す位置が所定の地域（県、市、町、自治体等）の領域内であった場合、その地域に予め関連付けて設定してある情報を携帯電話装置１に送信する。このとき、受信した位置情報が携帯電話装置１の位置情報であった場合には、異なる処理として、特別な情報（特典情報）を携帯電話装置１に送信する。",
            "特典情報を受信した携帯電話装置１は、その情報を表示部１０ｂに表示し、その情報に基づいてユーザ（オペレータ）により操作入力部１０ａ上で入力操作が行われる。例えば、特典情報が音楽データ（音楽情報、着メロ、着うた、着信音データなど）、ゲーム、ソフトウェア、買い物ポイント、クーポン、お得情報、通信料の割引（無料）等の各アイテムのいずれか無料ダウンロードであれば、それらのアイテムのうち、操作入力部１０ａ上で入力操作によって選択したアイテムを自装置にダウンロードできる。",
            "携帯電話装置１が送信した位置情報が、自装置の位置情報ではなく、任意の位置情報として入力された情報の場合（自装置の位置情報以外）には、外部装置は特典情報を送信してもよいが、例えば実際にはその情報を表示するだけで、ダウンロードできないように表示データのみを送信してもよい。そのためには、位置情報が実際の携帯電話装置１の位置情報か、あるいはそうではないかを示す情報を外部装置に送る必要がある。 このように、集客を目的に、実際に携帯電話装置１のユーザが、その地域を訪れていることを確実に検出できた場合に特典を与えることができる。",
            "〔４−７．情報検索機能〕 次に、情報検索機能について説明する。 情報検索機能として、携帯電話装置１がある現在地周辺の情報を検索して取得する機能（現在地検索機能）や、指定場所（任意の場所）の周辺の情報を検索して取得する方法（周辺検索機能）がある。",
            "図１０は、携帯電話装置１による情報検索処理の一例を示すフローチャートである。 携帯電話装置１は、操作入力部１０ａの入力操作による所定の指示によって図１０の処理ルーチンをスタートし、まずステップＳ１で次の処理を行う。つまり、自装置又は指定場所（入力操作による指示によって指定された任意の場所）の位置情報のうち、いずれかの位置情報（又はその両方）と、その位置（場所）を含む所定の領域内にあってその位置の知りたい対象物の情報（識別情報、名称、識別番号、住所情報、エリア情報等）をサーバ装置４０に送信する。",
            "なお、この例でのサーバ装置４０は、地図情報とその地図に含まれる目的地（対象物）あるいは目的地の住所情報を記憶した記憶部を基本構成として構築されている情報提供装置であるとする。また、サーバ装置４０ではなく、基地局１００又はセンタ局１０２側の他の外部装置へ同様の情報を送信するようにし、その外部装置が後述するサーバ装置４０と同様の処理を行うようにしてもよい。これについては、後述する各機能をそれぞれ実現する際も同様である。 サーバ装置４０は、携帯電話装置１から受信した情報に基づいて、地図データと位置を知りたい対象物に該当する１以上の位置データ（位置情報）を携帯電話装置１に送信する。",
            "例えば、携帯電話装置１がある場所（あるいは任意に指定した場所）において、銀行（例えばお金を引き出したいので、ＡＴＭがあればどの銀行でもよい）を探したい場合には、ＧＰＳ手段２０によって取得した自装置の位置情報と、指定された銀行を表す識別情報（対象物の情報）つまりカテゴリー（例えば「銀行」「カフェ」「レストラン」「スーパー」「都バス」「コンビニ」「トイレ」「駅」「タクシー」「デパート」「お食事」「フランス料理」「イタリアン」「お買い物」「休憩」「駐車場」「お寺」「公園」等）がサーバ装置４０に送信されるため、サーバ装置４０は以下の処理を行う。",
            "すなわち、受信した位置情報を含む地図データを自装置の記憶部から選択し、更に「銀行」というカテゴリーとして登録されているもので、地図データの領域に含まれる対象物（領域に含まれるとして登録されている複数の対象物）を記憶部内のデータベースから検索して、その地図データと１以上の対象物の位置情報あるいは対象物に関する情報（名称、住所、連絡先（電話番号、メールアドレス、ＵＲＬ等）、位置情報による位置からの距離等）を携帯電話装置１に送信する。",
            "携帯電話装置１は、ステップＳ１でのサーバ装置４０への情報送信後、ステップＳ２でサーバ装置４０からのデータ受信を待ってステップＳ３へ進み、受信した地図データを表示部１０ｂに表示し、ステップＳ４で自装置又は指定場所の位置情報と受信した１以上の対象物（銀行等）の位置情報又は対象物に関する情報に基づいて地図上の自装置又は指定場所と対象物の位置にマークを表示する。 図１１，図１２は、携帯電話装置１の表示部１０ｂ上における地図と自装置および対象物（目的地等）の位置を示すマークの異なる表示例を示す図である。",
            "なお、サーバ装置４０は、対象物の位置情報を送信する代わりに、位置を示すマークを表示した地図データを送信してもよい。 携帯電話装置１は、図１０のステップＳ４でマークの表示を行う際に、他の地図上のマークと区別するために、強調表示（点滅表示、表示色を他のマークと違う色を使う等）を行なうとよい。位置を示すマークは、位置情報（ここでは「ＵＲＬ」とする）が対応付けられており、そのマークを操作入力部１０ａの操作入力による指示によって選択すると、対応するＵＲＬに示された記憶場所からその位置情報に基づいた地図情報を受信することもできる。また、対応するＵＲＬが対象物のホームページだった場合には、そのホームページを表示することもできる。更に、それらをメニュー形式で表示し、選択させるようにしてもよい。",
            "また、指定したカテゴリーの位置情報だけを受信するのではなく、他のカテゴリーの位置情報を受信して表示してもよい。この場合、例えば、サーバ装置４０は、カテゴリーとして銀行が指定されても、コンビニの位置情報を送信するようにしてもよい。 携帯電話装置１は、地図を表示する代わりに、受信した対象物に関する情報を表示してもよい。 あるいは、地図を表示する代わりに、受信した１以上の位置情報のリスト（対象物の名称、関連情報、距離情報等）を表示してもよい。その表示例を図１３に示す。",
            "このとき、自装置の位置情報あるいは任意の場所の位置情報から対象物との間の距離を表示するようにしてもよい。リスト表示された位置情報は、それ自身がリンク情報（いわゆるＵＲＬ）を持っており、その位置情報を操作入力部１０ａの操作入力による指示によって選択（クリック）して実行すると、そのリンク先の情報を受信して表示することができる。その表示例を図１４に示す。そして、その複数の位置情報のうちの１つを操作入力部１０ａの操作入力による指示によって選択してサーバ装置４０へ送信すると、サーバ装置４０は受信した位置情報を含む地図データを携帯電話装置１へ送信する。",
            "それを受信した携帯電話装置１は、その地図データと位置情報に基づいた位置と対象物の位置情報に基づいた位置にマークを表示する。その表示例を図１５に示す。そして、そのマークに操作入力部１０ａの操作入力によってカーソルが合わされると、その対象物に関する情報（電話番号、住所、位置情報、その対象物のホームページを表示するためのＵＲＬを含む）が表示する。また、そのマークを操作入力による指示によって選択すると、前述した情報に記憶されているＵＲＬをサーバ装置４０に送信し、そこに記憶されている情報をサーバ装置４０から受信する。",
            "あるいは、サーバ装置４０から受信するのは位置情報そのものでなくて、単に位置情報あるいはその位置情報に対応する地図情報が記憶されている場所を示す情報（ＵＲＬ等）であってもよい。また、これらの「所定の情報の記憶場所を示す情報（ＵＲＬ、ＵＲＩ等）」はテキスト情報として、いつでも他の外部装置（端末装置）に送信することができる。",
            "また、図１のステップＳ１での処理の際に先立ち、表示部１０ｂに図１６に示すようなカテゴリーおよびサブカテゴリーを入力指定するための画面を表示し、操作入力部１０ａの操作入力による指示により、カテゴリーの入力指定とともに、サブカテゴリーの入力指定を行ない、例えばその論理積をとって対象物を絞るようにすることもできる。例えば「コンビニ」（カテゴリー）と「酒」（サブカテゴリー）を入力指定して情報送信を行うと、お酒を販売しているコンビニエンスストアーの位置情報がサーバ装置４０から送られてくる。",
            "あるいは、位置情報やカテゴリーの他に、日付や日時情報を入力して送信することにより、その日付や日時情報に基づいた情報を受信することも可能である。 あるいはまた、位置情報、カテゴリー、サブカテゴリー、日付や日時情報等の入力する情報（入力情報）を予め記憶部に記憶しておき、選択できるように表示するようにしてもよい。このとき、ポップアップメニューのようにメニュー表示（ポップアップメニュー表示）するようにしてもよい。例えば図１７に示すように、カテゴリーとして「レストラン」「銀行」「コンビニ」をメニュー表示し、操作入力部１０ａの操作入力による指示によって「レストラン」を選択した場合、例えば図１８に示すように、サブカテゴリーとしては「イタリアン」「エスニック」「フレンチ」をメニュー表示する。つまり、選択したカテゴリーの種類に応じてサブカテゴリーの種類の表示を変更する。",
            "対象物とそれの位置情報は、サーバ装置４０の記憶部内のデータベースに予め記憶されているが、例えば、対象物にＧＰＳ手段を設置し、ＧＰＳ手段によって取得した位置情報を通信ネットワーク１０１を使用して定期的にサーバ装置４０に送信し、サーバ装置４０はその情報でデータベースを更新してもよい。そうすると、対象物が移動するもの（バス、タクシー、電車、移動販売店舗等）であっても、その位置を取得することができる。 このように、目的物あるいは目的の場所を探すときに、自分のいる場所から一番近い対象物の場所を探すことができる。",
            "〔４−８．絞り込み検索機能〕 次に、絞り込み検索機能について説明する。 絞り込み検索機能は、携帯電話装置１の位置情報が示す位置を含む所定領域に含まれる場所や施設等の対象物を特定して、それに関連する情報を受信する機能である。 図１９は、携帯電話装置１による絞り込み検索処理の一例を示すフローチャートである。",
            "携帯電話装置１は、操作入力部１０ａの入力操作による所定の指示によって図１９の処理ルーチンをスタートし、まずステップＳ１１で次の処理を行う。つまり、自装置の位置情報又は指定場所の位置情報のうち、いずれかの位置情報（又はその両方）と、領域情報をサーバ装置４０に送信する。例えば、ユーザが○○百貨店の５Ｆ（５階）の紳士服売り場にいた場合、ＧＰＳ手段２０によりその位置情報（高さ情報も含む）を取得して、その位置情報と領域情報をサーバ装置４０に送信する。",
            "サーバ装置４０は、受信した位置情報に対応する地図情報を携帯電話装置１へ送信する。また、受信した位置情報と領域情報を使って、データベース（記憶部）に記憶されているデータ（位置情報と場所、施設等とが対応付けられているデータ）を検索することにより、その領域あるいは位置にあるのは○○百貨店の５階であるというデータと、その紳士服売り場に関する情報をデータベースから取得して、その情報（○○百貨店、５Ｆ、紳士服売り場、紳士服売り場に関する情報等）を携帯電話装置１へ送信する。つまり領域情報が示す所定領域に含まれる全ての対象物（領域対象物）の位置情報又は領域対象物に関する情報を送信する。",
            "携帯電話装置１は、ステップＳ１１でのサーバ装置４０への情報送信後、ステップＳ１２でサーバ装置４０からのデータ受信を待ってステップＳ１３へ進み、受信した地図情報を表示部１０ｂに表示し、ステップＳ１４で自装置又は指定場所の位置情報と受信した領域対象物の位置情報又は領域対象物に関する情報に基づいて地図上の自装置又は指定場所と領域対象物の位置にマークを表示する。例えば図２０に示すように、立体的な地図である○○百貨店の立体図を表示し、その５階の位置に位置マークを表示する。このとき、送信した位置情報が示す位置に近い順に領域対象物に関する情報も表示する。 これによって、ユーザは自分のいる場所に関連する情報を素早く簡単に知ることができる。",
            "また、サーバ装置４０から携帯電話装置１へ「○○百貨店にいますか？」という位置の確認をするための情報を送信し、携帯電話装置１から肯定のデータを受信してから、上述した動作を開始するようにしてもよい。これによって、携帯電話装置１は、取得した自装置の位置情報に誤差があった場合など、修正が可能である。 サーバ装置４０側で、位置情報によって携帯電話装置１が○○百貨店にいると判断した場合、その百貨店の買い物ポイントをサービスするようにしてもよい。ポイントは、電子データとして携帯電話装置１に、あるいはポイントを管理しているサーバ装置４０に送信して記憶させる。",
            "位置情報に対応する所定の領域は、図２１に示すように、位置情報が示す位置を中心に所定の半径ｒ内の領域、あるいは所定の辺の長さｘ，ｙを持つ領域として決定される。所定の半径ｒあるいは所定の辺の長さｘ，ｙは、携帯電話装置１から設定あるいは指定（位置情報とともに送信する）してもよいが、設定あるいは指定がない場合にはデフォルト値（予め設定された値）を使用するようにしてもよい。この場合に対応するサーバ装置４０の記憶部（データベース）の記憶内容の一例を図２２に示す。",
            "〔４−９．なんでも検索機能〕 次に、なんでも検索機能について説明する。 なんでも検索機能として、自装置がある現在地周辺にある場所や施設などの対象物の位置情報を取得する機能（現在地なんでも検索）や、指定場所周辺にある対象物の位置情報を取得する機能（周辺なんでも検索）がある。",
            "図２３は、携帯電話装置１によるなんでも検索処理の一例を示すフローチャートである。 携帯電話装置１は、操作入力部１０ａの入力操作による所定の指示によって図２３の処理ルーチンをスタートし、まずステップＳ２１で次の処理を行う。つまり、自装置の位置情報又は指定場所の位置情報のうち、いずれかの位置情報（又はその両方）をサーバ装置４０に送信する。",
            "サーバ装置４０は、携帯電話装置１から受信した位置情報に基づいて地図データと予め設定された所定領域内の情報を携帯電話装置１に送信する。その所定領域内の情報としては、携帯電話装置１から受信した位置情報に対応する所定領域内にある場所や施設等の対象物の関連情報（位置データ、名称、住所、連絡先（電話番号、メールアドレス、ＵＲＬ）、詳細情報、その他の関連情報）がある。なお、受信した位置情報に基づいてその地域で行われるイベント情報（定期的に又はランダムに更新される情報）も携帯電話装置１に送信するようにしてもよい。",
            "携帯電話装置１は、ステップＳ２１でのサーバ装置４０への情報送信後、ステップＳ２２でサーバ装置４０からのデータ受信を待ってステップＳ２３へ進み、受信した地図データを表示部１０ｂに表示し、ステップＳ４で自装置又は指定場所の位置情報と受信した所定領域内の対象物の関連情報に基づいて地図上の自装置又は指定場所と所定領域内の対象物の位置にマークを表示する。",
            "なお、表示部１０ｂに表示してある地図上の任意の位置（場所）、例えば図２４の（ａ）に破線で囲んで示す位置を操作入力部１０ａの操作入力による指示によって指定することにより、対応する位置情報、例えば図２４の（ｂ）に示す情報をサーバ装置４０から取得することもできる。この場合、地図（地図データ）上の指定位置の座標を位置情報に変換し（位置情報変換機能を用いる）、その変換した位置情報をサーバ装置４０へ送信する位置情報として使用する。位置情報変換機能の具体例としては、地図上の指定位置の座標から位置情報（例えば緯度経度情報）を変換する変換式を用意しておき、その式に基づいて変換を行う。あるいは、地図上の指定位置の座標とそれに対応付けられた位置情報をテーブル情報として記憶部に記憶しておき、その指定位置の座標に基づいて記憶部から位置情報を検索する方法も考えられる（テーブル手段）。",
            "〔４−１０．キーワード，位置情報，時間情報の連動型広告機能〕 次に、キーワード，位置情報，時間情報の連動型広告機能について説明する。 広告主においては、広告情報を効率的にユーザに提供したいという課題がある。 そこで、携帯電話装置１（広告を提供される側）において、ある情報を検索するために所定のキーワード（カテゴリーを選択して入力することも含む）を入力してサーバ装置４０（ここでは検索サーバ装置、情報提供サーバ装置等）に送信した場合、そのキーワードに予め対応させて記憶していた情報（例えば広告情報、リンク情報）をサーバ装置４０から受信して表示する方法がある。",
            "また、このキーワードに代えて（あるいはキーワードに加えて）位置情報（自装置の位置情報と任意あるいは選択して指定した位置情報（目的地、対象物の位置情報）の２種類がある）あるいは時間情報（時刻、年月日、曜日等の情報）を使用する。２種類の位置情報は、その位置情報のフォーマット（表現形式等）によって区別してもよい。例えば、緯度経度情報であれば自装置の位置情報、住所情報であれば任意あるいは選択して指定した位置情報であると判断する。広告情報は、バナー広告などのグラフィック広告、テキストのみの広告、画像広告、音声広告、ビデオ広告であり、リンク、メタ情報、機械実行可能な命令などの埋め込まれた情報も含んでよい。",
            "具体的には、例えばある地域を複数の領域に区切り、その複数の領域毎に所定の情報を対応させておき、サーバ装置４０の記憶部に記憶しておく。そして、携帯電話装置１から位置情報を受信した場合、その位置情報が含まれる領域に対応する情報を記憶部から読み出し、それを携帯電話装置１に送信する。その情報を受信した通信装置は、それを表示部１０ｂに表示する。領域に対応付けされている情報が複数登録されている場合には、予め決められた優先順位に基づいて表示する。優先順位は、広告主がその条件を入札した価格情報（価格情報、予算情報）に応じて決定するようにしてもよい。また、携帯電話装置１の位置に近い順に表示するようにしてもよい。つまり、情報の価格情報と携帯電話装置１の位置情報の少なくとも１以上の情報に基づいて表示する順序を決定する。",
            "例えば、東京都を２３区の領域に分けた場合であって、キーワード、位置情報、時間情報の３つの情報の組み合わせの例について、図２５を参照して説明する。 図２５は、図３のサーバ装置４０の記憶部の記憶内容の他の例を示す図である。 サーバ装置４０は、携帯電話装置１から受信した位置情報が新宿区の領域に含まれていて、受信したキーワードが飲食店であって、受信した時刻が１２：００だった場合には、○○食堂の情報（店名、住所、広告文、リンク情報、その他の関連情報など）を送信する。また、受信した時刻が１８：００だった場合には、××居酒屋、○○食堂、△△レストランの情報を携帯電話装置１に送信して、その順に表示部１０ｂに表示させる。表示する情報は、キーワード、位置情報、時間情報のうちの１以上の任意の組み合わせと対応付けするようにしてもよい。特に、位置情報が携帯電話装置１の現実の位置情報である場合、時間情報に基づいて広告情報を表示させることは、携帯電話装置１が実際にその場所にいるために広告として効果が大きい。",
            "また、広告情報を予め区切られた領域と対応付けしない方法もある。それは、サーバ装置４０が、携帯電話装置１から受信した位置情報が含まれる所定の領域（例えば半径１００ｍ以内の領域）に含まれる位置情報を持っていて、自己の記憶部に記憶されている店や対象物であって、その店や対象物の情報を表示するように予め決められた店や対象物の情報を、携帯電話装置１に送信するようにするものである。このとき、広告情報とともに、携帯電話装置１から受信した位置情報が含まれる領域の地図情報を、携帯電話装置１に送信するようにしてもよい。そして、広告情報と地図情報を受信した携帯電話装置１は、表示部１０ｂに受信した広告情報と地図情報を表示する。表示の方法としては、表示した地図情報のうえに重ねて広告情報を表示させる方法（図２６の（ａ））や、あるいは地図情報を表示する領域と広告情報を表示する領域を表示画面上で分けて表示する方法（図２６の（ｂ））がある。",
            "サーバ装置４０への広告情報の登録は、広告主がクライアント装置（ＰＣ、電話、携帯電話等の通信装置）を使用してネットワーク経由で行うことができる。広告主は、区域情報、カテゴリー（キーワード）、時刻、広告情報（広告タイトル、広告内容等）、広告価格（予算）、クリック単価、住所情報等をサーバ装置４０に登録する。また、住所情報は緯度経度等の位置情報に変換されてサーバ装置４０に記憶される。また、広告主が使用しているクライアント装置の位置が移動する場合（例えば移動販売等）は、クライアント装置あるいはクライアント装置に接続された位置情報取得機能が定期的に位置情報を取得して、その位置情報をサーバ装置４０に登録し、広告主に位置情報を定期的に更新することができる。",
            "また、携帯電話装置１は、検索結果の表示とともに受信した広告情報を同一画面に表示するようにしてもよい。 ここで、携帯電話装置１によるキーワード，位置情報，時間情報による情報検索と連動型広告の処理について、図２７を参照して説明する。 図２７は、携帯電話装置１によるキーワード，位置情報，時間情報による情報検索と連動型広告の処理の一例を示すフローチャートである。",
            "携帯電話装置１は、操作入力部１０ａの入力操作による所定の指示によって図２７の処理ルーチンをスタートし、まずステップＳ３１で次の処理を行う。つまり、自装置又は指定場所の位置情報と、位置を知りたい対象物のキーワードと、時間情報とをサーバ装置４０に送信する。 サーバ装置４０は、携帯電話装置１から受信した各情報に基づいて、地図データ、位置を知りたい対象物に該当する１以上の位置情報又は対象物に関する情報、対応する広告情報を携帯電話装置１に送信する。",
            "携帯電話装置１は、ステップＳ３１でのサーバ装置４０への情報送信後、ステップＳ３２でサーバ装置４０からのデータ受信を待ってステップＳ３３へ進み、受信した地図データを表示部１０ｂに表示し、ステップＳ３４で自装置又は指定場所の位置情報と受信した１以上の対象物の位置情報又は対象物に関する情報に基づいて地図上の自装置又は指定場所と対象物の位置にマークを表示した後、ステップＳ３５で対応する広告情報を表示する。",
            "サーバ装置４０は、携帯電話装置１の移動態様（徒歩、自転車、車、列車等）に基づいて、予め移動態様に対応付けられた広告情報を携帯電話装置１に送信するようにしてもよい。あるいは、移動態様と位置情報、時間情報を組み合わせた条件に基づいて対応付けられた広告情報を送信するようにしてもよい。",
            "また、携帯電話装置１の移動の方向（携帯電話装置１の複数の位置情報に基づいて移動方向を推測する）と携帯電話装置１の位置情報に基づいて、広告情報を携帯電話装置１に送信するようにしてもよい。つまり、携帯電話装置１の位置から移動方向に所定の距離だけ離れた位置に基づいた領域に登録されている広告情報を表示させるものである。 さらに、携帯電話装置１の端末識別情報に基づいて、広告情報を選択して送信するようにしてもよい。広告情報の選択は、過去の履歴情報に基づいて選択するものである。 また、広告情報に広告主の位置情報も含ませて、その位置情報を目的地として設定してナビゲーション機能を実行することも可能である。",
            "また、前述した広告情報を受信すると、そのデータ量に応じて通信料金が課金されるのが普通であるが、そのダウンロードに課金される通信料金を無料にすると、アクセス数が増えると予測できる。つまり、その広告情報を選択するための表示情報とともに、ダウンロード（データの受信）料金が無料であることの旨のメッセージを表示させる。そして、そのデータがダウンロードされても課金を行わないようにする。 前述した広告情報は、広告に関する情報に限らず、どのような情報にでも適用可能である。",
            "〔４−１１．公共交通機関の経路検索機能〕 次に、公共交通機関の経路検索機能について説明する。 携帯電話装置１は、電車、航空機、バスなどの公共交通機関の時刻表情報、運賃情報などの経路情報に基づいて、出発地から目的地（到着地）までの経路を検索（探索）条件（最も距離が近い、最も早く着く、最も運賃が安い等）に応じて求め、表示部１０ｂに表示することができる。",
            "出発地の設定は、位置情報取得機能によって取得した位置情報に基づいて行う。例えば、取得した位置情報に近い駅、バス停、空港などをリスト表示し（距離も表示するとよい）、それから出発地として１つを操作入力部１０ａの入力操作による指示により選択して設定する。また、前述した絞り込み検索機能で特定した駅、バス停、空港等を設定してもよい。 目的地の設定（対象物）は、前述した目的地検索機能（情報検索機能，絞り込み検索機能，なんでも検索機能）によって検索して行う。",
            "出発日時を設定して、時刻表情報に基づいて最も早く目的地に到着する経路を求める表示を行う。また、到着日時を設定して、時刻表情報に基づいて最も遅く出発地を出発する経路を求めて表示する。また、運賃情報に基づいて最も安い運賃で目的地に到着する経路を求めて表示する。また、目的地を複数設定し、その巡回経路（最も早く着く、最も安い運賃でいける等）を求めてもよい。また、前述したいずれの場合においても、２番目以降の経路を求めて表示してもよい。",
            "また、経由地を設定した場合には、その経由地を通過する経路を求める。また、不通路線を設定した場合には、その路線を通過しない経路を求める。 また、表示した経路途中の乗換地点（駅など）や経由地点に関する情報を選択することにより、あるいは地図上の任意の位置を指定することによって、その地点の位置情報を取得し、周辺検索機能などに使用できる。",
            "〔４−１２．ナビゲーション機能〕 次に、ナビゲーション機能について説明する。 ナビゲーション機能は、目的地を任意に設定して（あるいは周辺検索あるいは現在地検索で検索した位置情報、あるいは相手装置が送信してきた位置情報を目的地に設定してもよい）、現在地あるいは委任に設定した地点からのナビゲーション（道案内）を行う機能である。",
            "携帯電話装置１は、操作入力部１０ａの入力操作による指示により、まず目的地を設定して自装置の現在地を取得すると、経路（現在地から目的地までの行き方、道順、ルートとも呼ぶ）の設定を行う。経路の設定は、徒歩、車、バス、電車、車等の移動手段に応じて、その手段に最適な経路を選択する。",
            "例えば、徒歩の場合は、地図情報（地図情報に対応づけられているメタデータ）に基づいて、最も歩く距離が近い経路、曲がる回数が最も少ない経路、歩道がある道路を使用する経路など、またはその組み合わせ等、ユーザの嗜好情報（メニュー表示で選択させる）に応じた経路を求める。 車の場合は、サーバ装置４０（外部装置）から取得した渋滞情報に基づいて経路を探索する。また、地図情報（地図データとメタ情報）に基づいて、なるべく大きな道路、あるいは景観のよい道路を経由するように経路を求める。また、右折あるいは左折が少ない経路を求める。",
            "経路を設定すると、地図情報をサーバ装置４０から受信して表示部１０ｂに表示する。このとき、地図上には自装置の位置（スタート位置）と目的地の位置（ゴール位置）を表示するが、前述した通信端末同士で自分の位置と相手の位置を表示する技術（多者間地図情報表示機能）を適用できる。また、地図上には経路を示す線情報（例えば赤色の太い線）を描画する。更に、目的地までの距離あるいは残距離、残り到着時間、到着時刻、地図の縮尺情報（スケール表示）、方位表示マーク、交差点での曲がる方向、日時情報、警告情報等も表示し、適宜更新する。通常は、２次元の地図情報を表示するが、３次元の地図情報（立体的に描画された地図情報）に表示するように切り替えてもよい。",
            "ナビゲーションをスタートすると、定期的にＧＰＳ手段２０によって自装置の位置を取得し、その位置情報と経路情報（出発地、到着地情報、曲がる位置に関する情報、経路の幅情報等）とに基づいて、目的地に誘導するための各種動作（自装置の位置表示の更新、音声あるいは表示によるガイダンス（次の交差点（曲がり角）を右折する、経路をはずれた等）、目的地に近づいたときに通知する等）を実行する。",
            "なお、移動している自装置の位置情報に基づいて表示する地図情報も移動するように表示してもよい。このとき、自装置の位置を示す自装置マークは一定の位置から動かさないようにする。また、経路から外れた場合には、その位置から目的地まで経路の再設定を行うようにしてもよい。更に、ナビゲーションを行っている最中でも、「周辺検索機能」「現在地検索機能」またはその他の機能を実行できるようにし、その機能が終了したあとに再開できるようにしてもよい。更にまた、複数の目的地を設定してナビゲーションを行うようにしてもよい。この場合、出発地（スタート位置）から最も近い（あるいは最も遠い）目的地を最初に道案内するようにしてもよいし、その順番を任意に設定できるようにしてもよい。",
            "また、実際に位置情報に基づいてナビゲーションを行わずに、シミュレーションを行って、前もってナビゲーションを確認することができる。つまり、位置情報を取得する代わりに、設定した経路に基づいて自装置の位置を所定の速度で移動し、前述した目的地に誘導するための各種動作をバーチャルで行う（シミュレーション）。このように、取得した自装置の位置情報を使用しない以外は、実際のナビゲーションと同様な動作を行う。",
            "さらに、実際に行ったナビゲーションをファイルとして記憶部に記憶しておき、再生するようにできる。これには、ナビゲーションで設定した情報と位置情報取得機能によって取得した自装置の位置情報と関連情報とを記憶しておき、再生するときに、その記憶した情報に基づいてナビゲーションを動作させる。実際には、位置情報とその位置情報の取得した間隔情報（取得した時刻の差）に基づいてナビゲーションのシミュレーション機能を動作させて行う。",
            "さらにまた、擬似的に時間を間引いて、シミュレーション動作を早送りできるようにしてもよい。ファイルは他の装置に送信して、その装置で再生することができる。 位置情報は、ＧＰＳ手段２０のみではなく、複数の基地局からの電波に基づいて取得（基地局による位置取得機能）したり、自走式部（電子コンパスと速度センサを備え、電子コンパスによって自装置の向きを取得し、速度センサによって自装置の進む速度を取得し、その結果に基づいて位置を取得するもの）を搭載して、その出力とＧＰＳ手段２０の出力とに基づいて自装置の位置を取得してもよい。",
            "〔４−１３．位置情報通知機能〕 次に、位置情報通知機能について説明する。 ＧＰＳ手段２０と位置情報送信機能を備えた携帯電話装置１は、所定のコマンド情報（位置情報を送信するように命令する情報）を受信した場合に、位置情報送信機能が、ＧＰＳ手段２０によって取得した位置情報やその関連情報を、コマンド情報を送信した携帯電話装置等の通信装置に返信（相手から受信した相手先識別情報に対して返信）する。なお、所定の別の通信装置に送るようにしてもよい。コマンド情報を送信するときに、同時に自装置の位置情報を送信するようにしてもよい。",
            "所定のコマンド情報を受信する機能（手段）としては、電話機能、メール機能（Ｅメール、ショートメッセージ、Ｃメール等）、ＦＴＰ機能、ＨＴＴＰ機能などがある。 電話機能では、相手通信装置として電話機が使用され、その電話機から携帯電話装置１に発呼することにより、携帯電話装置１が着信して通話路が設定される。この場合に、電話機から所定のＤＴＭＦ信号からなるコマンド情報が送信され、携帯電話装置１はそのＤＴＭＦ信号を検出することにより、その後の動作を行う。",
            "メール機能では、メールの本文あるいはＳｕｂｊｅｃｔにコマンド情報に相当するデータを含ませたものを受信する。あるいは、メールのプロトコルにコマンド情報を含んだメールを受信する。 ＦＴＰ機能、ＨＴＴＰ機能では、そのプロトコルあるいはデータに所定のコマンド情報を含ませたもの、あるいはコマンド情報をデータそのものとしたものを受信する。 なお、携帯電話装置１がコマンド情報を受信したとき、自動で返信する方法と、返信することに同意する操作が操作入力部１０ａで行われた場合に返信する方法がある。 電話機能、メール機能、ＦＴＰ機能、ＨＴＴＰ機能の代わりに、他の公知技術を適用することもできる。",
            "また、携帯電話装置１が所定のコマンド情報を受信した場合に、ＩＣタグ手段２１の利用を禁止あるいはその禁止を解除するものや、操作入力部１０ａの所定の操作入力によってＩＣタグ手段２１の利用を禁止あるいはその禁止を解除するものが考えられる。 さらに、ＧＰＳ手段２０を備えた携帯電話装置１は、所定の条件に基づいて、ＧＰＳ手段２０によって取得した位置情報、位置情報に関連する情報（条件が成立した時刻、位置情報を取得した時刻、所定の情報を送信した時刻、あるいは日時等、あるいは予め記憶しておいた情報（メッセージ、定型文、所定の条件が成立した旨の情報）等の条件が成立した旨を知らせる情報）を、位置情報送信機能によって所定の通信装置（予め記憶している相手先識別情報から選択して設定する）に送信することも考えられる。",
            "さらにまた、所定の条件に基づいて、ＧＰＳ手段２０によって取得した位置情報、位置情報に関連する情報を、記憶部に記憶する位置情報ログ機能（位置情報ログ手段）を携帯電話装置１に備えることも考えられる。または、所定の条件の場合には、自装置の報知機能（報知手段）によって報知（スピーカあるいはブザーによる音、ＬＥＤ等の発光装置による発光、バイブレータによる振動、メッセージの表示等）することも考えられる。",
            "所定の条件としては、携帯電話装置１に備えられたＩＣタグ手段２１が利用された場合や、所定の時間間隔になった場合、所定の年月日、日時、時刻になった場合、所定のコマンド情報、あるいは所定の通信あるいはメールを受信した場合、基地局１００からの電波の強さが変化した場合（あるいは装置からの電波の強さが変化したことを基地局から通知された場合）、基地局の電波が届かなかった（受信できなかった）状態から届くようになった（受信できるようになった）場合などの所定の条件の組み合わせ等が考えられる。",
            "また、別の所定の条件としては、位置領域判断機能（位置領域判断手段）の出力がある。位置領域判断機能は、ＧＰＳ手段２０によって定期的または予め設定された時刻に取得した位置情報が予め設定された位置情報の所定の領域内に入ったかどうか、あるいは出たかどうかを判断するものである。所定の領域を表す方法（方式）としては、位置情報を中心とした所定の半径の領域や、位置情報を中心とした所定の大きさの正方形あるいは長方形の領域等が考えられる。このように表現された領域情報（範囲情報）に、ＧＰＳ手段２０により取得した位置情報がその範囲内に含まれるかどうか、あるいは範囲外であるかどうかを判断する。位置領域判断機能の出力、すなわち領域内や領域外を示す情報が所定の条件として使用される。",
            "また、領域に入ったかどうかは、その直前の位置がその領域外にあり、そして現在の位置がその領域内であること、すなわち領域外から領域内に移動したことを判断して決定してもよい（図２８の（ｂ））。領域から出たかどうかは、その直前の位置がその領域内にあり、そして現在の位置がその領域外であること、すなわち領域内から領域外に移動したことを判断して決定してもよい（図２８の（ａ））。１つの領域内から出て入った場合、またその逆の場合でもよい。",
            "さらに、複数の位置情報を設定し、その各々の位置情報毎に複数の設定（予め設定しておく位置情報（エリア情報）、その位置情報に基づいた領域を示す情報（例えば位置情報と中心としてその半径等で表現する）、位置情報の取得開始時刻、その領域に入ったときに通知するかあるいは出たときに通知するかの設定、エリア通知機能のオンオフの設定等）を可能としてもよい。",
            "さらにまた、複数の位置情報を設定した場合、その複数の領域を通過した場合（図２９）、あるいはその複数の領域を通過して往復した場合（図３０）、他方の領域を出てかつ一方の領域に入った場合などのような組み合わせの設定も可能である。その設定は、位置情報を知らせる携帯電話装置１の操作入力部１０ａを使用して設定してもよいし、あるいは位置情報を知らせる相手端末装置（あるいは遠隔設定が許可されている端末（予め遠隔設定を許可する端末装置の識別情報が設定されている））から遠隔で設定してもよい（遠隔設定機能）。",
            "〔４−１４．位置情報記録機能〕 次に、位置情報記録機能について説明する。 位置情報記録機能は、位置情報を定期的に取得してその結果を記憶部に記憶し、またその結果を表示するものである。 携帯電話装置１は、位置情報記録機能を使用する場合、位置情報を取得する間隔あるいは日時や時刻などの位置情報取得条件を操作入力部１０ａの操作入力による指示によって任意に設定できる。なお、操作入力による位置情報取得開始の指示によって位置情報を定期的に取得する動作を開始し、位置情報取得終了の指示によって位置情報の定期的取得動作を終了するようにしてもよい。",
            "ある条件が成立すると、位置情報取得条件を変更するようにしてもよい。例えば、取得位置情報が、予め設定しておいた領域に入ったりあるいは出たりした場合に、位置情報取得条件を変更する。具体的には、位置情報の取得間隔を１時間に設定していた場合、取得した位置情報が所定の領域に入った場合、位置情報の取得間隔を１０分に変更するなどが考えられる。",
            "携帯電話装置１は、位置情報ログ機能によって、ログ情報を表示部１０ｂに表示する場合、地図データを表示し、その地図データ上に位置情報に基づいた自装置の位置を順次表示するアニメーション機能を備えていてもよい。 位置情報ログ機能は、所定の条件が成立する毎に、ＧＰＳ手段２０を使用して位置情報を取得し、それをログ（履歴）として記憶部に記憶するものである。記憶したログはまとめて他の通信装置に送信することもできる。あるいは、自装置の表示部１０ｂに表示することもできる。",
            "携帯電話装置１が位置情報ログ機能と後述する電波時計機能（電波時計手段）とを備え、位置情報ログ機能が、ＧＰＳ手段２０によって取得した位置情報と電波時計機能によって取得した時刻情報とをログとして記憶部に記憶することもできる。これにより、正確な時刻を記録することができる。 また、条件成立した旨の情報を受信する携帯電話装置１は、その受信した通信に関する履歴（通信日時、受信した情報等）を記憶することができる。",
            "〔４−１５．緊急時の位置通知機能〕 次に、緊急時の位置通知機能について説明する。 図３１は、携帯電話装置１による緊急時の位置通知処理の一例を示すフローチャートである。 携帯電話装置１は、所定タイミングで図３１の処理ルーチンをスタートし、まずステップＳ４１で位置情報取得機能によって自装置の位置情報を取得し、ステップＳ４２でその位置情報に基づいて自装置の移動速度を算出し、ステップＳ４３でその算出結果に基づいて自装置の移動態様（徒歩、自転車、車、バス、列車、又は飛行機等での移動中）を検出（予測判断）し、ステップＳ４４でその検出結果に応じて通知処理を行う。 する。",
            "具体的には、操作入力部１０ａの入力操作によって予測判断開始が指示された場合あるいは開始命令を含んだ信号を外部装置（他の通信装置）から受信した場合に、所定の時間間隔で位置情報取得機能によって自装置の位置情報を取得し、その位置情報が表す位置間の距離と所定の間隔時間に基づいて移動速度を測定（検出）し、その移動速度と予め記憶してある速度と移動態様の対応関係に基づいて自装置の移動態様（移動状態、移動手段）を予測判断する。例えば、記憶部に図３２に示すような移動速度と移動態様との対応関係を示すデータテーブルが記憶保持されている場合、測定した移動策度が時速３０Ｋｍ〜８０Ｋｍであれば、移動手段は「車」と判断できる。",
            "そして、その移動手段が「車」の場合（車と判断した場合には通知するように予め設定されている）には、所定の宛先にその旨を電子メールで通知する。そのようにすれば、携帯電話装置１を持っているユーザの状態を知ることができる。また、子供が車で連れ去られた場合、そのことも検知することができる。 なお、予め設定しておいた基地局以外の基地局の圏内（通話エリア）に入った場合、例えば設定した基地局以外の基地局に位置登録された場合に、それを判断した基地局（又は外部装置）あるいは自装置が所定の宛先にメール通知するようにしてもよい（図３３）。",
            "また、位置情報取得機能を用いた予測に代えて、自装置の加速度センサの出力パターンに基づいて自装置の移動態様を予測してもよい。 あるいは、携帯電話装置１が撮影手段１４（カメラ手段）を備えているため、緊急時と判断した場合（加速度センサーの出力が所定のパターンの場合、自装置の移動速度が所定の速度の場合、操作入力部１０ａ上の緊急ボタンや電源オフボタンが押された場合、又は加速度センサの出力が所定の出力になった場合等）に、自動的に所定の時間間隔で被写体を撮影するとともに、その画像を所定の通信装置に送信することも考えられる。",
            "この場合の携帯電話装置１は、時計機能（時計手段）、撮影機能（カメラ手段）、送信機能（送信手段）を備え、それぞれは現在の公知技術を適用できる。所定の時間間隔や所定の通信装置に送信するための所定の通信アドレスは、予め設定することができる。また所定の時間間隔の代わりに、予め設定した１以上の所定の時刻になると撮影し、画像を送信してもよい。あるいは、必ずしも撮影が行われるたびに画像を送信する必要はなく、画像の量が所定の量（所定の画像枚数、所定の画像の総データ量）に達した場合に、送信するようにしてもよい。また、携帯電話装置１に電源アダプタが接続されている場合に、撮影と画像の送信動作を行うようにしてもよい。従って、電源アダプタが接続されていなければ、自動的に撮影は行わない。これは、撮影する場合はかなり大きな消費電力を必要とする場合があり、そのためにバッテリ不足になるのを防ぐためである。カメラ付きの携帯電話装置１は、監視モニターとして使用したいという課題を解決することもできる。",
            "〔４−１６．接近通知機能〕 次に、接近通知機能について説明する。 携帯電話装置１は、例えば第１の外部装置と第２の外部装置と通信回線（通信ネットワーク）を介して接続されている場合、自装置の位置に基づいた位置情報を第１の外部装置の記憶部に記憶させる位置情報記憶制御機能（位置情報記憶制御手段）と、第１の外部装置の記憶部に記憶された位置情報が所定の条件を満足（充足）した場合に、第１の外部装置又は第２の外部装置からその旨の通知を受信（取得）する受信機能（受信手段）とを備えている。なお、第１の外部装置と第２の外部装置は同一の装置であってもよい。また、第１の外部装置および第２の外部装置は、ＣＰＵ，ＲＯＭ，ＲＡＭを含む制御部と、ＨＤＤ等の記憶部（不揮発性の記憶部）を備えている。ＣＰＵが実行するプログラムは、ＲＯＭ又は記憶部に記憶保持されている。",
            "図３４は、携帯電話装置１による接近通知処理の一例を示すフローチャートである。 携帯電話装置１は、操作入力部１０ａの入力操作による指示によって接近通知機能の利用設定を行った後、定期的に図３４の処理ルーチンをスタートし、まずステップＳ５１で自装置の位置に基づいた位置情報を第１の外部装置の記憶部に記憶させ、ステップＳ５２でその位置情報が所定の条件を満足した旨の通知を待ち、その通知を第１の外部装置又は第２の外部装置から受けると、ステップＳ５３でその通知の内容を表示部１０ｂに表示する。なお、その通知をスピーカ部１１ｂによって音声出力することもできる。",
            "ここで、位置情報は、携帯電話装置１の位置登録のために基地局側の第１の外部装置（管理装置）の記憶部（ホームメモリ）に記憶登録されている情報であり、携帯電話装置１の識別情報と位置登録の対象となっている基地局（携帯電話装置１があるエリアの基地局）の情報（例えば、基地局Ａ、基地局Ｂ等の基地局を区別するための識別情報等）から構成される。 携帯電話装置１は、接近通知機能を利用（使用）する場合には、操作入力部１０ａの操作入力による対応する指示により、対象となる自装置の識別情報、条件として予め設定される基地局の情報（複数の基地局であってもよい）、条件が一致あるいは部分一致した場合（携帯電話装置１の位置情報が所定の条件を充足した場合）に、その旨を通知する先の通信装置（対象となる携帯電話装置１でもよい）の識別情報を、基地局側の第１の外部装置の記憶部に記憶させる。",
            "その後、第１の外部装置は、対象となる携帯電話装置１の位置登録動作に基づいて更新される位置情報を監視あるいは取得し、それが予め設定されている携帯電話装置１の識別情報であれば、予め設定（記憶）されている位置情報と比較して一致あるいは部分一致した場合には、予め設定しておいた通知先の通信装置にその旨を直接又は第２の外部装置（他の基地局側）を介して電子メールにより通知する。具体的には、設定された通知先の通信装置の識別情報が位置登録されている基地局が、予め設定されていた１以上の基地局の中に含まれていた場合に通知する。",
            "なお、２つの通信装置（携帯電話装置１を含む）間の距離あるいは通信装置間の位置関係がある程度近くなった（接近した）と判断できた場合に、その旨を自装置あるいは相手装置にその旨を通知してもよい。 具体例としては、自装置と相手通信端末装置の端末識別情報（識別番号、電話番号、シリアル番号、製造番号、アドレス等）を基地局側に予め登録しておき、各々の装置が現在通信接続している（位置登録している）基地局が同一（お互いに同じ基地局のエリアに入った場合）になった場合、あるいは各々の装置が現在通信している基地局が隣り合っている場合など、通信している（あるいは位置登録している）基地局間の関係（基地局間の距離に相当する情報）が所定の条件を満足した場合に、それを検知した基地局側の装置から各々の通信装置にその旨を通知（あるいは所定の情報を送信）する。",
            "通知する条件（同一の基地局と通信したとき、通信エリアが隣り合った基地局と通信したとき等、通信している基地局間の関係が所定の条件を満足する場合）やその機能の有効無効は各通信装置から設定することができる。このように近くなったかどうかの判断の対象を、実際の装置間の距離ではなく、基地局との関係で代用しているが、実際の距離を測定して判断してもよい。",
            "上記通知を受けたおのおのの通信装置は、自装置のＧＰＳ手段によって自装置の位置情報を取得して相手装置に位置情報を送信し、受信した相手装置の位置情報に基づいて地図情報上に相手装置と自装置の位置を表示する。そして、その後定期的に自装置の位置情報を相手装置に送信し続ければ（位置情報の送信を継続すれば）、ほぼリアルタイムで相手装置と自装置の位置を自装置の表示部に表示することができる。そして、これに前述したナビゲーション機能を適用すれば、お互いに移動しながら通信装置間でナビゲーションを行うことができる。",
            "また、ＧＰＳ手段が取得する位置情報を使用せずに、基地局が取得した位置情報を使用する場合も考えられる。これは、基地局側の装置（管理装置）において、予め登録されている通信装置の位置情報が所定の条件になった場合に、その旨を各通信装置に通知するものである。所定の条件とは、一方の位置情報に基づいた領域（所定の半径の円内）に、他方の位置情報による位置がその領域内に入った（含まれた）場合、あるいはお互いの領域が重なった場合、お互いの位置間の距離が所定の距離（あるいは所定の距離以下）になった場合などが考えられる。 あるいは、基地局側ではなく、各通信装置側でお互いの位置情報に基づいて所定の条件になったかどうかを判断してもよい。 また、２者間に限らず３以上の通信装置においても適応可能である。",
            "〔４−１７．位置情報を利用したセキュリティ機能〕 次に、位置情報を利用したセキュリティ機能について説明する。 図３５は、携帯電話装置１による位置情報を利用したセキュリティ処理の一例を示すフローチャートである。",
            "携帯電話装置１は、操作入力部１０ａの入力操作による指示によって位置情報を利用したセキュリティ機能の利用設定を行った後、定期的に図３５の処理ルーチンをスタートし、まずステップＳ６１で自装置の位置に基づいた位置情報を第１の外部装置の記憶部に記憶させ、ステップＳ６２でその位置情報が所定の条件を満足した旨の通知を待ち、その通知を第１の外部装置又は第２の外部装置から受けると、ステップＳ６３で自装置の操作が行えないように自装置の動作をロック（禁止）する。このとき、その旨を表示してもよい。あるいは、位置情報が所定の条件を満足した旨を表示してもよい。",
            "例えば、自装置の現在位置が所定の領域内に入った場合あるいは出た場合に、自装置の操作が行えないように装置の動作をロックする。あるいは、予めロック（所定の機能を使えないようにする）される機能として設定されている機能（例えば電話機能、電子マネーに関する機能、又は決済に関する機能等のセキュリティが必要な機能、電子定期券機能、あるいは電子乗車券機能）をロックするようにしてもよい。",
            "ここで、所定の領域内にいるか外にいるかの判断に関する技術としては、前述した技術（基地局の位置登録情報やＧＰＳの位置情報等を使用した技術）を利用することができる。 なお、所定の領域に入って（出て）ロックされた場合、その所定の領域から出た（入った）場合に、ロックを（自動的に）解除するようにしてもよい。 また、所定の領域は複数設定できる。入った場合にロックするか、あるいは出た場合にロックするかも設定できる。複数の領域と出入りのパターンの組み合わせることも可能である。",
            "〔４−１８．位置情報を利用したプレゼンス機能〕 次に、位置情報を利用したプレゼンス機能について説明する。 図３６は、携帯電話装置１による位置情報を利用したプレゼンス処理の一例を示すフローチャートである。 携帯電話装置１は、操作入力部１０ａの入力操作による指示によって位置情報を利用したプレゼンス機能の利用設定を行った後、定期的に図３６の処理ルーチンをスタートし、まずステップＳ７１で位置情報取得機能によって自装置の位置情報を取得する。",
            "次に、ステップＳ７２でその位置情報に基づいて自装置の状態情報（プレゼンス機能のステータス情報）を割り当て、ステップＳ７３で予め設定してある他の携帯電話装置（他の通信装置でもよい）からの状態情報取得の命令情報の受信を待ち、その命令情報を受信いると、ステップＳ７４で先に割り当てた自装置の状態情報を命令情報の送信元へ送信する。",
            "具体的には、例えば、自装置の記憶部に予め所定の位置情報（自宅、会社の位置情報）を記憶登録しておき、位置情報取得機能によって取得した自装置の位置情報が自宅の位置情報を含む所定の領域内にある場合には「在宅」というステータス情報を、会社の位置領域内にある場合には「仕事中」というステータス情報を、自宅でも会社でもない場合には「外出中」というステータス情報をそれぞれ割り当てる。また、前述した「移動態様」をステータス情報とすることも可能である。",
            "そして、それらのステータス情報を取得することが許される他の携帯電話装置（端末装置）の端末識別情報を予め記憶部に記憶しておき、プレゼンス機能のステータス情報を取得する命令情報（コマンド情報）と端末識別情報を他の携帯電話装置から受信したとき、その端末識別情報が予め記憶していた端末識別情報であった場合、ステータス情報をその携帯電話装置に送信する。もちろん、記憶されていない携帯電話装置であってもステータス情報を送信するようにしてもよい。また、前述した命令情報を受信しなくても、ステータス情報を送信するようにしてもよい。",
            "〔４−１９．アプリケーションのダウンロード機能〕 次に、アプリケーションのダウンロード機能について説明する。 図３７は、携帯電話装置１によるアプリケーションのダウンロード処理の一例を示すフローチャートである。",
            "前述した各機能は、予め携帯電話装置１に内蔵されている記憶部に記憶されたことを前提としていたが、所定の機能が選択されて実行する操作が行われた場合、その機能の実行に必要なアプリケーションソフトウェア（プログラム）をサーバ装置４０からダウンロードして動作させるようにすることができる。この場合、アプリケーションをダウンロードするようにするための最低限のソフトウェア（例えばウェブブラウザ）を携帯電話装置１の記憶部に記憶しておくだけでよい。",
            "携帯電話装置１は、操作入力部１０ａの入力操作による指示によってアプリケーションダウンロード機能の利用設定を行うと、図３７の処理ルーチンをスタートし、まずステップＳ８１で操作入力部１０ａに操作ガイダンスを表示する。 そして、ステップＳ８２で操作入力部１０ａの入力操作による機能の選択の指示を待ち、操作ガイダンス上のいずれかの機能のアイコン（ボタン）の押下によってその機能の選択が指示されると、ステップＳ８３でその指示された機能を選択し、ステップＳ８４でその選択した機能のアイコンを表示部１０ｂに表示する。 そして、ステップＳ８５でアイコンの指定（押下）を待ち、そのアイコンが指定されて実行が指定されると、ステップＳ８６で対応する処理を行う。",
            "例えば、地図情報表示機能、周辺検索機能、ナビゲーション機能の複数の機能から構成される総合ナビゲーション機能の選択が指示されると、その総合ナビゲーション機能を選択し、対応する実行アプリケーションにより、図３８に示すように、その３つの機能のアイコンを表示部１０ｂに表示する。",
            "そして、例えば周辺検索機能のアイコンが指定されて実行が指定されると、その周辺検索機能を実現するためのアプリケーション（ソフトウェア）が自装置の記憶部に記憶されているかどうかを調査し、記憶されていればそのアプリケーションを実行し、記憶されていなければサーバ装置４０に記憶されているアプリケーション（周辺検索機能を実現するためのアプリケーション）を自装置のアプリケーションを実行するための記憶部（実行メモリ）にダウンロードしてから、そのアプリケーションを実行する。このとき、自装置の記憶部にそのアプリケーションを記憶保持するようにして、次回からはその記憶保持したアプリケーションを使用するようにしてもよい。",
            "また、地図情報、位置情報やその他のデータを受信しているとき、あるいはあるアプリケーションを実行しているときに、別のアプリケーションをダウンロードしてもよい。例えば、周辺検索機能が使用されれば、次にはナビゲーション機能が使用されると推測できるように、次に使用されるだろうと推測したアプリケーションをダウンロードする。この推測は、所定のアプリケーションとダウンロードするアプリケーションを対応づけた情報に基づいて行う。 なお、以上の各機能を以下に示すようなＩＰ（Internet Protocol）を使用したＩＰ携帯電話装置に持たせることもできる。",
            "〔第２実施形態〕 次に、第２実施形態について図３９に基づいて説明する。この第２実施形態は、ＩＰ携帯電話装置を適用したものである。 〔５．ＩＰ携帯電話装置５００の構成〕 図３９はこの発明の第２実施形態であるＩＰ携帯電話装置５００の内部構成例を示すブロック図であり、図１と対応する部分には同一符号を付して詳しい説明を省略する。",
            "このＩＰ携帯電話装置５００には、図３９に示すように、各部を集中的に制御するＣＰＵ２が備えられており、このＣＰＵ２からのシステムバス２７には、ＲＯＭ３、フラッシュＲＯＭ４、およびＲＡＭ５の各半導体メモリが接続されている。また、ＣＰＵ２からのシステムバス２７には、操作入力・表示部１０、通話部１１、画像処理回路１３、ＧＰＳ手段２０、ＩＰ部５０１も接続されている。",
            "ＩＰ部５０１は、ＩＰ手段５０１ａと基地局用無線Ｉ／Ｆ手段５０１ｂとＬＡＮ用無線Ｉ／Ｆ手段５０１ｃとから構成されている。基地局用無線Ｉ／Ｆ手段５０１ｂは、ＩＰ携帯電話装置５００と基地局との間でＩＰ（Internet Protocol）を使用した無線交信を行うＩ／Ｆである。ＬＡＮ用無線Ｉ／Ｆ手段５０１ｃは、ＩＰ携帯電話装置５００とＬＡＮ用無線基地局との間でＩＰ（Internet Protocol）を使用した無線交信を行うＩ／Ｆである。",
            "ここで、従来においては、基地局用無線Ｉ／Ｆ手段は、専用のプロトコルが使用されていたが、基地局側から通信相手装置の間にインターネット網やＩＰ網を使用するケースが増えている。更に、ＬＡＮ用のプロトコルはもともとＩＰが使用されていることから、基地局用無線Ｉ／Ｆ手段もＩＰ化することができると、部品の共通利用によりコストダウンが見込める。そこで、この第２実施形態では、基地局用無線Ｉ／Ｆ手段５０１ｂとＬＡＮ用無線Ｉ／Ｆ手段５０１ｃにＩＰを使用する。また、現在の無線ＬＡＮ規格（ＩＥＥＥ８０２．１１、Ｗｉ−Ｆｉ等）の代わりに、次世代の無線ＬＡＮ規格であるＷｉＭＡＸ（ワイマックス）あるいはモバイルＷｉＭＡＸ（Worldwide Interoperability for Microwave Access、ＩＥＥＥ８０２．１６）を使用してもよい。",
            "ＩＰ手段５０１ａは、音声に使用するＶｏＩＰ手段と、データ通信に使用するデータ用ＩＰ手段の２種類がある。ＶｏＩＰ手段は、通話回路１１ｃから送られてきたアナログの音声信号をデジタルデータに変換し、更に必要であれば符号化圧縮する。そして、ＶｏＩＰ手段は、音声信号データを送信用のＩＰパケットに埋め込み、順次基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃに送り出す。また、ＶｏＩＰ手段は、基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃから入力される受信用のＩＰパケットから音声信号データを取り出し、必要であれば復号伸張し、更にデジタルの音声信号データをアナログの音声信号に変換し、通話回路１１ｃに送出する。データ用ＩＰ手段の場合は、ＶｏＩＰ手段の通話回路１１ｃの代わりに、例えばＲＡＭ５と入出力を行ってもよいし、専用のデータ処理機能（データ処理手段）を備えてもよい。",
            "また、ＩＰ手段５０１ａは、画像データを送信用のＩＰパケットに埋め込み、基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃに送り出す。ＩＰ手段５０１ａは、基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃから入力される受信用のＩＰパケットから画像データを取り出してＲＡＭ５や、画像処理回路１３へ出力する。",
            "さらに、ＩＰ手段５０１ａは、呼制御を行うための制御用ＩＰパケットを組立て、順次基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃに送り出す。更に、基地局用無線Ｉ／Ｆ手段５０１ｂまたはＬＡＮ用無線Ｉ／Ｆ手段５０１ｃから入力される受信した制御用ＩＰパケットを解析するために分解する。このような制御用ＩＰパケットの送出、受信は、ＩＰ手段５０１ａとは独立した別の手段で構成してもよい。なお、ＩＰ手段５０１ａの動作制御は、専用のＬＳＩを使用してもよい。",
            "なお、各実施形態では、サーバ装置（外部装置）から受信する情報は、主に地図情報（地図データ）と複数の位置情報がある。各々の位置情報は、地図情報上の座標と対応付けられているものである。これによって、携帯電話装置（端末装置）において地図上の任意の位置を指定したとき、その位置が所定の範囲内の位置であった場合には、その指定した位置の座標に対応する位置情報（受信した複数の位置情報のうちから１つの位置情報）を特定することができる。そして、その位置情報をサーバ装置に送信することにより、その位置情報に基づいた情報をサーバ装置から受信することができる。また、地図上で任意に指定した位置に対応する位置情報を特定することも、その座標データを位置情報に変換することで可能である。",
            "また、サーバ装置から地図情報のみを受信し（位置情報は受信しない）、その地図情報上の位置（座標情報）から位置情報を求めるようにしてもよい。 この実施形態では、携帯電話装置は基地局側の装置とデータの送受信を行っているが、その装置を内蔵して、すなわち携帯電話装置に内蔵した装置（前述した基地局側の装置、サーバ装置、記憶装置、データベース、位置情報の計算装置等）との間でデータの送受信を行ってもよい。また、外部装置は、携帯電話装置に外付けされた記憶装置、あるいは自装置に内蔵された記憶装置でもよい。 さらに、各実施形態では、「位置情報」なる用語を使用しているが、これは単に緯度経度で表現した情報のみに限定するものではなく、以下の（１）〜（７）に示すような情報でもよく、あるいはそれらをすべて含んだ広い意味で使用しているものである。",
            "（１）緯度経度情報の算出の基になる情報 （２）緯度経度で表現した情報を含んだ情報 （３）緯度経度で表現した情報に基づいた情報 （４）緯度経度情報を含んだＵＲＬ（あるいはＵＲＩ）形式等のように情報の記憶場所を表す形式で表現した情報 （５）住所、郵便番号、電話番号で表現した情報 （６）地図情報（あるいは地図データ）上の座標で表現した情報 （７）通信エリア等の基地局の識別情報",
            "さらにまた、前述した機能において取得された位置情報はどれも、他の機能に入力する位置情報として使用あるいは再利用できる。 また、各実施形態で、「基地局側」あるは「通信回線側」という用語を使用しているが、これは携帯電話装置（通信端末装置）を除いた通信回線上にある装置のいずれかの装置という意味である。つまり「基地局側あるいは通信回線側へ送信する」とは、具体的には「通信を行うための設備（基地局、交換局、サーバ装置４０、その他の装置）や相手先通信装置へ送信する」すなわち「自装置から他装置へ送信する」ということである。",
            "また、ＧＰＳ手段に代えて、複数の基地局との通信状態の基づいて、携帯電話装置の位置情報を取得する手段を用いることもできる。 さらに、各実施形態では、メモリカードＩ／Ｆ手段やＩＣタグリーダ手段等を備えた携帯電話装置、ＩＰ携帯電話装置を挙げたが、通信装置としてはその他に移動無線機、無線ＬＡＮを使用したＩＰ電話、ＩＰテレビ電話、ＩＰ通信端末装置、一般加入者電話機、通信機能付コンピュータ、携帯電話、ＰＨＳ、ＰＤＡ、腕時計等の通信機能を備えた通信装置があり、それぞれの通信装置が使用できる通信プロトコルを使用して実施可能である。",
            "これらの通信装置の記憶部（記録媒体）としては、装置に内蔵可能なＥＥＰＲＯＭ等の半導体メモリ、ＨＤＤや、ＣＤ−ＲＯＭ，フレキシブルディスク，ＭＯ，ＣＤ−Ｒ，ＣＤ−ＲＷ，ＤＶＤ＋Ｒ，ＤＶＤ＋ＲＷ，ＤＶＤ−Ｒ，ＤＶＤ−ＲＷ，ＤＶＤ−ＲＡＭ等の各光ディスクをそれぞれ挿着できる各ドライブ装置があり、装置に外部付けできるＩＣカードメモリ、ＨＤＤや、上述した各ドライブ装置がある。 ぞれぞれの通信装置の構成は公知であるため、ブロック図による図示は省略するが、この発明の特徴に係る手段は前述した実施形態と同様に備えている。",
            "また、本文中に記載があって、特にブロック図に図示していない「〜手段」は、ソフトウェア（プログラム）で実現するものに限るものではなく、専用ハードウェアで構成されているか、あるいはＣＰＵ，ＲＯＭ，ＲＡＭと若干のハードウェアで構成されているものであってもよい。",
            "さらに、各実施形態および各構成は、この発明の特徴を備えている限り適宜組み合わせ可能であり、１つの実施形態の中で直接言及していない他の実施例および構成も適用可能である。多数の機能が本明細書に記載されているため、その全ての組み合わせの説明とその効果を記載することは事実上不可能であるが、その組み合わせの具体的な実施と効果については当業者が想定できものは、本明細書に記載されているものとみなすことができるのは言うまでもないことである。",
            "さらにまた、各実施形態において複数の要素（構成）を持つ場合には、その要素の数は本実施例に記載している要素の数には限定されるものではない。 また、各実施形態中に記述したプログラムは、ＪＡＶＡ（登録商標）等のようにＣＰＵあるいはＯＳに依存しないプログラム言語で作成してもよい。"
        ]
    },
    "abstract": "【課題】 位置情報を利用して携帯電話装置等の通信装置の利便性を向上させる。【解決手段】 携帯電話装置１のＣＰＵ２は、携帯電話装置１の位置に基づいた位置情報を無線通信手段１２によって外部装置に記憶させ、その位置情報が所定の条件を充足した場合（例えば予め記憶された位置情報と一致あるいは部分一致した場合）に、その外部装置からその旨の通知を受信し、その通知内容を操作入力・表示部１０上に表示する。あるいは、スピーカ部１１ｂによって音声出力する。【選択図】 図１"
}